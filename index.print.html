<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.120.4">
    <meta name="generator" content="Relearn 5.23.2+tip">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Maloudown">
    <meta name="twitter:description" content="">
    <meta property="og:title" content="Maloudown">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wungmeisilong.github.io/">
    <meta property="og:site_name" content="Maloudown">
    <title>Maloudown</title>
    <link href="https://wungmeisilong.github.io/" rel="alternate" hreflang="x-default">
    <link href="https://wungmeisilong.github.io/" rel="alternate" hreflang="zh">
    <link href="https://wungmeisilong.github.io/pir/" rel="alternate" hreflang="pir">
    <link href="https://wungmeisilong.github.io/" rel="canonical" type="text/html" title="Maloudown">
    <link href="./index.xml" rel="alternate" type="application/rss+xml" title="Maloudown">
    <link href="./images/favicon.png?1720924551" rel="icon" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="./css/fontawesome-all.min.css?1720924552" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fontawesome-all.min.css?1720924552" rel="stylesheet"></noscript>
    <link href="./css/nucleus.css?1720924552" rel="stylesheet">
    <link href="./css/auto-complete.css?1720924552" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/auto-complete.css?1720924552" rel="stylesheet"></noscript>
    <link href="./css/perfect-scrollbar.min.css?1720924552" rel="stylesheet">
    <link href="./css/fonts.css?1720924552" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fonts.css?1720924552" rel="stylesheet"></noscript>
    <link href="./css/theme.css?1720924552" rel="stylesheet">
    <link href="./css/theme-auto.css?1720924552" rel="stylesheet" id="R-variant-style">
    <link href="./css/variant.css?1720924552" rel="stylesheet">
    <link href="./css/print.css?1720924552" rel="stylesheet" media="print">
    <link href="./css/format-print.css?1720924552" rel="stylesheet">
    <link href="./css/ie.css?1720924552" rel="stylesheet">
    <script src="./js/url.js?1720924552"></script>
    <script src="./js/variant.js?1720924552"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="./index.search.js";
      var root_url="./";
      var baseUri=root_url.replace(/\/$/, '');
      window.relearn = window.relearn || {};
      window.relearn.baseUriFull='https:\/\/wungmeisilong.github.io/';
      // variant stuff
      window.variants && variants.init( [ 'auto', 'zen-light', 'zen-dark', 'neon', 'zen-light' ] );
      // translations
      window.T_Copy_to_clipboard = `复制到剪贴板`;
      window.T_Copied_to_clipboard = `复制到剪贴板！`;
      window.T_Copy_link_to_clipboard = `将链接复制到剪贴板`;
      window.T_Link_copied_to_clipboard = `链接复制到剪贴板！`;
      window.T_Reset_view = `重置视图`;
      window.T_View_reset = `查看重置！`;
      window.T_No_results_found = `找不到"{0}"的结果`;
      window.T_N_results_found = `为"{0}"找到 {1} 个结果`;
    </script>
  </head>
  <body class="mobile-support print" data-url="./">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
              <button class="topbar-control" onclick="toggleNav()" type="button" title="导航 (CTRL&#43;ALT&#43;n)">
                <i class="fa-fw fas fa-bars"></i>
              </button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Maloudown</span><meta itemprop="position" content="1"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable home" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="home">
            <header class="headline">
            </header>
<h1 id="maloudown">Maloudown</h1>

<form action="../search.html" method="get">
<div class="searchform">
  <label class="a11y-only" for="R-search-by-detail">Search</label>
  <input data-search-input="" id="R-search-by-detail" class="search-by" name="search-by" type="search" placeholder="搜索..." _mstplaceholder="99723"><span class="btn cstyle interactive secondary"><button onclick="" type="submit"><i class="fa-fw fas fa-search"></i> <span class="title">搜索</span></button></span>
</div>
</form>
<p>欢迎来到我的个人博客网站……</p>
<p><a href="#R-image-294c385a76b3759059763dad97a1b67f" class="lightbox-link"><img src="./image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-294c385a76b3759059763dad97a1b67f"><img src="./image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-8c125578a5c8cc3746ba53febc518b9d" class="lightbox-link"><img src="./logo.jpg?height=380px&amp;width=20vw" alt="alt text" class="figure-image        " style="height: 380px; width: 20vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8c125578a5c8cc3746ba53febc518b9d"><img src="./logo.jpg?height=380px&amp;width=20vw" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-4ef2a71849d1376c0e23c7c0cecb1821" class="lightbox-link"><img src="./image.png?height=150px&amp;width=10vw" alt="alt text" class="figure-image        " style="height: 150px; width: 10vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4ef2a71849d1376c0e23c7c0cecb1821"><img src="./image.png?height=150px&amp;width=10vw" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><img src="https://octodex.github.com/images/parentocats-first_day.png?lightbox=false&amp;bg-white=true" alt="Spock" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Maloudown 的子部分</h1>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="一博客文章">一、博客文章</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/">1.文章</a><ul>
	
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/14.%E5%88%9D%E6%AC%A1%E5%AE%89%E8%A3%85ad%E9%9C%80%E8%A6%81%E5%81%9A%E5%93%AA%E4%BA%9B%E8%AE%BE%E7%BD%AE/">14.初次安装AD需要做哪些设置？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/">13.物联网网络安全论</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">12.嵌入式系统设计知识点</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">物联网应用系统设计</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/">10.云端一体化的环境变量问题</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/">9.云端一体化如何查看云函数日志？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/">8.速通ArkTS语言</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/6.github%E5%92%8Catomgit%E7%9A%84%E6%B7%B7%E5%90%88%E4%BD%BF%E7%94%A8%E9%82%A3%E4%BA%9B%E6%98%AF%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84/">6.github和atomgit的混合使用，哪些是值得注意的？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/">5.自定义页面以康奈尔笔记格式输出</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/4.%E5%A6%82%E4%BD%95%E5%9C%A8github%E4%B8%8A%E4%BD%BF%E7%94%A8%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2%E6%90%9C%E5%87%BA%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E9%A1%B9%E7%9B%AE/">4.如何在github上使用高级搜索搜出自己想要的项目？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/">文章标题的多样设计</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/github%E5%B8%B8%E9%81%87%E9%97%AE%E9%A2%98/">Git常遇问题</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/">如何用旧电脑搭建自己的服务器？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/experimence/">创建hugo静态网站的经历</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/1.%E5%B8%B8%E7%94%A8%E6%A8%A1%E7%89%88/">网站内常用到的模版</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/2.%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA/">网站的目录与子目录创建</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/2.androidstudio/">2.AndroidStudio</a><ul>
	
<li><a href="./branch-bundle-1/2.androidstudio/androidstudio%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">AndroidStudio</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/2.androidstudio/%E7%AC%94%E8%AE%B0/">AndroidStudio笔记</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/2.androidstudio/toolbar/">2-1.Toolbar工具栏</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/3.stm32_rfid/">3.STM32_RFID</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/4.esp8266_wifi/">4.Esp8266_WiFi</a><ul>
	
<li><a href="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/">物联网通信技术-小知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/5.cc2530_zigbee/">5.CC2530_ZigBee</a><ul>
	
<li><a href="./branch-bundle-1/5.cc2530_zigbee/experiment2/">实验2 IO端口输出实验</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/6.arduino/">6.Arduino</a><ul>
	
<li><a href="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">物联网控制-小知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/7.%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">7.物联网工程</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/8.51%E5%8D%95%E7%89%87%E6%9C%BA/">8.51单片机</a><ul>
	
<li><a href="./branch-bundle-1/8.51%E5%8D%95%E7%89%87%E6%9C%BA/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">9.操作系统</a><ul>
	
<li><a href="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">Linux期末复习</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/10.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">10.微信小程序</a><ul>
	
<li><a href="./branch-bundle-1/10.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/">11.哲学</a><ul>
	
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BF%83%E7%BB%8F/">心经</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%AF%AD%E8%A8%80%E6%98%AF%E6%B2%A1%E6%9C%89%E8%BE%B9%E7%95%8C%E7%9A%84/">思想的边界</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BA%84%E5%AD%90%E4%B9%8B%E9%81%93/">庄子之道</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a><ul>
	
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2%E7%9A%84%E4%B8%BB%E8%A6%81%E5%90%AB%E4%B9%89/">如何理解费尔巴哈提纲的主要含义？</a><ul>
	</ul></li></ul></li></ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/">12.实战项目</a><ul>
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/">贺青工程</a><ul>
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E5%B0%8F%E7%A8%8B%E5%BA%8Fui%E8%AE%BE%E8%AE%A1/">志愿活动软件设计与开发</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/">验收问题</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/">毕业设计</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/">电赛</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/">唛盟杯比赛详记</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">13.计算机组成原理</a><ul>
	
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%BF%87%E5%B9%B4/">过年</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/">计算机组成原理-复习</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/">14.电子电路</a><ul>
	
<li><a href="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/">模拟电子技术基础笔记</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/15.%E5%A4%96%E8%AF%AD%E7%B1%BB/">15.外语类</a><ul>
	
<li><a href="./branch-bundle-1/15.%E5%A4%96%E8%AF%AD%E7%B1%BB/%E8%8B%B1%E8%AF%AD/">英语</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/">16.考试类</a><ul>
	
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/">教资 小学</a><ul>
	
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/markmap.mm/"></a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/markmap1.mm/"></a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/%E7%A7%91%E7%9B%AE%E4%B8%80.mm/"></a><ul>
	</ul></li></ul></li></ul></li>
</ul>
<p><a href="https://blog.csdn.net/m0_52062236/article/details/124314161" target="_blank">常用的数学表达</a></p>
<p><a href="https://blog.csdn.net/m0_37167788/article/details/78603307" target="_blank">常用箭头</a></p>
<p><a href="https://blog.csdn.net/u012028275/article/details/119839411" target="_blank">常用函数图像公式</a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">一、博客文章 的子部分</h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 1</div>
<h1 id="1文章">1.文章</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/14.%E5%88%9D%E6%AC%A1%E5%AE%89%E8%A3%85ad%E9%9C%80%E8%A6%81%E5%81%9A%E5%93%AA%E4%BA%9B%E8%AE%BE%E7%BD%AE/">14.初次安装AD需要做哪些设置？</a><p>设置自动保存 打开程序点击系统设置，如下图： 按照下图步骤设置自动保存，每10分钟保存一次（你也可以设置成其他的，但不建议设置太小或太大比如1分</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/">13.物联网网络安全论</a><p>物联网主要解决什么问题?- 主要解决物品到物品（T2T）、人到物品（H2T）、人到人（H2H）之间的互联，核心共性技术、网络与信息安全技术、以</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">12.嵌入式系统设计知识点</a><p>基于Cortex-A9微处理器的硬件平台 RISC和CISC RISC是精简指令集计算机，CISC是复杂指令集计算机 RISC（精简指令集计算机，</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">物联网应用系统设计</a><p>物联网结构系统与传统网路系统的区别 前者由三个部分构成 信息物品 自主网络 智能应用 需求分析 基本概念 需求规格说明：开发、测试、质量保证、项目管理以及</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/">10.云端一体化的环境变量问题</a><p>参数context 与环境变量有关，不管是系统还是用户自定义的都用这个来获取，获取方式：context.env 先部署云函数到远端，然后在去远端</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/">9.云端一体化如何查看云函数日志？</a><p>调用云函数的时候我们总有输入输出结果不符合自己预期的时候，这个时候查看日志很重要！！在云端一体化开发过程中，我们可以通过下面的方式解决这一问</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/">8.速通ArkTS语言</a><p>数据类型 练习网址： 条件语句 拓展：for in与for of的使用 for in ：遍历得到数组的角标， for of ：直接得到元素。 函数 使用function关键字声明</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/6.github%E5%92%8Catomgit%E7%9A%84%E6%B7%B7%E5%90%88%E4%BD%BF%E7%94%A8%E9%82%A3%E4%BA%9B%E6%98%AF%E5%80%BC%E5%BE%97%E6%B3%A8%E6%84%8F%E7%9A%84/">6.github和atomgit的混合使用，哪些是值得注意的？</a><p>一台电脑如何使用多个远程仓库？ 下载好git，并做好相关的配置 关联github仓库 创建github仓库 克隆仓库到本地 git clone &lt;你的远程仓库U</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/">5.自定义页面以康奈尔笔记格式输出</a><p>Cues Cues Notes 创建css文件 在hugo配置中设置 在markdown文档中引用 Summary 标签/提示 ：静态网页，康奈尔笔记，hugo，自定义页面输出格式。 Notes 创建</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/4.%E5%A6%82%E4%BD%95%E5%9C%A8github%E4%B8%8A%E4%BD%BF%E7%94%A8%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2%E6%90%9C%E5%87%BA%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E9%A1%B9%E7%9B%AE/">4.如何在github上使用高级搜索搜出自己想要的项目？</a><p>原文章链接 附件</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/">文章标题的多样设计</a><p>在标题前面显示图标： +++ menuPre = &#34;&lt;i class=&#39;fab fa-github&#39;&gt;&lt;/i&gt; &#34; +++添加这个后的效果如下： 附件</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/github%E5%B8%B8%E9%81%87%E9%97%AE%E9%A2%98/">Git常遇问题</a><p>1、使用git commi -m &ldquo;……&ldquo;时报错： Your branch is up to date with ‘origin/master‘ 今天在提交项目的时候报了这个错误，在网</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/">如何用旧电脑搭建自己的服务器？</a><p>拥有一个属于自己的服务器个人感觉就很赞，我最初是在不买公网IP情况下，用一台电脑做服务器，然后另外一台电脑可以远程访问，部署网站，然后别人可</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/experimence/">创建hugo静态网站的经历</a><p>附件 一、为什么要创建属于自己博客网站 自从进入大三的学习，自己接触了许多开发板、以及七七八八的软件，个人记忆力又不咋地，平时很容易把重要或者重</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/1.%E5%B8%B8%E7%94%A8%E6%A8%A1%E7%89%88/">网站内常用到的模版</a><p>代码分制表 以&lt; tabs title=&quot;file name&quot; &gt;，&lt; /tabs &gt;结尾； 然后里面写以% tab title=&quot;code name&quot; style=&quot;info&quot; color=&quot;blue &quot; %，% /tab %结尾 他们都需要用{{}}括起来 &#8203; 代码 {{&lt; tabs title=&#34;hello.&#34; &gt;}}</p></li>
<li><a href="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/2.%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA/">网站的目录与子目录创建</a><p>不论是创建首页页面，还是左边框的选项，归根结底它们都是“目录”，从根上说，你需要创建一个目录然后在目录里面创建一个.md文件来装这个目录或说</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">1.文章 的子部分</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="14初次安装ad需要做哪些设置">14.初次安装AD需要做哪些设置？</h1>

<h2 id="设置自动保存">设置自动保存</h2>
<p>打开程序点击系统设置，如下图：</p>
<p><a href="#R-image-6830269fde38dd6876a5f9bc6e3bf9ae" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c1fb1a624013dcb464404fecc119f9a2.png" alt="系统设置" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6830269fde38dd6876a5f9bc6e3bf9ae"><img src="https://img-blog.csdnimg.cn/img_convert/c1fb1a624013dcb464404fecc119f9a2.png" alt="系统设置" class="lightbox-image        " loading="lazy"></a></p>
<p>按照下图步骤设置自动保存，每10分钟保存一次（你也可以设置成其他的，但不建议设置太小或太大比如1分钟或者30分钟）</p>
<p><a href="#R-image-ea29b5ccc04a0c975075e2565c47f526" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/7d36887f3eb34181db45fe5ef9ec1f26.png" alt="设置自动保存" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ea29b5ccc04a0c975075e2565c47f526"><img src="https://img-blog.csdnimg.cn/img_convert/7d36887f3eb34181db45fe5ef9ec1f26.png" alt="设置自动保存" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="设置单一表示负信号">设置单一&rsquo;'表示负信号</h2>
<p>按照下图设置</p>
<p><a href="#R-image-245a7a5d5d003d2dce5e1a40a9d2d465" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/5726209f81f50a65ab51737433722a1a.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-245a7a5d5d003d2dce5e1a40a9d2d465"><img src="https://img-blog.csdnimg.cn/img_convert/5726209f81f50a65ab51737433722a1a.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-9272876f4f55ade8e1051fab6cc9bef7" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/e698a4aa176f2b1fb1fd705ea6f05e5a.png" alt="负信号表示" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9272876f4f55ade8e1051fab6cc9bef7"><img src="https://img-blog.csdnimg.cn/img_convert/e698a4aa176f2b1fb1fd705ea6f05e5a.png" alt="负信号表示" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-6adf9af1896559f3bc093c9bb85e6479" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/54ca63f1224388be7413e81a5918d9c8.png" alt="最终效果" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6adf9af1896559f3bc093c9bb85e6479"><img src="https://img-blog.csdnimg.cn/img_convert/54ca63f1224388be7413e81a5918d9c8.png" alt="最终效果" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-2311221a3723249c66bd71a2f20153ab" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/73b933c047333cee6cd893654cc93637.png" alt="设置复制自动增加" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2311221a3723249c66bd71a2f20153ab"><img src="https://img-blog.csdnimg.cn/img_convert/73b933c047333cee6cd893654cc93637.png" alt="设置复制自动增加" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-8c530221312c58adacf23ea57985048b" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c4ac8007871184e28e67455d4fa9c0b7.png" alt="复制自动增加" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8c530221312c58adacf23ea57985048b"><img src="https://img-blog.csdnimg.cn/img_convert/c4ac8007871184e28e67455d4fa9c0b7.png" alt="复制自动增加" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-be31d6f86c92095b859265e77cd2c51e" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/fc222b1f998436fbea98ed4feec6499c.png" alt="复制不自动增加" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-be31d6f86c92095b859265e77cd2c51e"><img src="https://img-blog.csdnimg.cn/img_convert/fc222b1f998436fbea98ed4feec6499c.png" alt="复制不自动增加" class="lightbox-image        " loading="lazy"></a></p>
<h1 id="设置显示对话框">设置显示对话框</h1>
<p>我设置前</p>
<p><a href="#R-image-3a9764132cde7806739feca00efbc4de" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/3f34f4a98985cc17cf8898e517859d88.png" alt="名字重叠" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3a9764132cde7806739feca00efbc4de"><img src="https://img-blog.csdnimg.cn/img_convert/3f34f4a98985cc17cf8898e517859d88.png" alt="名字重叠" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-71a1eb1d8f44291009539e192beabb85" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/31b40b7e9edd5a38004086708a020ae5.png" alt="未设置前" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-71a1eb1d8f44291009539e192beabb85"><img src="https://img-blog.csdnimg.cn/img_convert/31b40b7e9edd5a38004086708a020ae5.png" alt="未设置前" class="lightbox-image        " loading="lazy"></a></p>
<p>当把上面的打钩后</p>
<p><a href="#R-image-c4b25e756d338aa1ac549affdf1e7a11" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/19dc26c7d13732b02714687ca50bba02.png" alt="设置后" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c4b25e756d338aa1ac549affdf1e7a11"><img src="https://img-blog.csdnimg.cn/img_convert/19dc26c7d13732b02714687ca50bba02.png" alt="设置后" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-37fa6f712b2949ed41d6eaa90ad104c6" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/dd75ba2048f4f2507622006608cd62de.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-37fa6f712b2949ed41d6eaa90ad104c6"><img src="https://img-blog.csdnimg.cn/img_convert/dd75ba2048f4f2507622006608cd62de.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>[外链图片转存中&hellip;(img-ZngLHveL-1719559556141)]</p>
<p><a href="#R-image-7ec153223a920b1447633bcc93556e77" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/f410e5cecc9ae34ac16a2ad647c6aab5.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7ec153223a920b1447633bcc93556e77"><img src="https://img-blog.csdnimg.cn/img_convert/f410e5cecc9ae34ac16a2ad647c6aab5.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-349f5fd5c18231802ed68ae36a6391f7" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/8d80e72f3123a7172212fcc06338a61c.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-349f5fd5c18231802ed68ae36a6391f7"><img src="https://img-blog.csdnimg.cn/img_convert/8d80e72f3123a7172212fcc06338a61c.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-39f16decf092c2c2e22835ba33b94cbe" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c02b4c0b77a6dbd581238fc65b86a6f7.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-39f16decf092c2c2e22835ba33b94cbe"><img src="https://img-blog.csdnimg.cn/img_convert/c02b4c0b77a6dbd581238fc65b86a6f7.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>按住shift+h可以显示和关闭</p>
<p>[外链图片转存中&hellip;(img-bxjUhYCS-1719559556142)]</p>
<p><a href="#R-image-c99ad59a92b49497e3bdb58fb1bad291" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/83e54a74166c16385873c0bb590d3057.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c99ad59a92b49497e3bdb58fb1bad291"><img src="https://img-blog.csdnimg.cn/img_convert/83e54a74166c16385873c0bb590d3057.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>[外链图片转存中&hellip;(img-qKvH9IRn-1719559556142)]
<a href="#R-image-d828183bc38a0ef09aeb87bb10fafb75" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c61197f3e47d35ecb8f046a70c4eeaad.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d828183bc38a0ef09aeb87bb10fafb75"><img src="https://img-blog.csdnimg.cn/img_convert/c61197f3e47d35ecb8f046a70c4eeaad.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p>[外链图片转存中&hellip;(img-HAD9BmgV-1719559556142)]</p>
<p><a href="#R-image-860df30302d02ee8375ef8c0f7269448" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/ab22d2cfb50206497eac47abce62778d.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-860df30302d02ee8375ef8c0f7269448"><img src="https://img-blog.csdnimg.cn/img_convert/ab22d2cfb50206497eac47abce62778d.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-5d372146c899bd24efeec3ce1129a7c4" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/c6ad53b8e1917c275f6b13a3ea5bd4a5.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5d372146c899bd24efeec3ce1129a7c4"><img src="https://img-blog.csdnimg.cn/img_convert/c6ad53b8e1917c275f6b13a3ea5bd4a5.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-5a672d3c3c7699307ba3ca5c35894628" class="lightbox-link"><img src="https://img-blog.csdnimg.cn/img_convert/bef0a3910f44c66d05a4b511c0b5468c.png" alt="在这里插入图片描述" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5a672d3c3c7699307ba3ca5c35894628"><img src="https://img-blog.csdnimg.cn/img_convert/bef0a3910f44c66d05a4b511c0b5468c.png" alt="在这里插入图片描述" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id="13物联网网络安全论">13.物联网网络安全论</h1>

<h2 id="物联网主要解决什么问题-">物联网主要解决什么问题?-</h2>
<p>主要解决物品到物品（T2T）、人到物品（H2T）、人到人（H2H）之间的互联，核心共性技术、网络与信息安全技术、以及关键技术是物联网当前主要的研究方向</p>
<h2 id="物联网的安全特性">物联网的安全特性</h2>
<p>从物联网的信息处理来看，数据信息要经过采集、汇聚、融合、传输、决策与控制等过程</p>
<h2 id="物联网的功能特点">物联网的功能特点</h2>
<ul>
<li>全面感知能力</li>
<li>数据信息的可靠传输</li>
<li>智能化处理</li>
<li>可以根据各个行业、各种业务的具体特点形成各个不同的应用或系统的应用解决方案</li>
</ul>
<h2 id="数据加密中出现的攻击旁路系统是什么">数据加密中出现的攻击——旁路系统是什么</h2>
<p>攻击者可能试图通过旁路系统，如物理地取走数据库，在通信线路上窃听，面对这样的威胁最有效的方式是对数据进行加密，以加密的格式存储和传输数据。</p>
<h2 id="数字签名的使用">数字签名的使用</h2>
<ul>
<li>鉴权：非对称秘钥加密系统允许每一位发送数据的用户使用公钥进行数据加密，数字签名能够让信息接受者确认信息发送者的身份</li>
<li>验证完整性：数据传输的双方都希望数据在传输的过程没有被修改</li>
<li>保证不可抵赖性： 在密文的背景下，抵赖这个词指的是不承认与消息有关的举动（即声称消息来自第三方）。消息接受方可以通过数字签名的方式来抵制后续的抵赖，因为接收方可以出示数字签名证明数据的来源。</li>
</ul>
<h2 id="节点认证机制中的pki是什么">节点认证机制中的PKI是什么？</h2>
<p>KPI是遵循既定标准的秘钥管理平台，它能够为所有的网络应用提供加密和数字签名等密码服务，以及必要的秘钥和证书管理体系。
简单来说KPI是利用公钥的理论和技术建立的提供安全服务的基础设施。</p>
<h2 id="路由协议的安全威胁">路由协议的安全威胁</h2>
<table>
<thead>
<tr>
<th>路由协议</th>
<th>安全威胁</th>
</tr>
</thead>
<tbody>
<tr>
<td>TyniOS信标</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>定向扩散</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>地理位置路由</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击</td>
</tr>
<tr>
<td>最低成本转发</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>谣传路由</td>
<td>虚假路由攻击、选择性转发攻击、污水池攻击、女巫攻击、虫洞攻击</td>
</tr>
<tr>
<td><strong>能量节约的拓扑维护</strong>（SPAN、GAF、CEC、AFECA）</td>
<td>虚假路由攻击、女巫攻击、Hello泛红攻击</td>
</tr>
<tr>
<td>聚簇路由协议（LEACH、TEEN）</td>
<td>选择性转发攻击、Hello泛红攻击</td>
</tr>
</tbody>
</table>
<p>SPAN、GAF、CEC、AFECA 是网络拓扑维护中用于节约能量的几种不同策略或算法的缩写。它们主要用于无线传感器网络（WSN）或其他类型的网络中，以优化网络结构，减少冗余，延长网络寿命，从而节约能量消耗。下面是每个缩写的具体含义：</p>
<p>SPAN (Sparse Topology Control):</p>
<p>稀疏拓扑控制。SPAN 是一种拓扑控制算法，旨在通过创建一个稀疏的网络拓扑来减少节点间的消息传递，从而降低能量消耗。这种方法通过选择性地关闭一些节点或链接来减少网络的密集度，但同时保持网络的连通性。</p>
<p>GAF (Geographic Adaptive Fidelity):</p>
<p>地理自适应保真度。GAF 是一种基于地理位置信息的拓扑控制机制，它根据节点的地理位置和重要性来调整通信频率和范围。在 GAF 中，节点根据其地理位置和网络需求动态调整它们的通信行为，以减少不必要的通信和监听，从而节省能量。</p>
<p>CEC (Critical Energy Consumption):</p>
<p>关键能量消耗。CEC 可能指的是一种考虑网络中关键节点或链接的能量消耗的策略。这种策略旨在识别和优化那些对网络性能和稳定性至关重要的节点或链接的能量使用，以确保网络的关键部分能够在能量受限的情况下继续运作。</p>
<p>AFECA (Adaptive Fault-tolerant Energy-efficient Clustering Algorithm):</p>
<p>自适应容错节能聚类算法。AFECA 是一种聚类算法，它结合了容错机制和能量效率，以适应网络条件的变化。通过自适应地调整聚类结构和领导者选举，AFECA 旨在在保持网络稳定性的同时减少能量消耗，并提高网络的容错能力。</p>
<h2 id="撒凯加密">撒凯加密</h2>
<p>撒凯加密法的分明文和密文，密文计算公式如下：</p>
<p><strong>公式：F(a)=(a+K)mod26。</strong></p>
<h2 id="加密技术分类">加密技术分类</h2>
<p>对称加密技术：是一种传统的加密体制，也称为私钥密码体制。在这一体制中加密和解密使用相同的秘钥。</p>
<p><strong>对于N个用户网络，需要n(n-1)/2个秘钥。</strong></p>
<h2 id="对称加密算法">对称加密算法</h2>
<p>DES（Data Encryption Standard，数据加密标准）该算法速度快，适用于加密大量数据。</p>
<p>3DES：是DES的变体，对同一块数据使用3个不同的秘钥进行3次加密，强度增强。</p>
<p>AES（Advenced Encryption Standard，高级加密标准）：该算法基于排序和置换算法。它也是一种迭代的、对称加密分组的密码，它可以用128、192和256位秘钥，用128位的分组加密和解密。</p>
<h2 id="单向扩散列函数">单向扩散列函数</h2>
<p>在实际生活中，采用公钥对长文件进行加密耗时，为节省时间数字签名协议经常和单向扩散列函数一起使用。
Alice并不对整个文件进行签名，而是只对三设置签名。签名过程参照书籍61页</p>
<h2 id="零知识证明的基本协议">零知识证明的基本协议</h2>
<p>这里做一个比喻，假设P知道开一扇门的密码，现在想向验证者V证明自己知道这扇门的密码，但具体密码是多少不让V知道，那么验证方法就是去开这扇门，只要P开了门就可以证明P知道门的密码。</p>
<p>下面是书本的证明步骤：
<a href="#R-image-b1b92db8c8293bc08146a27f320f4d62" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/image.png" alt="1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b1b92db8c8293bc08146a27f320f4d62"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/image.png" alt="1" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>V站在A点。</li>
<li>P进入洞中，到达C点或D点</li>
<li>P点进入洞中之后，V走到B点；</li>
<li>V叫P信左边或右边出来</li>
<li>P按照V的要求从左边或有边出来；</li>
<li>P和V重复执行上面的步骤N次</li>
</ul>
<p>如果每次P走的都正确，则认为P知道咒语。</p>
<h2 id="标签和读写器的通信模式">标签和读写器的通信模式</h2>
<p>标签分类及其特点</p>
<table>
   <tr>
        <td>分类</td> 
        <td>能量来源</td> 
        <td>发送器类型</td> 
        <td>最大距离/cm</td>
   </tr>
   <tr>
        <td>被动式标签</td>
        <td>被动式</td>
        <td>被动</td>
        <td>10</td>  
   </tr>
   <tr>
        <td>主动式标签</td>
        <td>内部电池</td>
        <td>主动</td>
        <td>1000</td>  
   </tr>
   <tr>
        <td>半主动式标签</td>
        <td>内部电池</td>
        <td>被动</td>
        <td>100</td>  
   </tr>  
</table>
<p>标签分类及其功能</p>
<table>
   <tr>
        <td>分类</td> 
        <td>能量来源</td> 
        <td>别名</td> 
        <td>存储</td>
        <td>特点</td>
   </tr>
   <tr>
        <td>class0</td>
        <td>被动式</td>
        <td>防盗窃标签</td>
        <td>无</td>  
        <td>EAS功能</td>
   </tr>
   <tr>
        <td>class1</td>
        <td>任意</td>
        <td>EPC（电子产品标签）</td>
        <td>只读</td> 
        <td>仅用于识别</td>  
   </tr>
   <tr>
        <td>class2</td>
        <td>任意</td>
        <td>EPC（电子产品标签）</td>
        <td>读写</td> 
        <td>数据日志记录</td>  
   </tr>
   <tr>
        <td>class3</td>
        <td>内部电池</td>
        <td>传感器标签</td>
        <td>读写</td> 
        <td>环境传感器</td>  
   </tr>
   <tr>
        <td>class4</td>
        <td>内部电池</td>
        <td>智能颗粒</td>
        <td>读写</td> 
        <td>自动组网</td>  
   </tr>
</table>
<h2 id="rfid病毒">RFID病毒</h2>
<p>2006年3月荷兰Vrije大学一组计算机研究员宣布，发现包括EPC标签在内的RFID标签可以携带病毒，并能攻击计算机。他们认为，可读写的电子标签存在着安全隐患。</p>
<h2 id="rfid系统通信模型">RFID系统通信模型</h2>
<p>这一个模型的物理层主要关心的问题是什么？</p>
<ul>
<li>物理模型主要关心电气信号的问题，例如频道分配、物理载波等，其中最重要的问题是载波切割问题。</li>
</ul>
<p>其他层关注的问题：</p>
<ul>
<li>
<p>通信层主要解决多个标签的访问问题。</p>
</li>
<li>
<p>应用层主要解决与最上层应用直接相关的内容，包括认证、识别、以及应用层数据表示。</p>
</li>
</ul>
<h2 id="rfid技术中epc系统的安全问题">RFID技术中EPC系统的安全问题</h2>
<p>EPC（电子产品标签）</p>
<ul>
<li>标签本身的缺陷
<ul>
<li>用户都可以利用合法的读写器或自购的读写器对电子标签进行读写或修改里面的存储信息。</li>
<li>支持EPC global标准的无源标签大多数只允许写入一次，但是支持其他标准（ISO标准）的RFID标签可以写入多次；</li>
<li>电子标签可以写入多次带来便利的同时，也带来了很多安全隐患。</li>
</ul>
</li>
<li>通信链路上的安全问题
<ul>
<li>黑客非法截取通信</li>
<li>拒绝服务器攻击（Dos）</li>
<li>利用假冒标签向读写器发送数据</li>
<li>RFID读写器与后台系统之间的通信信息安全</li>
</ul>
</li>
</ul>
<h2 id="采用密码机制解决rfid安全问题">采用密码机制解决RFID安全问题</h2>
<p>几种常用的密码机制协议：</p>
<ul>
<li>Hash-Lock协议</li>
<li>随机化Hash-Lock协议</li>
<li>Hash链协议</li>
<li>基于散列的ID变化协议</li>
<li>数字图书馆RFID协议</li>
<li>分布式RFID询问-应答协议</li>
<li>LCAP协议：也是一种询问-应答协议，只是每次执行之后都要刷新ID</li>
<li>再次加密机制</li>
</ul>
<h2 id="传感器网络组网技术面临的安全问题">传感器网络组网技术面临的安全问题</h2>
<table>
<thead>
<tr>
<th>网络层次</th>
<th>受到的攻击</th>
</tr>
</thead>
<tbody>
<tr>
<td>物理层</td>
<td>物理破坏、信道阻塞</td>
</tr>
<tr>
<td>链路层</td>
<td>制造冲突攻击、反馈伪造攻击、链路阻塞耗尽攻击</td>
</tr>
<tr>
<td>网络层</td>
<td>路由攻击、虫洞攻击、女巫攻击、HELLO泛红攻击</td>
</tr>
<tr>
<td>应用层</td>
<td>去同步攻击、拒绝服务攻击</td>
</tr>
</tbody>
</table>
<h2 id="传感器网络中的攻击和防疫手段">传感器网络中的攻击和防疫手段</h2>
<table>
   <tr>
        <td>网络层次</td> 
        <td>攻击手段</td> 
        <td>防御手段</td>
   </tr>
   <tr>
        <td>物理层</td> 
        <td>阻塞攻击</td> 
        <td>调频、消息优先级、低占空比、区域映射、模式转换</td>
   </tr>
   <tr>
        <td rowspan="4"><b>链路层</b></td> 
        <td>物理破坏</td> 
        <td>伪装和隐藏</td>
   </tr>
   <tr>
        <td>冲突攻击</td> 
        <td>纠错码</td> 
   </tr>
   <tr>
        <td>耗尽攻击</td> 
        <td>设计竞争门限</td> 
   </tr>
   <tr>
       <td>非公平竞争</td> 
        <td>短帧和非优先级策略</td> 
   </tr>
   <tr>
        <td rowspan="4">网络层</td> 
        <td>丢弃和贪婪破坏</td> 
        <td>冗余路径探测机制</td> 
   </tr>
    <tr>
        <td>汇聚节点攻击</td> 
        <td>加密和逐条认证机制</td> 
   </tr>
   <tr>
        <td>方向误导攻击</td> 
        <td>出口过滤、认证监视机制</td> 
   </tr>
   <tr>
        <td>黑洞攻击</td> 
        <td>认证、监视、冗余机制</td> 
   </tr>
   <tr>
        <td rowspan="2">应用层</td> 
        <td>泛红攻击</td> 
        <td>客户端谜题</td> 
   </tr>
   <tr>
        <td>去同步攻击</td> 
        <td>认证</td> 
   </tr>
</table>
<h2 id="入侵检测技术">入侵检测技术</h2>
<p>由于在物联网中依靠密码机制不能完全抵御所有攻击，所以采用入侵检测技术作为信息安全的第二道防线。</p>
<p>入侵检测技术是一种网络安全手段，旨在通过监控网络和系统的活动来发现违反安全策略的行为。这项技术能够识别未授权访问、攻击行为以及其他潜在的安全威胁。</p>
<p>按照检测节点是否主动发送消息，可将入侵检测分为主动检测和被动检测。</p>
<p>主动检测主要有四种：</p>
<ul>
<li>路径诊断的方法：源节点向故障路径上的检测节点发送消息，收到消息的检测消息要回复消息，如果某一路径上的检测节点没有回复，说明这一路径上出现故障，需要在这一路经上插入新的节点，重新检测；</li>
<li>邻居检测的方法：</li>
<li>通过向多个路径发送ping包的方式发现路径上的关键节点，从而部署攻击检测算法；</li>
<li>基于主动信息提供的检测。网络中部分节点定期广播邻居节点信息，其他节点通过分析累计一定时间后的信息发现重复节点。</li>
</ul>
<h2 id="zigbee网络结构">ZigBee网络结构</h2>
<ul>
<li>星状结构</li>
<li>网状结构</li>
<li>簇状结构</li>
</ul>
<h2 id="数据链路层安全">数据链路层安全</h2>
<p><strong>注意：</strong> 这里指的是ZigBee中的数据链路。</p>
<p><strong>IEEE802.15.4</strong> 标准MAC子层使用的是CCM模式，CCM是一种通用的认证和加密模式，被定义使用在类似AES的128位数据块上，它由CTR模式和CBC-MAC模式组成。</p>
<h2 id="zigbee中确保安全的方法">ZigBee中确保安全的方法</h2>
<ul>
<li>加密技术:使用AES-128加密算法</li>
<li>鉴权技术：保证信息的原始性，使得信息不被第三方攻击；</li>
<li>完整性保护：对信息的完整性保护有四种选择，分别是0、32、64和128位，默认采用64位；</li>
</ul>
<h2 id="无线通信网络安全中安全连接的三要素">无线通信网络安全中安全连接的三要素</h2>
<ul>
<li>鉴权：在信息被允许传输前，无线网络节点必须被识别，而且必须提交能够被认为有效的信任书；</li>
<li>加密：在发送无线网络的数据包之前，无线网络节点必须对数据进行加密以确保数据的机密性；</li>
<li>数据的完整性：在发送数据包之前，无线网络节点必须确保数据包中包含有关的数据完整性的信息，这样接收者才能确认数据在传输的过程中没有被动过。</li>
</ul>
<h2 id="无线网络安全所面临的威胁地址欺骗和会话拦截">无线网络安全所面临的威胁——地址欺骗和会话拦截</h2>
<p>由于IEEE802.11无线局网不对数据帧进行认证，</p>
<ul>
<li>攻击者可以通过欺骗帧重定向数据流；</li>
<li>攻击者可以使ARP（地址解析协议）表变得混乱；</li>
<li>攻击者可以通过简单的方法获取节点的MAC地址，恶意攻击时会使用到这些MAC地址。</li>
</ul>
<h2 id="无线局域网安全技术之wep">无线局域网安全技术之WEP</h2>
<p>IEEE802.11.b标准规定了一种 <strong>有线等效加密</strong> （WEP）的可选加密方案，目的是为WLAN提供与有线网络相同级别的安全保护。
WEP在数据传输上起到一定安全性和保密性作用，可以组织无线用户无意地查看AT和STA传输的信息。
这个方案也有其缺点，这里只说明其中一个</p>
<ul>
<li>ICV算法不适合。ICV是一种基于RCR-32的用于检测传输噪音和普通错误的算法。CRC-32是信息的线性函数，意味着攻击者可以篡改加密信息，并很容易修改IVC，使信息表面上看起来可信。</li>
</ul>
<h2 id="无线网络主流技术安全解决方案wpa">无线网络主流技术安全解决方案——WPA</h2>
<p>主流解决方案有很多，这里只介绍WPA。</p>
<p>WPA是下一代无线局域网标准IEEE802.11i之前的过渡方案，WPA也是IEEE802.11i的一部分。WPA率先使用IEEE802.11i中的加密技术——TKIP，这项技术可以大幅度解决IEEE802.11i使用WEP时隐藏的安全问题。</p>
<h2 id="互联网网络安全防火墙的作用">互联网网络安全——防火墙的作用</h2>
<ul>
<li>阻止：阻止某种类型的通信量通过防火墙；</li>
<li>允许：允许与阻止相反。</li>
</ul>
<h2 id="防火墙的结构屏蔽子网模式">防火墙的结构——屏蔽子网模式</h2>
<p>简单而言就是在外网与内网之间建一个子网屏蔽网络，及时这个子网被攻陷，外网还是要经过内网路由。</p>
<p><a href="#R-image-bc761ea5924e0c7c626056ff4d3013e4" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE1.jpg" alt="屏蔽子网模式" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bc761ea5924e0c7c626056ff4d3013e4"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE1.jpg" alt="屏蔽子网模式" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="vpn在中国使用要解决哪些问题">VPN在中国使用要解决哪些问题？</h2>
<ul>
<li>IPSec通过包封装的方法</li>
<li>建立隧道</li>
<li>IPSec VPN的类型</li>
<li>怎样找到VPN节点类型</li>
<li>如何建立隧道
<ul>
<li>UDP和TCP都可以穿过防火墙，即可以使用这两协议封装信息建立隧道，但是TCP有握手挥手过程，这一过程会占用时间，选择UDP更为合适。</li>
<li>选择好封装协议后，为避免两个节点VPN可能在防火墙之后的情形，需要通过第三方建立隧道传输信息，即两个设备都可以与第三个设备进行通信。</li>
</ul>
</li>
<li>如何找到与本VPN相关的节点</li>
</ul>
<h2 id="中间件的体系结构和核心模块">中间件的体系结构和核心模块</h2>
<p><a href="#R-image-b97200e7576216b9598efafb2adb4126" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE2.jpg" alt="屏蔽子网模式" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b97200e7576216b9598efafb2adb4126"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/13.%E7%89%A9%E8%81%94%E7%BD%91%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8%E8%AE%BA/%E7%BB%98%E5%9B%BE2.jpg" alt="屏蔽子网模式" class="lightbox-image        " loading="lazy"></a></p>
<p>
<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>#</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/cortex-a9%E5%BE%AE%E5%A4%84%E7%90%86%E5%99%A8/">Cortex-A9微处理器</a></li>
    <li><a class="term-link" href="./tags/linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">Linux操作系统</a></li>
    <li><a class="term-link" href="./tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a></li>
  </ul>
</div>
            </header>
<h1 id="12嵌入式系统设计知识点">12.嵌入式系统设计知识点</h1>

<h2 id="基于cortex-a9微处理器的硬件平台">基于Cortex-A9微处理器的硬件平台</h2>
<h3 id="risc和cisc">RISC和CISC</h3>
<p>RISC是精简指令集计算机，CISC是复杂指令集计算机</p>
<p>RISC（精简指令集计算机，Reduced Instruction Set Computer）和CISC（复杂指令集计算机，Complex Instruction Set Computer）是两种不同的计算机架构设计理念，它们在指令集的复杂性、指令执行方式、硬件实现等方面有所区别。以下是RISC和CISC的主要特点及其区别：</p>
<ul>
<li>RISC（精简指令集计算机）
<ul>
<li>指令集简单：RISC架构拥有较少的指令，通常每个指令执行一个简单的操作。</li>
<li>指令执行快速：由于指令简单，大多数RISC指令可以在单个时钟周期内完成。</li>
<li>寄存器丰富：RISC架构通常具有更多的寄存器，以减少对内存的访问次数。</li>
<li>流水线执行：RISC处理器设计易于实现流水线技术，提高指令吞吐率。</li>
<li>编译器优化：RISC架构依赖编译器将复杂操作转换为一系列简单的指令。</li>
</ul>
</li>
<li>CISC（复杂指令集计算机）
<ul>
<li>指令集复杂：CISC架构拥有大量的指令，包括一些执行复杂操作的指令。</li>
<li>指令执行较慢：CISC指令可能需要多个时钟周期来完成。</li>
<li>寄存器较少：CISC架构通常具有较少的寄存器，更多依赖内存访问。</li>
<li>微指令执行：CISC处理器可能使用微指令（microcode）来实现复杂指令。</li>
<li>硬件复杂性：CISC处理器的硬件设计相对复杂，以支持广泛的指令集。</li>
</ul>
</li>
</ul>
<p>区别</p>
<ul>
<li>指令集大小：RISC的指令集较小，CISC的指令集较大。</li>
<li>指令复杂性：RISC指令简单，CISC指令复杂。</li>
<li>执行速度：RISC指令通常执行更快，CISC指令执行可能较慢。</li>
<li>硬件设计：RISC处理器设计相对简单，CISC处理器设计复杂。</li>
<li>内存访问：RISC架构倾向于减少内存访问，CISC架构可能更频繁地访问内存。</li>
<li>依赖编译器：RISC架构更依赖编译器优化，CISC架构则在硬件层面提供复杂操作。</li>
</ul>
<h3 id="arm处理器支持的基本数据类型">ARM处理器支持的基本数据类型</h3>
<p>数据类型：字、半字、字节。</p>
<p>说明：</p>
<ul>
<li>一个字节占8位，半个字节占16位，一个字占32位；</li>
<li>在存储数据时，字要按照4个字节来存储，所以每一次存时地址都加4，地址末位是00，例如0x13FFFFF8,0x13FFFFFC，</li>
<li>在存储数据时，半字要按照2个字节来存，所以每一次存时地址都加2，地址末位是0，例如0x13FFFFF4,0x13FFFFF6，；</li>
</ul>
<h3 id="arm处理器的工作状态">ARM处理器的工作状态</h3>
<p>主要有两种状态，主要区别就是执行的指令集位数不同；</p>
<ul>
<li>Thumb状态，微处理器执行16位的半字对齐的Thumb指令集，Thumb指令集是从ARM微处理的第四个版本开始增加（v4T）；</li>
<li>ARM状态，微处理器执行32位的字对齐的ARM指令集。</li>
</ul>
<h3 id="arm存储格式">ARM存储格式</h3>
<ul>
<li>
<p>大端格式：高字节存储在低地址，低字节存储在低地址；</p>
</li>
<li>
<p>小端格式:高字节存在高地址，低字节存储在低地址；
说明：</p>
</li>
<li>
<p>对高字节和低字节可以这样理解，假设有一个32位的地址为0x13FFFFF1，它的高字节是31，也可以理解成最高那一位的下标，31这一位存了0，低字节是0存了1。把这个理解带入上面的大端格式，小端格式。</p>
</li>
</ul>
<h3 id="arm处理器寄存器">ARM处理器寄存器</h3>
<ul>
<li>共有40个32位的寄存器，其中33个通用寄存器，7个状态寄存器；</li>
<li>通用寄存器
<ul>
<li>未分组寄存器（R0-R7）；</li>
<li>分组寄存器（R8-R14）；</li>
</ul>
</li>
<li>ARM处理器的程序状态寄存器包括：CPSR（当前程序状态寄存器）和SPSR（程序状态备份寄存器）</li>
</ul>
<h3 id="中断">中断</h3>
<h3 id="arm工作模式">ARM工作模式</h3>
<ul>
<li>
<p>用户模式（usr）:应用程序执行状态。</p>
</li>
<li>
<p>快速中断模式（fiq）：用于高速数据传输或通道处理。</p>
</li>
<li>
<p>外部中断模式（irq）：用于通用的外部中断。</p>
</li>
<li>
<p>特权模式（svc）：操作系统使用的保护模式。</p>
</li>
<li>
<p>数据访问中止模式（abt）：当数据或指令预取终止时进入该模式，可以用于虚拟存储及存储保护。</p>
</li>
<li>
<p>未定义指令中止模式（und）：当未定义的指令执行时进入该模式，可用于支持硬件协处理器的软件仿真。</p>
</li>
<li>
<p>系统模式（sys）：运行具有特权的操作系统任务。</p>
</li>
<li>
<p>监控模式（mon）：可在安全模式与非安全模式之间转换。</p>
</li>
<li>
<p>执行程序什么模式？</p>
</li>
<li>
<p>读指令并执行，读取未定义指令什么模式？</p>
</li>
<li>
<p>遇到特权任务什么模式？</p>
</li>
<li>
<p>遇到中断什么模式?</p>
</li>
<li>
<p>指令执行结束什么模式？</p>
</li>
</ul>
<h3 id="3级5级流水线">3级、5级流水线</h3>
<ul>
<li>3级流水线指令可以分解成取指令、编译、执行；</li>
<li>5级流水线指令可以分解成取指令、编译、执行、缓冲、写回。</li>
</ul>
<h3 id="程序状态寄存器">程序状态寄存器</h3>
<ul>
<li>
<p>CPSR中的[31:27]为条件标志位，具体含义如下：</p>
<ul>
<li>N：符号标志位。当用两个补码表示的带符号数进行运算时，N=1表示运算的结果为负数；N=0表示运算的结果为正数或零。</li>
<li>Z：结果是否为0的标志。Z=1，表示运算结果为0；Z=0，表示运算结果为非0。</li>
<li>C：进位或借位标志位。加法运算结果产生了借位时C=1，减法运算产生了借位时C=1，否则为0；包含移位操作的非加/减运算指令，C为移出值的最后一位；其他运算指令，C的值通常不变。</li>
<li>V：溢出标志位。对于加减法运算指令，V=1表示符号位溢出，其它指令的影响V位。</li>
</ul>
</li>
<li>
<p>CPSR中的[7:0]为控制位，具体含义如下：</p>
<ul>
<li>I：IRQ中断使能位；</li>
<li>F：FIQ中断使能位；</li>
<li>T：处理器运行状态控制位；</li>
<li>M[4:0]：运行模式位。</li>
</ul>
</li>
<li>
<p>其它标志位。</p>
</li>
</ul>
<h3 id="arm指令集条件域">ARM指令集条件域</h3>
<ul>
<li>EQ：相等，（CPSR）Z=1；</li>
<li>GT：大于，Z=0&amp;&amp;N=Z;</li>
<li>TF：小于等于，Z=1||N=Z；</li>
</ul>
<h3 id="寻址指令">寻址指令</h3>
<h3 id="数据处理指令">数据处理指令</h3>
<ul>
<li>RSB 逆向减法，例如：</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  RSB Rd Rn op2 ;op2<span style="color:#f92672">-</span>Rn赋值给Rd</span></span></code></pre></div><ul>
<li>
<p>MUL 32位乘法，</p>
</li>
<li>
<p>CMP 比较，例如</p>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  CMP Rn op2 ;Rn<span style="color:#f92672">-</span>op2</span></span></code></pre></div><ul>
<li>
<p>MOV指令:它的传送指令只能是把一个寄存器的值(要能用立即数表示)赋给另一个寄存器，或者将一个常量赋给寄存器，将后边的量赋给前边的量</p>
</li>
<li>
<p>ADD指令:ADD指令用于把两个操作数相加，并将结果存放到目的寄存器中。</p>
</li>
<li>
<p>SUB指令:SUB指令用于把操作数1减去操作数2，并将结果存放到目的寄存器中</p>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>SUB  r0, r1, r2 ; r0 <span style="color:#f92672">=</span> r1 <span style="color:#f92672">-</span> r2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SUB  r0, r1, <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">256</span>                
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SUB  r0, r2, r3, LSL<span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">1</span>  ; r0 <span style="color:#f92672">=</span> r2 <span style="color:#f92672">-</span> (r3 <span style="color:#f92672">&lt;&lt;</span> <span style="color:#ae81ff">1</span>)</span></span></code></pre></div><ul>
<li>LDR指令:LDR指令用于从存储器中将一个32位的字数据传送到目的寄存器中.</li>
</ul>
<p>用法1：
LDR r0, =0x20000000
用法2：
LDR r0, =0x30000000</p>
<ul>
<li>STR指令:STR指令用于从源寄存器中将一个32位的字数据传送到存储器中。即：将前边的量赋值给后边的量。</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>STR r0<span style="color:#960050;background-color:#1e0010">，</span>[r1]  ; <span style="color:#960050;background-color:#1e0010">将</span>r0中的字数据写入以r1为地址的存储器中
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>STR r0<span style="color:#960050;background-color:#1e0010">，</span>[r1], <span style="color:#960050;background-color:#1e0010">＃</span><span style="color:#ae81ff">8</span> ; <span style="color:#960050;background-color:#1e0010">将</span>r0中的字数据写入以r1为地址的存储器中<span style="color:#960050;background-color:#1e0010">，并将新地址</span>r1<span style="color:#960050;background-color:#1e0010">＋</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">写入</span>r1<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>STR r0<span style="color:#960050;background-color:#1e0010">，</span>[r1, <span style="color:#960050;background-color:#1e0010">＃</span><span style="color:#ae81ff">8</span>] ; <span style="color:#960050;background-color:#1e0010">将</span>r0中的字数据写入以r1<span style="color:#960050;background-color:#1e0010">＋</span><span style="color:#ae81ff">8</span><span style="color:#960050;background-color:#1e0010">为地址的存储器中。</span></span></span></code></pre></div><h3 id="跳转指令">跳转指令</h3>
<h3 id="案例1">案例1</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>     CMP  R0<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>                            
</span></span><span style="display:flex;"><span>     MOVEQ  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>    
</span></span><span style="display:flex;"><span>     MOVGT  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">1</span>  
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">解：</span>CMP  R0<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>     ; <span style="color:#960050;background-color:#1e0010">将</span>R0的值减去0<span style="color:#960050;background-color:#1e0010">，并根据结果设置</span>CPSR的标志位                           
</span></span><span style="display:flex;"><span>        MOVEQ  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>   ; <span style="color:#960050;background-color:#1e0010">若</span>R0等于0<span style="color:#960050;background-color:#1e0010">，</span>Z<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">，则将立即数</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">装入到</span>R1
</span></span><span style="display:flex;"><span>        MOVGT  R1<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">1</span>   ; <span style="color:#960050;background-color:#1e0010">若</span>R0大于0<span style="color:#960050;background-color:#1e0010">，</span>Z<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span><span style="color:#960050;background-color:#1e0010">，</span>N<span style="color:#f92672">=</span>V<span style="color:#960050;background-color:#1e0010">，则将立即数</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">装入到</span>R1</span></span></code></pre></div><p>程序实现的功能是判断R0的值与0的关系，将结果装入R1，若R0=0则R1=0，若R0&gt;0则R1=1.用C语言描述如下。
设R0对应变量a，R1对应变量b，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span>(a<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                 b<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">else</span>  <span style="color:#a6e22e">if</span>(a<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>                 b<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>; 
</span></span></code></pre></div><h3 id="案例2">案例2</h3>
<p>对程序各条指令进行注释，最后分析整个程序的功能。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>	 AREA	Example1,CODE,READONLY	  ; <span style="color:#960050;background-color:#1e0010">声明代码段</span>Example1  
</span></span><span style="display:flex;"><span>	 ENTRY				     ; <span style="color:#960050;background-color:#1e0010">标识程序入口</span>
</span></span><span style="display:flex;"><span>	 CODE32				  ; <span style="color:#960050;background-color:#1e0010">声明</span><span style="color:#ae81ff">32</span><span style="color:#960050;background-color:#1e0010">位</span>ARM指令
</span></span><span style="display:flex;"><span>START 	                   ; <span style="color:#960050;background-color:#1e0010">标号</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">标签</span>
</span></span><span style="display:flex;"><span>MOV  R0, <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">0</span>			  ; <span style="color:#960050;background-color:#1e0010">设置参数，</span>R0<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>	MOV  R1, <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">10</span>           ; <span style="color:#960050;background-color:#1e0010">设置参数，</span>R1<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>LOOP                       ; <span style="color:#960050;background-color:#1e0010">标号</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">标签</span>
</span></span><span style="display:flex;"><span>BL  ADD_SUB	         ; <span style="color:#960050;background-color:#1e0010">调用子程序</span>ADD_SUB
</span></span><span style="display:flex;"><span>	B	LOOP			     ; <span style="color:#960050;background-color:#1e0010">跳转到</span>LOOP
</span></span><span style="display:flex;"><span>ADD_SUB	                ; <span style="color:#960050;background-color:#1e0010">标号</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">标签</span>
</span></span><span style="display:flex;"><span>	ADDS  R0, R0, R1		  ; R0 <span style="color:#f92672">=</span> R0 <span style="color:#f92672">+</span> R1<span style="color:#960050;background-color:#1e0010">，并根据结果设置</span>CPSR的标志位
</span></span><span style="display:flex;"><span>	MOV	  PC, LR	     	  ; <span style="color:#960050;background-color:#1e0010">子程序返回，</span>PC<span style="color:#f92672">=</span>LR
</span></span><span style="display:flex;"><span>	END				         ; <span style="color:#960050;background-color:#1e0010">声明文件结束</span></span></span></code></pre></div><p><strong>整个程序的功能</strong>：程序实现了一个死循环，每次循环R0都增加10。</p>
<h2 id="linux编程基础">LInux编程基础</h2>
<h3 id="gcc编译的4个过程的主要功能">GCC编译的4个过程的主要功能</h3>
<ul>
<li>预编译：主要功能是读取源文件，并对头文件预编译语句和一些特殊符号进行分析和处理；</li>
<li>编译：主要包括检查代码语法和将预编译后的文件转换成汇编语言；</li>
<li>汇编：主要的功能是将汇编语言的代码编程目标文件；（机器代码，0和1）</li>
<li>连接：主要功能是连接代码，生成可执行文件。</li>
</ul>
<h3 id="简述make工具和makefile的基本结构">简述Make工具和Makefile的基本结构</h3>
<p>Make又叫工程管理工具，即管理较多的工程文件。</p>
<p>主要的功能:</p>
<ul>
<li>通过Makefile文件来描述源程序之间相互依赖的关系，并自动完成维护编译工作；</li>
<li>能够根据文件的时间戳发现更新的文件，可以减少编译工作；</li>
</ul>
<p>基本结构：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>target <span style="color:#960050;background-color:#1e0010">：</span> dependency
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>tab <span style="color:#960050;background-color:#1e0010">键</span><span style="color:#f92672">&gt;</span> command</span></span></code></pre></div><p>target:目标；
dependency：依赖关系
command：命令</p>
<h3 id="makefile变量">Makefile变量</h3>
<ul>
<li>用户自定义变量</li>
<li>预定义变量</li>
<li>自动变量</li>
</ul>
<p>后两个是系统的变量，是Makefile文件常用的变量，其中有部分变量用户可以修改。</p>
<h3 id="预定义变量">预定义变量</h3>
<p>需要记住两个比较重要且常用的预定义变量，即</p>
<ul>
<li>CC：C编译器名称，默认cc</li>
<li>CFLAGS：C编译器的选项，无默认值</li>
</ul>
<h3 id="自动变量又叫系统变量">自动变量（又叫系统变量）</h3>
<ul>
<li>$@ :规则的目标所对应的文件；</li>
<li>$&lt;：规则中的第一个依赖文件；</li>
<li>$^:规则中所有依赖的列表，以空格为间隔符。</li>
</ul>
<h3 id="文件操作编程">文件操作编程</h3>
<p>C语言库中的fopen、fclose、fwrite、fread等函数。</p>
<p>其实是由操作系统的API函数封装而来，如</p>
<ul>
<li>fopen内部其实调用的是open函数，</li>
<li>fwrite内部调用的是write函数。</li>
</ul>
<p>用户也可以直接利用Linux系统的API函数来完成文件操作编程</p>
<h4 id="在linux操作系统下用c语言实现文件操作可以采用哪两种方法">在Linux操作系统下，用C语言实现文件操作可以采用哪两种方法？</h4>
<p>在LInux操作系统中，实现文件操作有两种方法，第一种是调用C语言标准库，第二种是通过Linux系统调用实现。前者独立于操作系统，在任何操作系统下使用C语言标准库函数操作文件，而后者以来于操作系统。</p>
<h3 id="时间编程">时间编程</h3>
<ul>
<li>time函数</li>
</ul>
<p>返回1970.1.1 0时到现在所经历的时间，操作失败返回((time_t)-1)</p>
<ul>
<li>gmtime函数
将日历转化为格林威治标准时间，结果存在结构体tm中。</li>
</ul>
<p>在课堂上老师叫我们使用的并非上面这个函数，而是用localtime(const time_t *timep)这个函数,这个函数可以将日历转为本地时间，具体用法请看<a href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B">综合案例</a></p>
<ul>
<li>gettimeofday函数</li>
</ul>
<p>获取从今日凌晨到现在的时差并存储在tv中，tz存放当地时区差；</p>
<h3 id="综合案例">综合案例</h3>
<p>（4）编写一个程序，将系统时间以“year-month-day hour:minute:second”格式保存在time.txt文件中。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;stdio.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;string.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;fcntl.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span><span style="color:#75715e">&lt;time.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#define MAX 40
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> fd,n,ret;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">char</span> writebuf[MAX];
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">struct</span> tm <span style="color:#f92672">*</span>t;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">time_t</span> lt;
</span></span><span style="display:flex;"><span>        lt<span style="color:#f92672">=</span><span style="color:#a6e22e">time</span>(NULL);
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#a6e22e">localtime</span>(<span style="color:#f92672">&amp;</span>lt);  <span style="color:#75715e">//将日历时间转化为本地时间
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">sprintf</span>(writebuf,<span style="color:#e6db74">&#34;%d-%d-%d %d:%d:%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,t<span style="color:#f92672">-&gt;</span>tm_year<span style="color:#f92672">+</span><span style="color:#ae81ff">1900</span>,t<span style="color:#f92672">-&gt;</span>tm_mon<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,t<span style="color:#f92672">-&gt;</span>tm_mday,t<span style="color:#f92672">-&gt;</span>tm_hour,t<span style="color:#f92672">-&gt;</span>tm_min,t<span style="color:#f92672">-&gt;</span>tm_sec);   <span style="color:#75715e">//按指定格式保存时间        
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75715e">/*打开文件，如果文件不存在，则会创建文件*/</span>
</span></span><span style="display:flex;"><span>        fd <span style="color:#f92672">=</span> <span style="color:#a6e22e">open</span>(<span style="color:#e6db74">&#34;time.txt&#34;</span>, O_RDWR <span style="color:#f92672">|</span> O_CREAT);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*向文件写入字符串*/</span> 
</span></span><span style="display:flex;"><span>        ret <span style="color:#f92672">=</span> <span style="color:#a6e22e">write</span>(fd, writebuf, <span style="color:#a6e22e">strlen</span>(writebuf));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (ret <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">perror</span>(<span style="color:#e6db74">&#34;Write Error!&#34;</span>); <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;write %d characters!</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, ret);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">/*关闭时，会自动保存文件*/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">close</span>(fd);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h3 id="多线程编程">多线程编程</h3>
<h4 id="基本用法">基本用法</h4>
<p>使用到pthread_createh头文件，以及libpthread.so和libpthread.a库文件；</p>
<ul>
<li>pthread_create函数：创建线程</li>
<li>pthread_exit函数：退出线程</li>
<li>pthread_join函数：阻塞线程</li>
</ul>
<h3 id="互斥锁线程">互斥锁线程</h3>
<p>解决多个线程在一起执行的时候共享数据、资源的问题。在POSIX中有两种线程同步机制，分别为互斥锁和信号量</p>
<ul>
<li>pthread_mutex_init:初始化互斥锁</li>
<li>pthread_mutex_lock：互斥锁上锁</li>
<li>pthread_mutex_unlock：互斥锁释放</li>
</ul>
<h2 id="嵌入式开发交叉编译与系统移植">嵌入式开发交叉编译与系统移植</h2>
<h3 id="嵌入式软件调试方法">嵌入式软件调试方法</h3>
<ul>
<li>实时在线仿真</li>
<li>模拟调试</li>
<li>软件调试</li>
<li>片上调试</li>
</ul>
<h3 id="引导程序移植">引导程序移植</h3>
<p>操作系统运行前的一个程序，也就是启动程序。</p>
<ul>
<li>BoolLoader工作模式
<ul>
<li>启动加载模式</li>
<li>下载模式</li>
</ul>
</li>
<li>BoolLoader启动过程
<ul>
<li>第一阶段
<ul>
<li>主要依赖CPU的体系结构硬件初始化的代码，通常使用汇编语言编写。</li>
<li>这个阶段的功能主要有：
<ul>
<li>基本硬件设备初始化；</li>
<li>为第二阶段准备ARM空间；</li>
<li>复制BootLoader的第二阶段代码到RAM；</li>
<li>设置栈堆；</li>
<li>跳转到第二阶段的入口点；</li>
</ul>
</li>
</ul>
</li>
<li>第二阶段
<ul>
<li>通常使用C语言完成，以便实现更复杂的功能，使程序具有更好的可读性和可移植性。</li>
<li>这一阶段的主要任务是：
<ul>
<li>初始化这一阶段要使用的硬件设备;</li>
<li>检测系统内存映射；</li>
<li>将内核文件和根目录系统映像文件从Flash读到RAM；</li>
<li>为内核设置启动参数，</li>
<li>调用内核。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>常用的启动文件有很多，这里介绍Uboot。</p>
<p>Uboot是一个开源项目，最早是由德国登克斯（DENX）小组的开发，然后发布在网上，许多对这款软件感兴趣的开发人员共同来维护。</p>
<h4 id="bootloader的核心任务是什么">BootLoader的核心任务是什么？</h4>
<p>启动内核，向内核提供启动参数，完成系统软件的部署功能。</p>
<h4 id="系统加电后执行的第一段代码是什么">系统加电后执行的第一段代码是什么？</h4>
<p>BootLoader(引导程序)是系统上电后运行的第一段代码。</p>
<h4 id="u-boot命令和环境变量">U-Boot命令和环境变量</h4>
<p>U-Boot通常支持几十个常用命令，通过这些命令，可以对目标机进行调试，也可以引导Linux内核，还可以擦写Flash完成系统部署等功能。</p>
<ul>
<li>常用命令：
print: 通常用于打印信息或变量的值到控制台或终端。</li>
</ul>
<p>setenv: 设置环境变量。环境变量是在操作系统中存储的配置信息，可以影响程序的行为。</p>
<p>saveenv: 保存环境变量。这个命令通常用于将当前的环境变量设置保存到非易失性存储器，以便在系统重启后保持这些设置。</p>
<p>ping: 网络诊断工具，用于测试主机之间的网络连接是否可达。</p>
<p>tftp: Trivial File Transfer Protocol（简单文件传输协议）的缩写，用于在设备之间传输文件。</p>
<p>boot: 启动系统或加载执行程序。</p>
<ul>
<li>组合命令
<ul>
<li>movi read:用来读取iNand到DDR上</li>
<li>movi write:用来将DDR写到到iNand上</li>
</ul>
</li>
</ul>
<p><strong>注释</strong>：</p>
<ul>
<li>非易失性存储器 iNand</li>
<li>动态数据随机存取存储器 DDR</li>
</ul>
<h3 id="linux内核简介">linux内核简介</h3>
<p>Linux内核主要功能有：</p>
<ul>
<li>进程管理</li>
<li>内存管理</li>
<li>文件管理</li>
<li>设备管理</li>
<li>网络管理</li>
</ul>
<p>Linux内核源代码非常庞大，它使用目录树结构，内核源码的顶层有许多子目录,分别组织存放各种内核子系统或者文件,如下表：
<a href="#R-image-0cde15d2992fc8aaad1f501306f7d980" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0cde15d2992fc8aaad1f501306f7d980"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="1" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="linux内核移植">Linux内核移植</h3>
<p>Linux内核支持多种处理器，如果目标机使用的是ARM处理器核，使用的交叉编译工具链是arm-linux-，内核移植时要指定处理器的类型以及使用的交叉编译工具链，简述具体操作方法。</p>
<p>具体操作如下。
打开内核顶层目录下的Makefile文件，在文件中找到如下内容。
ARCH？=$(SUBARCH)
CROSS_COMPILE?=$(CONFIG_CROSS_COMPILE:“%”=%)
将找到的以上代码修改为如下内容。
ARCH？=arm
CROSS_COMPILE?=arm-none-linux-gnueabi-
其中，ARCH是CPU架构变量；CROSS_COMPILE是交叉编译工具链变量。修改完成后，保存文件退出。</p>
<h2 id="驱动程序">驱动程序</h2>
<h3 id="驱动程序的功能">驱动程序的功能</h3>
<ul>
<li>对设备初始化和释放</li>
<li>数据传输:把数据从内核传送到硬件和从硬件读取数据,读取应用程序传送给设备文件的数据和回送应用程序请求的数据.</li>
<li>检测和处理设备出现的错误</li>
</ul>
<h4 id="open入口点">Open入口点</h4>
<p>对象：字符设备文件；
特点：字符设备文件都需要经过open入口点调用
open子程序功能：为I/O口作必要的准备工作
同一时刻只能有一个程序访问此设备（即设备是独占的）,则 open子程序必须设置一些标志以表示设备处于忙碌状态。open子程序的调用格式如下。
int open(char  * filename,int acess)</p>
<h4 id="第一个功能中">第一个功能中</h4>
<p>打开设备是由调用定义在incliude/linux/fs.h中的file_operations结构体中的 open()函数完成的。open()函数主要完成的主要工作：</p>
<p>1.若是首次打开，先初始化
2.增加设备的使用计数
3.检测设备是否异常，及时发现设备相关错误
4.读取设备次设备号。</p>
<h3 id="驱动程序的主要组成部分">驱动程序的主要组成部分</h3>
<ul>
<li>自动配置和初始化子程序：检测驱动的硬件设备是否正常，能否正常工作</li>
<li>服务子程序和中断服务程序:这两者分别是驱动程序的上下两部分。
<ul>
<li>驱动上部分，即设备服务子程序，它是系统调用的结果，并且伴随着用户态向核心态的演变，在此过程中还可以调用与进程运行环境有关的函数，比如 sleep()函数。</li>
<li>驱动程序的下半部分，即中断服务子程序</li>
</ul>
</li>
</ul>
<h3 id="linux设备分类-用c表示设备">Linux设备分类 （用C表示设备）</h3>
<ul>
<li>字符设备</li>
<li>块设备</li>
<li>网络设备</li>
</ul>
<p>应用程序操作设备框图
<a href="#R-image-260e5920c164a492efacca740bebf1cb" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-260e5920c164a492efacca740bebf1cb"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/12.%E5%B5%8C%E5%85%A5%E5%BC%8F%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="2" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="简述驱动程序和应用程序的区别">简述驱动程序和应用程序的区别</h3>
<p>第一，应用程序一般有一个main函数，并从头到尾执行一个任务；驱动程序没有main函数，它在加载时，通过调用module_init宏，完成驱动设备的初始化和注册工作之后便停止工作，并等待被应用程序调用。</p>
<p>第二，应用程序可以和GLIBC库连接，因此可以包含标准的头文件；驱动程序不能使用标准的C库，因此不能调用所有的C库函数，比如输出函数不能使用printf，只能用内核的printk，包含的头文件只能是内核的头文件，比如Linux/module.h。</p>
<p>第三，驱动程序运行在内核空间（又称内核态）比应用程序执行的优先级要高很多。应用程序则运行在最低级别的用户空间（又称用户态），在这一级别禁止对硬件的直接访问和对内存的未授权访问。</p>
<p>应用程序一般有一个main函数,并从头到尾执行一个任务；
应用程序可以和 GLIBC 库连接,因此可以包含标准的头文件；
驱动程序运行在内核空间(又称内核态),比应用程序执行的优先级要高很多。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
      <li><a href="./branch-bundle-1/1.%e5%85%b6%e4%bb%96%e6%96%87%e7%ab%a0/12.%e5%b5%8c%e5%85%a5%e5%bc%8f%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1/index.files/%e5%b5%8c%e5%85%a5%e5%bc%8f%e5%a4%8d%e4%b9%a0PPT.pptx">嵌入式复习PPT.pptx</a> (659 KB)</li>
      <li><a href="./branch-bundle-1/1.%e5%85%b6%e4%bb%96%e6%96%87%e7%ab%a0/12.%e5%b5%8c%e5%85%a5%e5%bc%8f%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1/index.files/%e5%b5%8c%e5%85%a5%e5%bc%8f%e4%bd%9c%e4%b8%9a.docx">嵌入式作业.docx</a> (52 KB)</li>
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0/">F1-复习</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/esp8266/">ESP8266</a></li>
    <li><a class="term-link" href="./tags/stm32/">STM32</a></li>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91/">物联网</a></li>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/">物联网应用系统设计</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网应用系统设计">物联网应用系统设计</h1>

<p>物联网结构系统与传统网路系统的区别</p>
<p><a href="#R-image-b364cbeb6848f12f0d79040f2d33fa0b" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688211399.png" alt="1716688211399" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b364cbeb6848f12f0d79040f2d33fa0b"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688211399.png" alt="1716688211399" class="lightbox-image        " loading="lazy"></a></p>
<p>前者由三个部分构成</p>
<ul>
<li>信息物品</li>
<li>自主网络</li>
<li>智能应用</li>
</ul>
<h2 id="需求分析">需求分析</h2>
<h3 id="基本概念">基本概念</h3>
<p><a href="#R-image-c4b89c6ec32533df330f0361c562f3a8" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688246145.png" alt="1716688246145" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c4b89c6ec32533df330f0361c562f3a8"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688246145.png" alt="1716688246145" class="lightbox-image        " loading="lazy"></a></p>
<p>需求规格说明：开发、测试、质量保证、项目管理以及相关的项目功能等地方都有重要的作用</p>
<p>需求：功能、性能 、行为、设计约束等方面的期望</p>
<p>需求分析：对要解决的问题的详细分析说明，弄清问题的需求</p>
<h3 id="需求分析过程">需求分析过程</h3>
<p>获取用户需求——分析用户需求——编写需求文档——评审需求分析</p>
<h3 id="需求管理">需求管理</h3>
<p>一、需求管理开发与需求管理的界限</p>
<p><a href="#R-image-9668da892b0648814e8b7fbda890a069" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688269268.png" alt="1716688269268" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9668da892b0648814e8b7fbda890a069"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716688269268.png" alt="1716688269268" class="lightbox-image        " loading="lazy"></a></p>
<p>需求开发中编写的需求文档数据来自于市场、用户、管理，以基准需求说明为界限，需求管理从这个文档中获取开发信息，通过市场等变动修改这个文档。</p>
<h2 id="需求分析任务">需求分析任务</h2>
<p>1。确定系统运行环境</p>
<p>硬件环境的要求：外存种类、数据的输入方式、数据通信接口；</p>
<p>软件环境的需求：哪一种操作系统、数据库系统；</p>
<p>2。系统性能需求</p>
<p>数据输入系统后系统多久可以可以做出反应；</p>
<p>3。系统功能</p>
<p>确定目标系统的所有功能</p>
<h2 id="设计概要">设计概要</h2>
<h3 id="任务">任务</h3>
<p>根据需求文档确定系统的整体结构，设计其中硬件结构、软件结构和数据结构</p>
<ul>
<li>硬件结构：确定系统功能对应的硬件环境，以及硬件之间的关系；</li>
<li>软件结构：将一个复杂系统按照功能进行模块划分，建立模块的层次结构以及调用关系，确定模块之间的接口以及人机界面</li>
<li>数据结构：数据特征描述、确定数据结构特点何人数据库的设计</li>
</ul>
<h3 id="概要设计原则">概要设计原则</h3>
<p>抽象： <strong>抽象就是抽出事物的本质特征，而暂时不考虑细节。它允许我们定义一个操作的步骤，而不需要立即知道这些步骤是如何执行的。</strong></p>
<p>抽样方法：</p>
<ul>
<li>（1）过程抽象</li>
</ul>
<p>过程抽象关注的是操作的序列，而不是具体实现的细节。它允许我们定义一个操作的步骤，而不需要立即知道这些步骤是如何执行的。</p>
<p><strong>举例</strong>： 假设我们要设计一个软件来管理图书馆的借书和还书过程。过程抽象可能包括以下步骤：</p>
<ul>
<li>用户登录</li>
<li>查询书籍</li>
<li>借书</li>
<li>还书</li>
<li>用户登出</li>
</ul>
<p>在这个抽象级别，我们不需要知道用户如何登录（比如是通过用户名和密码，还是通过社交媒体账号），也不需要知道查询书籍的具体算法。我们只是定义了需要执行的操作序列。</p>
<ul>
<li>（2）数据抽象</li>
</ul>
<p>数据抽象关注的是数据的结构和行为，而不是数据的具体表示。它允许我们定义数据类型和操作，而隐藏了数据的内部细节。</p>
<p><strong>举例</strong>： 考虑一个银行账户系统。数据抽象可能包括以下定义：</p>
<ul>
<li>账户类型（如储蓄账户、支票账户）</li>
<li>账户操作（如存款、取款、转账）</li>
<li>账户属性（如账户号码、账户余额、账户持有人）</li>
</ul>
<p>在这个抽象级别，我们定义了账户是什么以及可以对账户执行哪些操作，但我们不需要知道账户数据是如何存储的（比如是在数据库中，还是在内存中）。</p>
<ul>
<li>（3）控制抽象</li>
</ul>
<p>控制抽象关注的是程序的控制流，而不是具体的控制机制。它允许我们定义程序的执行路径，而不需要立即知道控制流的具体实现。</p>
<p><strong>举例</strong>： 假设我们正在设计一个交通信号灯控制系统。控制抽象可能包括以下逻辑：</p>
<ul>
<li>红灯亮起</li>
<li>等待一定时间</li>
<li>黄灯闪烁</li>
<li>绿灯亮起</li>
<li>等待一定时间后返回到红灯</li>
</ul>
<p>在这个抽象级别，我们定义了信号灯变化的顺序，但我们不需要知道具体的计时机制或者信号灯是如何被激活的。控制抽象允许我们专注于信号灯变化的逻辑，而不是实现细节。</p>
<h2 id="网络结构的基本拓扑结构">网络结构的基本拓扑结构</h2>
<h3 id="拓扑结构的类型和使用选择">拓扑结构的类型和使用选择</h3>
<p>按照组网方式和组网形态：</p>
<ul>
<li>集中式</li>
<li>分布式</li>
<li>混合式</li>
<li>网状式</li>
</ul>
<p>按照节点和结构层次</p>
<ul>
<li>平面网络结构</li>
<li>分级网络结构</li>
<li>混合网络结构</li>
<li>Mesh网络结构</li>
</ul>
<h2 id="表示工具">表示工具</h2>
<h3 id="流程图">流程图</h3>
<ol>
<li>
<p>基本成分</p>
<ul>
<li>处理；</li>
<li>判断条件；</li>
<li>控制流。</li>
</ul>
</li>
<li>
<p>基本的控制结构</p>
<ul>
<li>顺序型；</li>
<li>选择型；</li>
<li>先判断（While）型循环；</li>
<li>后判断（Until）型循环；</li>
<li>多情况（Case）选择型。</li>
</ul>
</li>
<li>
<p>优点
对控制流程的描绘直观、清晰，易于学习掌握。</p>
</li>
<li>
<p>缺点</p>
<ul>
<li>诱使程序员过早地考虑程序的控制流程，而不去考虑程序的全局结构；</li>
<li>用箭头代表控制流，可以完全不顾结构程序设计的思想，随意转移控制；</li>
<li>不易表示数据结构；</li>
<li>修改麻烦。</li>
</ul>
</li>
</ol>
<h3 id="问题分析图">问题分析图</h3>
<p><a href="#R-image-f1c347d5cfbd7d9490d447667e213336" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690626234.png" alt="1716690626234" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f1c347d5cfbd7d9490d447667e213336"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690626234.png" alt="1716690626234" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="合图">合图</h3>
<p><a href="#R-image-b6fd61af4225909b8aa084eeb507d0ee" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690895413.png" alt="1716690895413" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b6fd61af4225909b8aa084eeb507d0ee"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/images/index/1716690895413.png" alt="1716690895413" class="lightbox-image        " loading="lazy"></a></p>
<p>优点</p>
<ul>
<li>功能明确，可以一眼看出来；</li>
<li>没有箭头，无法随意转移控制；</li>
<li>很容易确定局部和全局的作用域；</li>
<li>很容易表示嵌套关系，也可以表示模块的参差结构</li>
<li>强制让设计人员按照结程序设计描述方案；</li>
<li>图形直观。容易理解设计意图</li>
</ul>
<p>缺点</p>
<ul>
<li>当分支嵌套较多时较麻烦，有时候在一页纸上很难画下来；</li>
<li>画图麻烦修改麻烦</li>
</ul>
<h3 id="层次图">层次图</h3>
<p><a href="#R-image-f3093b4836d1cbe031d659aee9882d60" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="666" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f3093b4836d1cbe031d659aee9882d60"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image.png" alt="666" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="概要设计与详细设计的区别">概要设计与详细设计的区别</h2>
<ul>
<li>概要设计通常得到软件结构图</li>
<li>详细设计常用的描述方式（常用的图）：
<ul>
<li><a href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E5%9B%BE">流程图</a>、</li>
<li><a href="#%E5%90%88%E5%9B%BE">N-S图</a>、</li>
<li><a href="#%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90%E5%9B%BE">PAD图</a>、</li>
<li>过程设计语言（PLD），又称伪代码。</li>
</ul>
</li>
</ul>
<p>注：伪代码——伪代码是一种非正式的、类似编程语言的描述方式，它用于描述算法的逻辑流程而不涉及具体的编程语言细节。伪代码使得设计者可以在不编写实际代码的情况下表达算法和程序结构。</p>
<h2 id="接口设计">接口设计</h2>
<p>外部接口：外部用户、软/硬环境与软件系统的接口；
内部系统：已划分出的模块间接口。</p>
<h2 id="工厂方法模式">工厂方法模式</h2>
<p>为创建对象提供过度接口，以便将创建对象的具体过程屏蔽隔离起来，达到提高灵活性的目的</p>
<p>工厂模式在《java与模式》中分为：</p>
<ul>
<li>简单工厂模式</li>
<li>工厂方法模式</li>
<li>抽象工厂模式</li>
</ul>
<h2 id="拓扑控制中考虑的设计目标和相关概念-覆盖">拓扑控制中考虑的设计目标和相关概念-覆盖</h2>
<p>覆盖可以理解为对传感器网络质量的度量
覆盖可以分为：</p>
<ul>
<li>区域覆盖：研究对目标区域的覆盖（监测）问题；</li>
<li>点覆盖：研究离散的目标覆盖问题；</li>
<li>栅栏覆盖：研究运动穿过网络部署区域被发现的概率问题。</li>
</ul>
<h2 id="manet路由协议按需路由协议也是一种算法">MANET路由协议——按需路由协议（也是一种算法）</h2>
<p>TORA(temporally ordered routing alorithm)协议是临时按需路由协议，是一种有向环基础上提出的基于路由反转的自适应分布式路由算法。</p>
<p>作为一个有源端发起的按需路由，它可以找到从源头到目的节点的多条路由，当网络拓扑发生改变时，控制消息在改变的拓扑结构范围内传播，节点只需要维护相邻节点的路由信息；</p>
<p>协议由路由建立、路由维护、路由拆除三部分组成。</p>
<h2 id="无线传感网络选择">无线传感网络选择</h2>
<ul>
<li>选择有线还是无线</li>
<li>选择专利还是标准化无线方案</li>
<li>无线标准
<ul>
<li>GPRS</li>
<li>Wi-Fi</li>
<li>蓝牙</li>
<li>ZigBee</li>
</ul>
</li>
<li>无线网络拓扑结构</li>
</ul>
<h2 id="无线体域网">无线体域网</h2>
<p>WBAN由三部分组成：</p>
<ul>
<li>植入或佩戴于人体的<strong>网络神经</strong>，</li>
<li>作为通信枢纽的<strong>汇聚节点</strong>，</li>
<li>负责信息处理和控制整个网络的<strong>上位机监控系统</strong>。</li>
</ul>
<h3 id="wban采集人体生理信息的过程">WBAN采集人体生理信息的过程</h3>
<ol>
<li>某一种生理信号传感器和无线收发装置能够构成一个网络节点，各个节点分布式的分布在人体上，构成局域网。</li>
<li>网络节点在上位机电脑和汇聚节点的指令下收集人体生理信息，将收集到的信息通过汇聚节点传输到上位机电脑。</li>
</ol>
<h2 id="系统集成">系统集成</h2>
<ul>
<li>
<p>系统集成式指综合分布先系统和计算机网络技术，将各个分离的设备、功能和信息等集成到相互关联、统一和协调的系统之中，以达到资源充分共享，实现集中、高效、便利的管理。</p>
</li>
<li>
<p>系统集成采用功能集成、网络集成、软件界面集成等多种集成技术；</p>
</li>
<li>
<p>系统集成的关键在于解决系统之间互联和互操作性的问题，它是一个对厂商、多协议和面向各种应用的结构系统</p>
</li>
</ul>
<p>简而言之，就是把分散的东西集成到一起，使得它们之间可以相互通信共享数据的一种技术。</p>
<h2 id="软件测试的方法">软件测试的方法</h2>
<ul>
<li>黑盒测试，</li>
<li>白盒测试</li>
<li>灰盒测试。</li>
</ul>
<h2 id="静态测试">静态测试</h2>
<p>不执行代码。主要对编程格式、结构等方面进行评估并发现存在的错误。</p>
<p>优点：</p>
<ul>
<li>不必动态地运行代码，不必设计测试用例，不用判断测试结果；</li>
<li><strong>可以由人工进行，充分发挥人的逻辑思维优势，检查出错误的水平很高</strong>；</li>
<li>不需要特别条件，容易开展。</li>
</ul>
<p>具体步骤：</p>
<ul>
<li>代码审查</li>
<li>代码走查</li>
<li>桌面检查</li>
</ul>
<p>其他步骤（查看PPT）</p>
<p><a href="#R-image-fced292dd2e199d70b4d696435477e9f" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fced292dd2e199d70b4d696435477e9f"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="动态测试">动态测试</h2>
<p>通过运行软件来检查软件的动态行为和运行结果是否正确的方法。</p>
<p>特点：</p>
<ul>
<li>运行被测程序，取得程序运行的真实情况和动态情况，在进行打分；</li>
<li><strong>必须生成测试数据来运行程序，测试质量依赖于测试数据</strong>；</li>
<li>生成测试数据、分析测试结果的工作量大，展开测试费时、费力；</li>
<li><strong>动态测试中涉及多方面的工作，人员多、设备多、数据多、要求有较好的管理和工程规划</strong>；</li>
</ul>
<p>（1） 功能确认与接口测试
（2） 覆盖率分析
（3） 性能分析
（4） 内存分析</p>
<h2 id="集成测试">集成测试</h2>
<p>集成测试也称为组装测试或综合测试，在单元测试的基础上，将模块按照设计要求组装成子系统或系统，进行集成测试。</p>
<p>制定集成测试计划——设计集成测试——实施集成测试——评估集成模块</p>
<p>集成测试完成标准：</p>
<ul>
<li>成功执行了测试计划中规定的所有集成测试；</li>
<li><strong>修整了发现的错误；</strong></li>
<li>测试结果通过了专门小组的评审。</li>
</ul>
<hr>
<p><strong>MQTT和HTTP的底层都是TCP/IP，也就是物联网装置可以沿用既有的网路架构和设备，只是在网路上流通的「讯息格式」以及应用程式的处理机制不同.</strong></p>
<hr>
<h2 id="mqtt协议概述">MQTT协议概述</h2>
<p><a href="#R-image-ca3f1e8272fe52f8126b787df06aa5b0" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ca3f1e8272fe52f8126b787df06aa5b0"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
MQTT不同于HTTP标头采用文字描述，而是采用数字编码，整个长度只占2位元组，等同两个字元，后面跟着讯息的主题（topic）和内容（payload），格式如下：</p>
<table>
   <tr>
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td>
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td>
   </tr>
    <tr>
        <td colspan="4">讯息类型</td> 
        <td colspan="1">DUP(是否为副本)</td> 
        <td colspan="2">QoP(传输品质)</td> 
        <td colspan="1">R(是否保留)</td>
   </tr>
   <tr>
        <td>0</td> 
        <td>0</td> 
        <td>1</td> 
        <td>1</td>
        <td>0</td> 
        <td>0</td> 
        <td>0</td> 
        <td>0</td>
   </tr>
    <tr>
      <td colspan="8">剩余资料长度</td>    
    </tr>
</table>
<p><a href="#R-image-fabec0c59784fb203e22138cd94b52f7" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fabec0c59784fb203e22138cd94b52f7"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-54b73359829ebc20f605b3d8613b8e6c" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-54b73359829ebc20f605b3d8613b8e6c"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="传输品质qos">传输品质QoS</h2>
<p>传输品质QoS表示发布者与代理人（订阅者）之间数据传输的品质。</p>
<table>
<thead>
<tr>
<th>传输品质 QoS</th>
<th>说明</th>
<th>阿里云IOT</th>
</tr>
</thead>
<tbody>
<tr>
<td>QoS=0</td>
<td>最多传输一次，可能收不到</td>
<td>支持</td>
</tr>
<tr>
<td>QoS=1</td>
<td>最少传输一次可能会重传</td>
<td>支持</td>
</tr>
<tr>
<td>QoS=2</td>
<td>有且仅有一次传输</td>
<td>不支持</td>
</tr>
</tbody>
</table>
<p>注：<strong>MosQuito全都支持</strong></p>
<h2 id="mqttlens订阅以及发布消息">MQTTLens订阅以及发布消息</h2>
<p>订阅者可以透过下列三个叙述订阅多个主题：
<a href="#R-image-063c1eb3614a76f647a5704ccf73f979" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-063c1eb3614a76f647a5704ccf73f979"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
结合上面这张图来理解</p>
<p>1.假设订阅者要订阅温度，温度可以来自主题A（yard），主题B(soil)，主题C（Tool）。</p>
<p>订阅某个属性的信息</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>   home<span style="color:#f92672">/+/</span>DHT11
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">号内容可以是</span>yard<span style="color:#960050;background-color:#1e0010">，</span>soil可以写为
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>soil<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#960050;background-color:#1e0010">但不可以写为：</span>
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>pond<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>soil<span style="color:#f92672">/</span>DHT11<span style="color:#f92672">/</span>Temp</span></span></code></pre></div><p>订阅三个主题</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>   home<span style="color:#f92672">/+/+</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#960050;background-color:#1e0010">包含三个主题，具体如下</span>
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>soil<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>Tool<span style="color:#f92672">/</span>RID</span></span></code></pre></div><p>订阅某个主题的所有属性</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#960050;background-color:#1e0010">包含三个主题，具体如下</span>
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>pond<span style="color:#f92672">/</span>DHT11
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11<span style="color:#f92672">/</span>temp
</span></span><span style="display:flex;"><span>   home<span style="color:#f92672">/</span>yard<span style="color:#f92672">/</span>DHT11<span style="color:#f92672">/</span>humi</span></span></code></pre></div><p>在上面的代码中所写的#号表示订阅所有的主题，在使用时注意下面的写法是无效的：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>home<span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">#</span><span style="color:#f92672">/</span>DHT11 <span style="color:#75715e">//无效
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>home<span style="color:#f92672">/</span>yard<span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#75715e">//无效
</span></span></span></code></pre></div><h2 id="综合实验局域网内手机通信">综合实验——局域网内手机通信</h2>
<p>创建AP接入点、TCP服务器，通过手机连接ESP8266模块控制STM32开发板上的LED和蜂鸣器；</p>
<h3 id="实现的功能">实现的功能</h3>
<p>(1)STM32控制ESP8266模块创建AP接入点。</p>
<p>(2)STM32控制ESP8266创建TCP服务器。</p>
<p>(3)通过手机的软件连接ESP8266模块的TCP服务器。</p>
<p>(4)手机上可以通过WIFI模块控制STM32开发板的LED1、LED2、LED3和蜂鸣器。</p>
<p>(5)手机上可以看到STM32上传的温度和湿度。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//ESP8266初始化
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//Esp8266Mode:WIFI模块的工作模式，STA和AP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//ssid:要生成或者接入的SSID名字，如果已经一键配网，要写NULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//password:对应SSID的密码，如果已经一键配网，要写NULL
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//ip:如果要设置静态IP，要写对应的IP，否则写NULL。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>u8 <span style="color:#a6e22e">ESP8266_init</span>(u8 Esp8266Mode, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ssid,<span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>password, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ip)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    u8 i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.sta_ip,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.ap_ip,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(Esp8266Mode<span style="color:#f92672">==</span>ESP8266_MODE_STA)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        esp8266.mode<span style="color:#f92672">=</span>ESP8266_MODE_STA;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//STA模式有可能通过了一键配网模式得到了SSID和PSW
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(ssid<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.sta_ssid, <span style="color:#e6db74">&#34;%s&#34;</span>, ssid);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(password<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.sta_password, <span style="color:#e6db74">&#34;%s&#34;</span>, password);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ip<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.sta_ip, <span style="color:#e6db74">&#34;%s&#34;</span>, ip);<span style="color:#75715e">//设置STA模式静态IP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ESP8266_Printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">STA ssid:%s, psw:%s</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, esp8266.sta_ssid, esp8266.sta_password);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        esp8266.ap_chl<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>;<span style="color:#75715e">//通道号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        esp8266.ap_ecn<span style="color:#f92672">=</span>ESP8266_ECN_WPA_PSK;<span style="color:#75715e">//加密方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        esp8266.mode<span style="color:#f92672">=</span>ESP8266_MODE_AP;
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sprintf</span>(esp8266.ap_ssid, <span style="color:#e6db74">&#34;%s&#34;</span>, ssid);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sprintf</span>(esp8266.ap_password, <span style="color:#e6db74">&#34;%s&#34;</span>, password);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(ip<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.ap_ip, <span style="color:#e6db74">&#34;%s&#34;</span>, ip);<span style="color:#75715e">//设置AP模式静态IP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">ESP8266_Printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">AP ssid:%s, psw:%s</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, esp8266.ap_ssid, esp8266.ap_password);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    esp8266.smartconfig<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_reset</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_SendAT</span>(<span style="color:#e6db74">&#34;ATE0</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#ae81ff">1</span>);<span style="color:#75715e">//关回显
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//AP模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_AP<span style="color:#f92672">||</span>esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_AP_STA)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SetWiFiWorkMode</span>(esp8266.mode);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SoftAp</span>(esp8266.ap_ssid, esp8266.ap_password, esp8266.ap_chl, esp8266.ap_ecn);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SoftAp_staticIp</span>(esp8266.ap_ip);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//STA模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_STA<span style="color:#f92672">||</span>esp8266.mode<span style="color:#f92672">==</span>ESP8266_MODE_AP_STA)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_SetWiFiWorkMode</span>(esp8266.mode);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_ConnectAp</span>(esp8266.sta_ssid, esp8266.sta_password, NULL);
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">ESP8266_Station_staticIp</span>(esp8266.sta_ip);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//启动DHCP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ESP8266_SetDhcp</span>(esp8266.mode, <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_SendAT</span>(<span style="color:#e6db74">&#34;AT+CWLAPOPT=1,2047</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//设置WIFI工作的传输模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//transportProtocol：UDP，TCPservice,tcp_client
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//localPort:本地端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//remoteIp：远端的IP，如果是TCPservice模式，请写NULL或者&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">//remotePort：远端端口号的PORT
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>u8 <span style="color:#a6e22e">ESP8266_SetWorkMode</span>(u8 transportProtocol, u16 localPort, <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>remoteIp, u16 remotePort)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    u8 i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    esp8266.localPort<span style="color:#f92672">=</span>localPort;
</span></span><span style="display:flex;"><span>    esp8266.isConnect<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//连接是否创建　　1：已经创建
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//ID为无效的ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    esp8266.clientId[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    esp8266.clientId[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    esp8266.clientId[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    esp8266.clientId[<span style="color:#ae81ff">3</span>]<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.sta_mac,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">30</span>);
</span></span><span style="display:flex;"><span>    esp8266.curLen<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    esp8266.data_len<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;<span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.remoteIp,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">20</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ESP8266_TCP_SERVICE<span style="color:#f92672">==</span>transportProtocol)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.connectMode<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;<span style="color:#75715e">//1：TCP service  2:TCP client   3:UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(remoteIp<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.remoteIp, <span style="color:#e6db74">&#34;%s&#34;</span>, remoteIp);
</span></span><span style="display:flex;"><span>      esp8266.remotePort<span style="color:#f92672">=</span>remotePort;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(ESP8266_TCP_CLIENT<span style="color:#f92672">==</span>transportProtocol)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.connectMode<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;<span style="color:#75715e">//1：TCP service  2:TCP client   3:UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(remoteIp<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.remoteIp, <span style="color:#e6db74">&#34;%s&#34;</span>, remoteIp);
</span></span><span style="display:flex;"><span>      esp8266.remotePort<span style="color:#f92672">=</span>remotePort;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(ESP8266_UDP<span style="color:#f92672">==</span>transportProtocol)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.connectMode<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>;<span style="color:#75715e">//1：TCP service  2:TCP client   3:UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(remoteIp<span style="color:#f92672">!=</span>NULL) <span style="color:#a6e22e">sprintf</span>(esp8266.remoteIp, <span style="color:#e6db74">&#34;%s&#34;</span>, remoteIp);
</span></span><span style="display:flex;"><span>      esp8266.remotePort<span style="color:#f92672">=</span>remotePort;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">ESP8266_Printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">connectMode:%d, ip:%s, port:%d</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, esp8266.connectMode, esp8266.remoteIp,esp8266.remotePort);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  <span style="color:#75715e">//收到数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  ptr <span style="color:#f92672">=</span> (<span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#a6e22e">strstr</span>((<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)cmd,(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)<span style="color:#e6db74">&#34;+IPD,&#34;</span>); <span style="color:#75715e">//接收到+IPD开头，说明接收到数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">if</span>(ptr<span style="color:#f92672">!=</span>NULL)
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    u8 id<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//+IPD,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ptr<span style="color:#f92672">+=</span><span style="color:#ae81ff">5</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(ptr<span style="color:#f92672">==</span>NULL) <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//如果是TCP服务器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//格式会多一个id
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.connectMode<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>)<span style="color:#75715e">//如果是TCP服务器，找出&lt;link ID &gt;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">//TCP服务的处理
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      id<span style="color:#f92672">=</span><span style="color:#a6e22e">atoi</span>(ptr);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">while</span>(ptr<span style="color:#f92672">!=</span>NULL <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">*</span>ptr<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;,&#39;</span>) ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>      ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    esp8266.data_len<span style="color:#f92672">=</span><span style="color:#a6e22e">atoi</span>(ptr);<span style="color:#75715e">//读出接收到的数据长度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(ptr<span style="color:#f92672">!=</span>NULL <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">*</span>ptr<span style="color:#f92672">!=</span><span style="color:#e6db74">&#39;:&#39;</span>) ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">memset</span>(esp8266.data, <span style="color:#ae81ff">0</span>, MAX_WIFI_RX_LEN);
</span></span><span style="display:flex;"><span>    esp8266.curLen<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//读出收到的数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(esp8266.curLen<span style="color:#f92672">&lt;</span>MAX_WIFI_RX_LEN <span style="color:#f92672">&amp;&amp;</span> esp8266.curLen<span style="color:#f92672">&lt;</span>esp8266.data_len <span style="color:#f92672">&amp;&amp;</span> ptr<span style="color:#f92672">!=</span>NULL <span style="color:#f92672">&amp;&amp;</span> ((ptr<span style="color:#f92672">-</span>cmd)<span style="color:#f92672">&lt;=</span>len))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      esp8266.data[esp8266.curLen]<span style="color:#f92672">=*</span>ptr;<span style="color:#75715e">//数据存储
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      ptr<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>      esp8266.curLen<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//一次性把数据接收全
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span>(esp8266.curLen<span style="color:#f92672">&gt;=</span>esp8266.data_len)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>	   <span style="color:#75715e">//对接收到的数据进行处理
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">ESP8266_RxData</span>(esp8266.data, esp8266.curLen);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      esp8266.curLen<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>      esp8266.data_len<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    re<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>  }</span></span></code></pre></div><h2 id="实验三">实验三</h2>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">//以下是启动AP模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ESP8266_init</span>(ESP8266_MODE_AP, WIFI_SSID, WIFI_PASSWORD, WIFI_IP);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//配置协议模式：TCP服务器、TCP客户端或者UDP
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//配置要连接的IP和端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//注意！！注意！！注意！！以下二个配置参数只能打开其中一个。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//配置TCP服务器参数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//ESP8266_SetWorkMode(ESP8266_TCP_SERVICE, WIFI_PORT, NULL, 10000);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>     <span style="color:#75715e">//ESP8266_SetWorkMode(ESP8266_TCP_CLIENT, WIFI_PORT, ROMOTE_IP, ROMOTE_PORT);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>		 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//配置UDP的参数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//这里的IP&#34;192.168.1.90&#34;为UDP服务器所在的电脑IP，根据实际情况修改
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">ESP8266_SetWorkMode</span>(ESP8266_UDP, WIFI_PORT, <span style="color:#e6db74">&#34;192.168.1.2&#34;</span>, <span style="color:#ae81ff">10000</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>((count<span style="color:#f92672">%</span><span style="color:#ae81ff">20</span>)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>  					<span style="color:#a6e22e">ESP8266_run</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//3秒采集温湿度一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>((count<span style="color:#f92672">%</span><span style="color:#ae81ff">300</span>)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>)<span style="color:#75715e">//300次累加
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">DHT11</span>(<span style="color:#f92672">&amp;</span>t, <span style="color:#f92672">&amp;</span>h);<span style="color:#75715e">//采集温湿度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">sprintf</span>(buff, <span style="color:#e6db74">&#34;温度:%02d,湿度:%02d.</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>, t,h);
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">Gui_DrawFont_GBK16_line</span>(HAL_LCD_LINE_8,RED,WHITE,buff);<span style="color:#75715e">//发送温度值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#a6e22e">ESP8266_SendData</span>(buff, <span style="color:#a6e22e">strlen</span>(buff));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay_ms</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//闪灯表示程序活着
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>((count<span style="color:#f92672">%</span><span style="color:#ae81ff">20</span>)<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>) LED1<span style="color:#f92672">=!</span>LED1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        count<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="实验十">实验十</h2>
<p><a href="#R-image-1010bb90bfb3bde251009c92f4dd4a51" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-6.png" alt="1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1010bb90bfb3bde251009c92f4dd4a51"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-6.png" alt="1" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-5478d3f41ae8c77e173f90a1f54edb3d" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-7.png" alt="2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5478d3f41ae8c77e173f90a1f54edb3d"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-7.png" alt="2" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-85b15f3de4947d05a50a962023d4a03f" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-8.png" alt="3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-85b15f3de4947d05a50a962023d4a03f"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-8.png" alt="3" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-527f523599595bba51d3961aea28f434" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-9.png" alt="4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-527f523599595bba51d3961aea28f434"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-9.png" alt="4" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-d2dfcdd5a90329672d72d034970a4633" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-10.png" alt="5" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d2dfcdd5a90329672d72d034970a4633"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-10.png" alt="5" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-0d61c1e692e18ff28625951084c3259d" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-11.png" alt="6" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0d61c1e692e18ff28625951084c3259d"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-11.png" alt="6" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-f3fc5c769ada752e15ac3749f827d660" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-12.png" alt="7" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f3fc5c769ada752e15ac3749f827d660"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-12.png" alt="7" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-5aa0e11d8a8731b57b3bad0c1c5c8108" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-13.png" alt="8" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5aa0e11d8a8731b57b3bad0c1c5c8108"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/11.%E7%89%A9%E8%81%94%E7%BD%91%E5%BA%94%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/image-13.png" alt="8" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="关于stm32工程代码的几点说明">关于STM32工程代码的几点说明</h2>
<p>Define 是C语言中的宏定义，可以提高代码的可读性为编程提供方便。</p>
<p>STM32开发板的下载方式是串口；</p>
<p>函数定义的静态变量可以不赋初值，因为程序会分配存储空间；</p>
<h2 id="温度读取流程">温度读取流程</h2>
<ul>
<li>判断传感器相应是否正确；</li>
<li>安慰读取数值；</li>
<li>判断检验和是否正确；</li>
<li>提取温度值</li>
</ul>
<h2 id="在智慧大棚中采集温度值或者是光照值应该">在智慧大棚中采集温度值或者是光照值应该</h2>
<ul>
<li>在STM32开发板上搭建TCP服务器；</li>
<li>在不同区域放置若干WiFi模块，采集DHT11温湿度传感器；</li>
<li>WiFi模块和STM32模块连到同一个无线路由</li>
<li>WIFI模块通过TCP协议将传感器温湿度值传到服务器</li>
<li>传感器将接收到的数据存储在数据库中。</li>
</ul>
<h2 id="根据土壤情况进行自动灌溉">根据土壤情况进行自动灌溉</h2>
<ul>
<li>在STM32板子上搭建TCP服务器；</li>
<li>在大棚的不同区域放置若干WIFI模块，采集土壤湿度信息；</li>
<li>WiFi模块和STM32板子连接到同一个路由器；</li>
<li>WiFi模块通过TCP通信协议将土壤湿度信息传到服务器；</li>
<li>服务器更具当前的温湿度信息和阈值，启动和停止水泵。

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></li>
</ul>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0/">F1-复习</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/arkts/">ArkTS</a></li>
    <li><a class="term-link" href="./tags/harmonyos/">HarmonyOS</a></li>
    <li><a class="term-link" href="./tags/openharmony/">OpenHarmony</a></li>
    <li><a class="term-link" href="./tags/%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96/">云端一体化</a></li>
  </ul>
</div>
            </header>
<h1 id="10云端一体化的环境变量问题">10.云端一体化的环境变量问题</h1>

<p>参数<strong>context</strong> 与环境变量有关，不管是系统还是用户自定义的都用这个来获取，获取方式：context.env</p>
<ul>
<li>先部署云函数到远端，然后在去远端添加环境变量，然后在本地运行虚拟机查看。</li>
</ul>
<p>负载均衡的四种方式</p>
<ul>
<li>随机</li>
<li>轮询</li>
<li>最少连接数</li>
<li>最短响应时间</li>
</ul>
<p>延迟时长的重试策略</p>
<ul>
<li>zero:一旦云函数调用失败，则调用，中间不等待</li>
<li>constant：调用失败等一段时间</li>
<li>jittered:调用失败等一段时间，再次调用，如果失败等待时间以指数增长</li>
</ul>
<p>熔断</p>
<p>设置一定的条件，满足条件后会执行熔断。熔断后云函数不在提供服务。</p>
<p><a href="#R-image-72a60c1b0e5ecd8447ee8c3d689d0ab0" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/./log.JPG" alt="e" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-72a60c1b0e5ecd8447ee8c3d689d0ab0"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/10.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E7%9A%84%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%97%AE%E9%A2%98/./log.JPG" alt="e" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">应用开发</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/arkts/">ArkTS</a></li>
    <li><a class="term-link" href="./tags/harmonyos/">HarmonyOS</a></li>
    <li><a class="term-link" href="./tags/openharmony/">OpenHarmony</a></li>
    <li><a class="term-link" href="./tags/%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96/">云端一体化</a></li>
  </ul>
</div>
            </header>
<h1 id="9云端一体化如何查看云函数日志">9.云端一体化如何查看云函数日志？</h1>

<p>调用云函数的时候我们总有输入输出结果不符合自己预期的时候，这个时候查看日志很重要！！在云端一体化开发过程中，我们可以通过下面的方式解决这一问题：</p>
<p>首先参数event的输出以JSON格式输出，这样方便阅读，下面有一段代码，</p>
<p>云函数代码如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">stringify</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;querystring&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">myHandler</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">context</span>, <span style="color:#a6e22e">callback</span>, <span style="color:#a6e22e">logger</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">info</span>(<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">event</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">body</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">callback</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">code</span>: <span style="color:#66d9ef">200</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.`</span>
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> { <span style="color:#a6e22e">myHandler</span> };</span></span></code></pre></div><p>获取信息的ets文件如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyIndex</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">message</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;请输入姓名&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;使用云端一体化&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">20</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">callFunction</span>({
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;login&#39;</span>,<span style="color:#75715e">//云函数的名字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>              <span style="color:#a6e22e">version</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;$latest&#39;</span>,
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">params</span><span style="color:#f92672">:</span>{<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">this.name</span>}
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">message</span><span style="color:#f92672">=</span><span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">getValue</span>().<span style="color:#a6e22e">message</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Text</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">message</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">50</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontWeight</span>(<span style="color:#a6e22e">FontWeight</span>.<span style="color:#a6e22e">Bold</span>)
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p><strong>function函数的说明：</strong></p>
<ul>
<li>触发条件：
<ul>
<li>HTTP请求，</li>
<li>云数据库插入，</li>
<li>云存储</li>
</ul>
</li>
<li>参数含义：
<ul>
<li>输入信息（），</li>
<li>执行时上下文信息（环境变量），</li>
<li>输出（返回结果给调用者），</li>
<li>记录日志（）</li>
</ul>
</li>
</ul>
<p>此处做了这样的处理使得日志输出以JSON格式输出：</p>
<hr>
<pre><code>logger.info(JSON.stringify(event))
</code></pre>
<hr>
<p>当遇到问题时，去官方的开发论坛搜索相关内容，
此处我想实现输入一个名字，然后让云端函数以不同的方式输出，比如：</p>
<hr>
<p>你好，张三</p>
<p>你好，李四</p>
<hr>
<p>但是现在输出的是：<strong>你好，%&amp;*%%</strong></p>
<p>解决办法：</p>
<p><a href="https://developer.huawei.com/consumer/cn/doc/AppGallery-connect-Guides/agc-cloudfunction-appx-event-0000001620581529" target="_blank">查看event参数说明</a></p>
<p><a href="#R-image-dd2023cb94ea1bb2ae6fad6be50c8164" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image.png" alt="jietu1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dd2023cb94ea1bb2ae6fad6be50c8164"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image.png" alt="jietu1" class="lightbox-image        " loading="lazy"></a></p>
<p>再去CAG官网选择云监控&mdash;&gt;日志服务</p>
<p><a href="#R-image-2688b6b52c40e7c88b67a8ecd317d6b9" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-1.png" alt="截图2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2688b6b52c40e7c88b67a8ecd317d6b9"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-1.png" alt="截图2" class="lightbox-image        " loading="lazy"></a></p>
<p>然后复制右边的内容,放到一个json文件夹，用编译器（比如VScode）打开，并调整格式(如果用的是VScode，请使用<strong>shift+alt+F</strong>调整json格式)如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-jsonyouweishengke" data-lang="jsonyouweishengke">{
    &#34;path&#34;: &#34;login-$latest&#34;,
    &#34;httpMethod&#34;: &#34;POST&#34;,

    &#34;headers&#34;: 
    {
        &#34;user-agent&#34;: &#34;libcurl-agent/1.0&#34;,
        &#34;x-forwarded-for&#34;: &#34;115.46.239.151, 10.135.135.154, 10.134.64.11&#34;,
        &#34;x-forwarded-port&#34;: &#34;443&#34;,
        &#34;accept&#34;: &#34;*/*&#34;,
        &#34;accept-encoding&#34;: &#34;gzip&#34;,
        &#34;agcgw-trigger-authtype&#34;: &#34;apigw-client&#34;,
        &#34;host&#34;: &#34;10.14.4.31&#34;,
        &#34;content-type&#34;: &#34;application/json;charset=UTF-8&#34;,
        &#34;packagename&#34;: &#34;com.itwcx.test&#34;,
        &#34;appid&#34;: &#34;5765880207853994135&#34;,
        &#34;authorization&#34;: &#34;SDK-HMAC-SHA256 containPath=false,containBody=false,containQuery=false,accessId=m7rTGQ2uNvyq1AGfJFLo,timestamp=1711175951586,signedHeaders=appid;productid,signature=44fe3b4da7d80ec9dfee07ca3747c448e94254b5454fef87f468150089f38623&#34;,
        &#34;x-forwarded-host&#34;: &#34;10.14.4.31&#34;,
        &#34;appversion&#34;: &#34;1.0.0&#34;,
        &#34;sdkplatformversion&#34;: &#34;3.2.0.0&#34;,
        &#34;sdktype&#34;: &#34;TS&#34;,
        &#34;content-length&#34;: &#34;19&#34;,
        &#34;x-real-ip&#34;: &#34;10.134.64.11&#34;,
        &#34;sdkversion&#34;: &#34;1.0.0&#34;,
        &#34;x-forwarded-proto&#34;: &#34;https&#34;,
        &#34;sdkservicename&#34;: &#34;agconnect-cloud&#34;,
        &#34;x-trace-id&#34;: &#34;f09f1070-6d7b-46a9-875d-bfb2bc4bfdb9&#34;,
        &#34;productid&#34;: &#34;388421841222044287&#34;,
        &#34;sdkplatform&#34;: &#34;OpenHarmony&#34;
    },

    &#34;queryStringParameters&#34;: &#34;&#34;,
    &#34;queryParameters&#34;: null,
    &#34;body&#34;: &#34;{\&#34;name\&#34;:\&#34;zhangsan\&#34;}&#34;,
    &#34;isBase64Encoded&#34;: false,
    &#34;pathVariable&#34;: null
}</code></pre></div><p>此处我们只查看参数event的HTTP请求的相关说明：</p>
<p>比较官网的event参数格式与自己日志打印的格式，看看有什么不同</p>
<p><a href="#R-image-3a92a588f1aa04f9fd290a52169679b8" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-2.png" alt="截图3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3a92a588f1aa04f9fd290a52169679b8"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-2.png" alt="截图3" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-617a2cb4132409c4c600b869083c8857" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-3.png" alt="截图4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-617a2cb4132409c4c600b869083c8857"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-3.png" alt="截图4" class="lightbox-image        " loading="lazy"></a></p>
<p>观察可知问题出在body这个参数，参数是json格式，而日志打印的是字符格式，我们需要把字符格式转换成json格式，做如下操作：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TS" data-lang="TS"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">stringify</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;querystring&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">myHandler</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">async</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">event</span>, <span style="color:#a6e22e">context</span>, <span style="color:#a6e22e">callback</span>, <span style="color:#a6e22e">logger</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">info</span>(<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">event</span>));
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">obj</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">parse</span>(<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">body</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">obj</span>.<span style="color:#a6e22e">name</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">callback</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">code</span>: <span style="color:#66d9ef">200</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`Hello </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">name</span><span style="color:#e6db74">}</span><span style="color:#e6db74">.`</span>
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> { <span style="color:#a6e22e">myHandler</span> };</span></span></code></pre></div><p>上面的代码中</p>
<hr>
<pre><code>const obj = JSON.parse(event.body)
const name = obj.name
</code></pre>
<hr>
<p>就是转换操作。</p>
<h2 id="认证服务">认证服务</h2>
<h3 id="登录页面的实现">登录页面的实现</h3>
<p><a href="#R-image-5eb53b9f9a982591d0f950dc8e633eca" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-4.png" alt="截图7" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5eb53b9f9a982591d0f950dc8e633eca"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-4.png" alt="截图7" class="lightbox-image        " loading="lazy"></a></p>
<p>登录验证代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AuthMode</span>,<span style="color:#a6e22e">Login</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/auth-component&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">AuthUser</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLogin</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">message</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Hello World&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Login</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">modes</span><span style="color:#f92672">:</span>[<span style="color:#a6e22e">AuthMode</span>.<span style="color:#a6e22e">PHONE_VERIFY_CODE</span>],
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">onSuccess</span><span style="color:#f92672">:</span>(<span style="color:#a6e22e">usr</span>:<span style="color:#66d9ef">AuthUser</span>) <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">pushUrl</span>({<span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;page/MyWelcome&#39;</span>})
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        }){
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登录&#39;</span>)
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p><a href="#R-image-c1bfc3ac9028a9c3e7d6e5c5fcbd37da" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-5.png" alt="12" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c1bfc3ac9028a9c3e7d6e5c5fcbd37da"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/9.%E4%BA%91%E7%AB%AF%E4%B8%80%E4%BD%93%E5%8C%96%E5%A6%82%E4%BD%95%E6%9F%A5%E7%9C%8B%E4%BA%91%E5%87%BD%E6%95%B0%E6%97%A5%E5%BF%97/image-5.png" alt="12" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="页面登录获取验证码">页面登录获取验证码</h2>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Auth</span>, <span style="color:#a6e22e">VerifyCodeAction</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLogin</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">countDown</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//用一个变量来获取setinterval的ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">intervalId</span>:<span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e">//因为这个变量与页面显示无关所以不用@State注释
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonEnable</span>:<span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonText</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;获取验证码&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCode</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;输入验证码&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//定时器代码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">waiting</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//在一点击时，就显示10S
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(() <span style="color:#f92672">=&gt;</span> { <span style="color:#75715e">//要知道定时器结束没有需要知道它的返回结果，这个结果可以通过setinterval的ID获取。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//将倒计时显示出来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//如果减到0，清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">clearInterval</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span>)<span style="color:#75715e">//得到返回结果后清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;获取验证码&#39;</span><span style="color:#75715e">//倒计时结束时回复
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#75715e">//当点击时按键不可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#75715e">//不需要再往下继续执行了，所以return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#f92672">--</span>
</span></span><span style="display:flex;"><span>    },<span style="color:#ae81ff">1000</span>)<span style="color:#75715e">//每隔1秒减一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">judgement</span>(){
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span>){
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>     }<span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">sending_verifyCode</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> { <span style="color:#75715e">//调用方式异步调用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">requestVerifyCode</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">verifyCodeType</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">action</span>: <span style="color:#66d9ef">VerifyCodeAction.REGISTER_LOGIN</span>, <span style="color:#75715e">//验证的方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">lang</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zh_CN&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sendInterval</span>: <span style="color:#66d9ef">10</span>
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({ <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;错误&#39;</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;验证码失败&#39;</span> })<span style="color:#75715e">//弹窗内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">login_verify</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span>  <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signIn</span>({ <span style="color:#75715e">//定义一个变量来接收它的返回结果,返回的是result，在通过result.gitUsr获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">credentialInfo</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">verifyCode</span>: <span style="color:#66d9ef">this.verifyCode</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">getUser</span>()
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AppStorage</span>.<span style="color:#a6e22e">SetOrCreate</span>(<span style="color:#e6db74">&#39;user&#39;</span>,<span style="color:#a6e22e">user</span>)<span style="color:#75715e">//存储用户到 AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;pages/MyLoginLignOut&#39;</span> })
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({<span style="color:#a6e22e">title</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;错误&#39;</span>,<span style="color:#a6e22e">message</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;登陆失败&#39;</span>})
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;请输入手机号&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#66d9ef">type</span>(<span style="color:#a6e22e">InputType</span>.Number)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">values</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">values</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">judgement</span>()<span style="color:#75715e">//点击获取验证码时，判断按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        })
</span></span><span style="display:flex;"><span>       <span style="color:#a6e22e">Row</span>(){
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;验证码&#39;</span>})
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;70%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span><span style="color:#f92672">=</span><span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">Button</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;30%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span>)<span style="color:#75715e">//该属性是控制按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span>{ <span style="color:#75715e">//所在方法加async
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">waiting</span>()
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">sending_verifyCode</span>()
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登录&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">6</span>)<span style="color:#75715e">//手机号11位，且验证码六位时点击登录才有效
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">login_verify</span>()
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>登录后跳转到的页面：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> ,{<span style="color:#a6e22e">AuthUser</span>}<span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;@hw-agconnect/cloud&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLoginLignOut</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">photoUrl</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储头像路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">displayName</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储用户昵称
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@StorageLink</span>(<span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#a6e22e">user</span>:<span style="color:#66d9ef">AuthUser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">//定义一个AuthUser的类型来获取用户存的值，(&#39;user&#39;)叫存储对象名，是在另一个页面定义的名字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">aboutToAppear</span>(){<span style="color:#75715e">//build渲染前就运行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//1.cloud.auth().getCurrentUser()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//2.appStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getDisplayName</span>()<span style="color:#75715e">//获取用户，间接通过用户拿到用户头像等数据。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getPhotoUrl</span>()
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Row</span>(){
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">Image</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl?this.photoUrl</span>:<span style="color:#66d9ef">$r</span>(<span style="color:#e6db74">&#39;app.media.app_icon&#39;</span>))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">80</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">80</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">onClick</span>(()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span><span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;https://img.btstu.cn/api/images/5a2a5d5560223.jpg&#39;</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>        }.<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">justifyContent</span>(<span style="color:#a6e22e">FlexAlign</span>.<span style="color:#a6e22e">Center</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">padding</span>({<span style="color:#a6e22e">bottom</span>:<span style="color:#66d9ef">70</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;设置昵称&#39;</span>,<span style="color:#a6e22e">text</span>:<span style="color:#66d9ef">this.displayName</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">25</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">fontWeight</span>(<span style="color:#a6e22e">FontWeight</span>.<span style="color:#a6e22e">Bold</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;保存&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">margin</span>({<span style="color:#a6e22e">top</span>:<span style="color:#66d9ef">10</span>,<span style="color:#a6e22e">bottom</span>:<span style="color:#66d9ef">10</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">90</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{<span style="color:#75715e">//保存图片与用户名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">updateProfile</span>({<span style="color:#75715e">//保存头像、用户名
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">displayName</span>: <span style="color:#66d9ef">this.displayName</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">photoUrl</span>: <span style="color:#66d9ef">this.photoUrl</span>
</span></span><span style="display:flex;"><span>              })
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;updateProfile&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;updateProfile&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登出&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">margin</span>({<span style="color:#a6e22e">top</span>:<span style="color:#66d9ef">10</span>,<span style="color:#a6e22e">bottom</span>:<span style="color:#66d9ef">10</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">90</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signOut</span>()
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;SignOut&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({<span style="color:#a6e22e">url</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;pages/MyLogin&#39;</span>})
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;SignOut&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h3 id="个人设置中心">个人设置中心</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span>, { <span style="color:#a6e22e">AuthUser</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">picker</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.file.picker&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyIndex</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">photoUrl</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储头像路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">displayName</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span> <span style="color:#75715e">//存储用户昵称
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@StorageLink</span>(<span style="color:#e6db74">&#39;user&#39;</span>) <span style="color:#a6e22e">user</span>: <span style="color:#66d9ef">AuthUser</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">//定义一个AuthUser的类型来获取用户存的值，(&#39;user&#39;)叫存储对象名，是在另一个页面定义的名字
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">uploading</span>: <span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#75715e">//用户控制图片是否可以点击，上传时不可以点击
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">uploadingText</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;0%&#39;</span><span style="color:#75715e">//上传进度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">aboutToAppear() {</span>  <span style="color:#75715e">//build渲染前就运行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// 1. cloud.auth().getCurrentUser()
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// 2. AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span><span style="color:#f92672">?</span>.<span style="color:#a6e22e">getDisplayName</span>()<span style="color:#75715e">//获取用户，间接通过用户拿到用户头像等数据。加问号是因为在aboutToAppear运行时是无法获取用户名或图片等信息的
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span><span style="color:#f92672">?</span>.<span style="color:#a6e22e">getPhotoUrl</span>()
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column</span>({ <span style="color:#a6e22e">space</span>: <span style="color:#66d9ef">10</span> }) {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Stack() {</span><span style="color:#75715e">//Stack该属性让它所包含的组件重叠
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          <span style="color:#a6e22e">Image</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> : <span style="color:#66d9ef">$r</span>(<span style="color:#e6db74">&#39;app.media.user_dark&#39;</span>))
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">borderRadius</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">enabled</span>(<span style="color:#f92672">!</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span>)
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">onComplete</span>(()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>            .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#75715e">// this.photoUrl = &#39;网络图片的地址&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>              <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 1. 从相簿中选照片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">picker</span>.<span style="color:#a6e22e">PhotoSelectOptions</span>()
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">MIMEType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">picker</span>.<span style="color:#a6e22e">PhotoViewMIMETypes</span>.<span style="color:#a6e22e">IMAGE_TYPE</span><span style="color:#75715e">//媒体类型：视频还是图片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">options</span>.<span style="color:#a6e22e">maxSelectNumber</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span><span style="color:#75715e">//最大选择个数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">picker</span>.<span style="color:#a6e22e">PhotoViewPicker</span>().<span style="color:#a6e22e">select</span>(<span style="color:#a6e22e">options</span>)<span style="color:#75715e">//把参数传给下面的方法，把结果传给result
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#e6db74">`Picker Success </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">photoUris</span>[<span style="color:#ae81ff">0</span>]<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 2. 调云存储 api 上传照片
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">storage</span>().<span style="color:#a6e22e">upload</span>({
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">localPath</span>: <span style="color:#66d9ef">result.photoUris</span>[<span style="color:#ae81ff">0</span>],<span style="color:#75715e">//本地图片路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">cloudPath</span><span style="color:#f92672">:</span> <span style="color:#e6db74">`test/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getUid</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">.jpg`</span>,<span style="color:#75715e">//云存储那边存储的路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  <span style="color:#a6e22e">onUploadProgress</span>: <span style="color:#66d9ef">event</span> <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">percent</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>(<span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">loaded</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">total</span>)<span style="color:#75715e">//获取上传的百分比，event.loaded：已上传的自己数，event.total：总的自己数，Math.floor：舍弃小数点
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploadingText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">percent</span><span style="color:#e6db74">}</span><span style="color:#e6db74">%`</span>  <span style="color:#75715e">//数值更新到uploadingText
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                  }
</span></span><span style="display:flex;"><span>                })
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#e6db74">&#39;Upload Success&#39;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#75715e">// 3. 获取上传照片的网络地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">url</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">storage</span>().<span style="color:#a6e22e">getDownloadURL</span>(<span style="color:#e6db74">`test/</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">getUid</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">.jpg`</span>)<span style="color:#75715e">//获取公网地址，拿到图片在网络上的地址
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">photoUrl</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">url</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&amp;ts=</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">new</span> Date().<span style="color:#a6e22e">getTime</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">`</span><span style="color:#75715e">//这个里做这个处理是因为，图片被缓存起来了，上传的时候如果只是给云存储的地址，那么在传第二张图片到云存储后，photoUrl再获取时，因为图片地址不变照片也不会改变，它会缓存起来，而在图片后面加上一个时间图片就不在被缓存。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">// this.uploading = false
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#e6db74">`url: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">url</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>              } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Upload&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>              }
</span></span><span style="display:flex;"><span>            })
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploading</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 显示上传进度
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#a6e22e">Text</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">uploadingText</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">height</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">borderRadius</span>(<span style="color:#ae81ff">70</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">fontColor</span>(<span style="color:#e6db74">&#39;white&#39;</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">backgroundColor</span>(<span style="color:#e6db74">&#39;black&#39;</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">opacity</span>(<span style="color:#ae81ff">0.6</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">fontSize</span>(<span style="color:#ae81ff">24</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">fontWeight</span>(<span style="color:#a6e22e">FontWeight</span>.<span style="color:#a6e22e">Bolder</span>)
</span></span><span style="display:flex;"><span>              .<span style="color:#a6e22e">textAlign</span>(<span style="color:#a6e22e">TextAlign</span>.<span style="color:#a6e22e">Center</span>)<span style="color:#75715e">//文字对齐方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({ <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;请设置昵称&#39;</span>, <span style="color:#a6e22e">text</span>: <span style="color:#66d9ef">this.displayName</span> })
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;50%&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">displayName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">`保存`</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">updateProfile</span>({
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">displayName</span>: <span style="color:#66d9ef">this.displayName</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">photoUrl</span>: <span style="color:#66d9ef">this.photoUrl</span>
</span></span><span style="display:flex;"><span>              })
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;updateProfile&#39;</span>, <span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;updateProfile&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">`登出`</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>              <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signOut</span>()
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;SignOut&#39;</span>, <span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;pages/MyLoginCustom&#39;</span> })
</span></span><span style="display:flex;"><span>            } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>              <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;SignOut&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="登录页面">登录页面</h2>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Auth</span>, <span style="color:#a6e22e">VerifyCodeAction</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">cloud</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@hw-agconnect/cloud&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">hilog</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.hilog&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">router</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#39;@ohos.router&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Entry</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">@Component</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">struct</span> <span style="color:#a6e22e">MyLogin</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">countDown</span>: <span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//用一个变量来获取setinterval的ID
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">intervalId</span>:<span style="color:#66d9ef">number</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e">//因为这个变量与页面显示无关所以不用@State注释
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonEnable</span>:<span style="color:#66d9ef">boolean</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCodeButtonText</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;获取验证码&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">@State</span> <span style="color:#a6e22e">verifyCode</span>:<span style="color:#66d9ef">string</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;输入验证码&#39;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">mainPage</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`pages/StudentPage`</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">aboutToAppear() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">getCurrentUser</span>()<span style="color:#75715e">//获取当前认证用户
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">user</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {<span style="color:#75715e">//获取用户是否为空，如果用户已经断开会话，则下一次进入时间走时登录流程
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">AppStorage</span>.<span style="color:#a6e22e">SetOrCreate</span>(<span style="color:#e6db74">&#39;user&#39;</span>, <span style="color:#a6e22e">user</span>) <span style="color:#75715e">// 如果会话未断开，不走登录流程，而是吧用户数据存到AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span>: <span style="color:#66d9ef">this.mainPage</span> })
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">error</span>(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;Login&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">//定时器代码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">waiting</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//在一点击时，就显示10S
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(() <span style="color:#f92672">=&gt;</span> { <span style="color:#75715e">//要知道定时器结束没有需要知道它的返回结果，这个结果可以通过setinterval的ID获取。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#e6db74">}</span><span style="color:#e6db74">s`</span><span style="color:#75715e">//将倒计时显示出来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//如果减到0，清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">clearInterval</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span>)<span style="color:#75715e">//得到返回结果后清楚定时器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">intervalId</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;获取验证码&#39;</span><span style="color:#75715e">//倒计时结束时回复
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span> <span style="color:#75715e">//当点击时按键不可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#75715e">//不需要再往下继续执行了，所以return
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">countDown</span><span style="color:#f92672">--</span>
</span></span><span style="display:flex;"><span>    },<span style="color:#ae81ff">1000</span>)<span style="color:#75715e">//每隔1秒减一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  }
</span></span><span style="display:flex;"><span>   <span style="color:#a6e22e">judgement</span>(){
</span></span><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span>){
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>     }<span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span><span style="color:#f92672">=</span><span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>     }
</span></span><span style="display:flex;"><span>   }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">sending_verifyCode</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> { <span style="color:#75715e">//调用方式异步调用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">requestVerifyCode</span>({
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">verifyCodeType</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">action</span>: <span style="color:#66d9ef">VerifyCodeAction.REGISTER_LOGIN</span>, <span style="color:#75715e">//验证的方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">lang</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;zh_CN&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">sendInterval</span>: <span style="color:#66d9ef">10</span>
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({ <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;错误&#39;</span>, <span style="color:#a6e22e">message</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;验证码失败&#39;</span> })<span style="color:#75715e">//弹窗内容
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;VerifCode&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">async</span> <span style="color:#a6e22e">login_verify</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span>  <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">cloud</span>.<span style="color:#a6e22e">auth</span>().<span style="color:#a6e22e">signIn</span>({ <span style="color:#75715e">//定义一个变量来接收它的返回结果,返回的是result，在通过result.gitUsr获取用户信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">credentialInfo</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">kind</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;phone&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">countryCode</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;86&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">phoneNumber</span>: <span style="color:#66d9ef">this.phoneNumber</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">verifyCode</span>: <span style="color:#66d9ef">this.verifyCode</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      })
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">user</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">result</span>.<span style="color:#a6e22e">getUser</span>()
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AppStorage</span>.<span style="color:#a6e22e">SetOrCreate</span>(<span style="color:#e6db74">&#39;user&#39;</span>,<span style="color:#a6e22e">user</span>)<span style="color:#75715e">//存储用户到 AppStorage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#e6db74">&#39;Success&#39;</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">router</span>.<span style="color:#a6e22e">replaceUrl</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;pages/MyLoginLignOut&#39;</span> })
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">catch</span> (<span style="color:#a6e22e">e</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">AlertDialog</span>.<span style="color:#a6e22e">show</span>({<span style="color:#a6e22e">title</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;错误&#39;</span>,<span style="color:#a6e22e">message</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;登陆失败&#39;</span>})
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">hilog</span>.<span style="color:#a6e22e">info</span>(<span style="color:#ae81ff">0</span>,<span style="color:#e6db74">&#39;Login&#39;</span>,<span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">e</span>))
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">build() {</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Row() {</span>
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">Column() {</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;请输入手机号&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#66d9ef">type</span>(<span style="color:#a6e22e">InputType</span>.Number)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">values</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">values</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">judgement</span>()<span style="color:#75715e">//点击获取验证码时，判断按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        })
</span></span><span style="display:flex;"><span>       <span style="color:#a6e22e">Row</span>(){
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;验证码&#39;</span>})
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;70%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">onChange</span>(<span style="color:#a6e22e">value</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span><span style="color:#f92672">=</span><span style="color:#a6e22e">value</span>
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>         <span style="color:#a6e22e">Button</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonText</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;30%&#39;</span>)
</span></span><span style="display:flex;"><span>           .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCodeButtonEnable</span>)<span style="color:#75715e">//该属性是控制按键是否可用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>           .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> () <span style="color:#f92672">=&gt;</span>{ <span style="color:#75715e">//所在方法加async
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">waiting</span>()
</span></span><span style="display:flex;"><span>             <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">sending_verifyCode</span>()
</span></span><span style="display:flex;"><span>           })
</span></span><span style="display:flex;"><span>       }
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Button</span>(<span style="color:#e6db74">&#39;登录&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">enabled</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">phoneNumber</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">11</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">verifyCode</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">6</span>)<span style="color:#75715e">//手机号11位，且验证码六位时点击登录才有效
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          .<span style="color:#a6e22e">onClick</span>(<span style="color:#66d9ef">async</span> ()<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">login_verify</span>()
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      .<span style="color:#a6e22e">width</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    .<span style="color:#a6e22e">height</span>(<span style="color:#e6db74">&#39;100%&#39;</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>希望文档对你有所帮助。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91/">应用开发</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/arkts%E8%AF%AD%E8%A8%80/">ArkTS语言</a></li>
    <li><a class="term-link" href="./tags/harmonyos/">HarmonyOS</a></li>
    <li><a class="term-link" href="./tags/openharmony/">OpenHarmony</a></li>
  </ul>
</div>
            </header>
<h1 id="8速通arkts语言">8.速通ArkTS语言</h1>

<h2 id="数据类型">数据类型</h2>
<p><a href="#R-image-ff8b7cd25ab724c26a0b583df390ac40" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ff8b7cd25ab724c26a0b583df390ac40"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="https://www.typescriptlang.org/play" target="_blank">练习网址：</a></p>
<h2 id="条件语句">条件语句</h2>
<p><a href="#R-image-ea0ba6ae492b0dd460a359178c571fef" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-1.png" alt="alt text1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ea0ba6ae492b0dd460a359178c571fef"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-1.png" alt="alt text1" class="lightbox-image        " loading="lazy"></a></p>
<p>拓展：for in与for of的使用</p>
<ul>
<li>for in ：遍历得到数组的角标，</li>
<li>for of ：直接得到元素。
<a href="#R-image-4af8370e8342ed146157b9e19f97aa57" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4af8370e8342ed146157b9e19f97aa57"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h2 id="函数">函数</h2>
<p>使用function关键字声明函数，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TS" data-lang="TS"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">outname</span>(<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span>)<span style="color:#f92672">:</span><span style="color:#66d9ef">void</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;你好&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">name</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//第二种写法：
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">outname</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span>)<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;你好&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">name</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">outname</span>(<span style="color:#e6db74">&#39;lucy&#39;</span>)</span></span></code></pre></div><p>ts还提供了一种可传参数和不传参数也执行的函数的操作，写法如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-TS" data-lang="TS"><span style="display:flex;"><span><span style="color:#66d9ef">let</span> <span style="color:#a6e22e">outname</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">name</span>:<span style="color:#66d9ef">string</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;张三&#39;</span>)<span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;你好&#39;</span><span style="color:#f92672">+</span><span style="color:#a6e22e">name</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#34;!&#34;</span>)
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">outname</span>()</span></span></code></pre></div><h2 id="面向对象">面向对象</h2>
<h2 id="模块的导入导出">模块的导入导出</h2>
<p>提高代码的重复使用
<a href="#R-image-9e65190a7a19e14d55feaaeab5559291" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-3.png" alt="alt text3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9e65190a7a19e14d55feaaeab5559291"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-3.png" alt="alt text3" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="组件的使用">组件的使用</h2>
<h3 id="image组件">image组件</h3>
<h3 id="textinput组件">textinput组件</h3>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">text</span>:<span style="color:#66d9ef">this.imagewidth.toFixed</span>(<span style="color:#ae81ff">0</span>)})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">150</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">backgroundColor</span>(<span style="color:#e6db74">&#39;#36D00A&#39;</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#66d9ef">type</span>(<span style="color:#a6e22e">InputType</span>.Number)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">onChange</span>( <span style="color:#a6e22e">values</span> <span style="color:#f92672">=&gt;</span>{
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">imagewidth</span> <span style="color:#f92672">=</span> parseInt(<span style="color:#a6e22e">values</span>)
</span></span><span style="display:flex;"><span>          })
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">TextInput</span>({<span style="color:#a6e22e">placeholder</span><span style="color:#f92672">:</span><span style="color:#e6db74">&#39;nihao&#39;</span>})
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">width</span>(<span style="color:#ae81ff">150</span>)
</span></span><span style="display:flex;"><span>          .<span style="color:#a6e22e">backgroundColor</span>(<span style="color:#e6db74">&#39;#4399&#39;</span>)</span></span></code></pre></div><p>效果如下图：
<a href="#R-image-61d4834e2edd47b3de3e30e039c8e320" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-4.png" alt="效果1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-61d4834e2edd47b3de3e30e039c8e320"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-4.png" alt="效果1" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-dee08611138a7d29708c67d2b7d50bd2" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-5.png" alt="效果2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dee08611138a7d29708c67d2b7d50bd2"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-5.png" alt="效果2" class="lightbox-image        " loading="lazy"></a></p>
<p>文本框内输入的值是什么类型的数据呢？</p>
<p>从上面的代码可知是字符型的，此处我们用<code>parseInt</code>将一个变量转换成number类型，又用方法<code>.toFixed()</code>将一个number类型的变量转换成字符串型。</p>
<h3 id="按键组件">按键组件</h3>
<p><a href="#R-image-d0583a313c7835f8534d93ab175528fe" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-6.png" alt="按键组件" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d0583a313c7835f8534d93ab175528fe"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-6.png" alt="按键组件" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="滑动条组件slider">滑动条组件（slider）</h3>
<p><a href="#R-image-1c3934ebed16c0f2b71cf106490c30ee" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-7.png" alt="Slider" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1c3934ebed16c0f2b71cf106490c30ee"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-7.png" alt="Slider" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="页面布局">页面布局</h2>
<h3 id="线性布局">线性布局</h3>
<p><a href="#R-image-c55861b3ad1617288421a8a3202b5f59" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-8.png" alt="垂直布局" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c55861b3ad1617288421a8a3202b5f59"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-8.png" alt="垂直布局" class="lightbox-image        " loading="lazy"></a></p>
<p>Row布局与Column布局类似，只是主轴方向不同
<a href="#R-image-6713590a5f04d288d496295ec736af88" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-9.png" alt="水平分布" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6713590a5f04d288d496295ec736af88"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/8.%E9%80%9F%E9%80%9Aarkts%E8%AF%AD%E8%A8%80/image-9.png" alt="水平分布" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="循环控制foreach">循环控制ForEach</h3>
<h2 id="使用router进行页面跳转时用replaceurl与pushurl的区别">使用router进行页面跳转时用replaceUrl与pushUrl的区别</h2>
<p>后者会保留前一页信息，就是跳转后会返回上一页面，而后面的不会跳回上一页</p>
<p>11&ndash;t</p>
<p>f&ndash;!=11,运行时

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b5-%E7%BC%96%E7%A8%8B/">B5-编程</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/atomgit/">atomgit</a></li>
    <li><a class="term-link" href="./tags/gihub/">gihub</a></li>
  </ul>
</div>
            </header>
<h1 id="6github和atomgit的混合使用哪些是值得注意的">6.github和atomgit的混合使用，哪些是值得注意的？</h1>

<h2 id="一台电脑如何使用多个远程仓库">一台电脑如何使用多个远程仓库？</h2>
<ul>
<li>下载好git，并做好相关的配置</li>
<li>关联github仓库
<ul>
<li>创建github仓库</li>
<li>克隆仓库到本地</li>
</ul>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">  git clone &lt;你的远程仓库URL&gt;</code></pre></div><p>创建多个 SSH 密钥对涉及到在本地生成多个公钥和私钥文件，并将公钥添加到你想要访问的远程服务器上。以下是详细步骤：</p>
<p>打开终端：
打开你的终端（在 macOS 或 Linux 上）或 Git Bash（在 Windows 上）。</p>
<p>导航到 SSH 目录：
使用 cd 命令切换到你的 SSH 目录，通常是 ~/.ssh。</p>
<p><code>cd ~/.ssh</code>
生成新的 SSH 密钥对：
使用 ssh-keygen 命令生成新的密钥对。每次运行此命令时，你都可以指定不同的文件名，以便区分不同的密钥对。例如，为 GitHub 生成的密钥对可能命名为 id_rsa_github，为 GitLab 生成的密钥对可能命名为 id_rsa_gitlab。</p>
<p><code>ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot; -f id_rsa_github</code>
重复上述步骤，为其他服务生成密钥对，只需更改文件名即可。例如：</p>
<p><code>ssh-keygen -t rsa -b 4096 -C &quot;another_email@example.com&quot; -f id_rsa_gitlab</code></p>
<p>-b是指密码的长度是4096，与加密有关，-f表示要创建的ssh有关文件名</p>
<p>在生成密钥时，系统会提示你输入一个文件名来保存新的密钥对。如果你直接按回车键，它将使用默认的文件名（如 id_rsa）。如果你想要为每个服务使用不同的文件名，确保在命令中指定 -f 选项后跟你想要的文件名。</p>
<p>将公钥添加到远程服务器：
生成密钥对后，你需要将公钥（文件名后缀为 .pub）添加到远程服务器的 SSH 密钥管理界面。例如，在 GitHub 上，你可以在 Settings &gt; SSH and GPG keys 部分添加新的公钥。</p>
<p>配置 SSH 配置文件：
为了确保 SSH 使用正确的密钥对连接到正确的服务器，你可以在 .ssh 目录下创建一个名为 config 的文件（如果该文件不存在的话），并为每个服务配置不同的设置。</p>
<p><code>touch ~/.ssh/config</code></p>
<p>然后编辑这个文件，添加以下内容：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>Host github.com
</span></span><span style="display:flex;"><span>  User git
</span></span><span style="display:flex;"><span>  IdentityFile <span style="color:#f92672">~/</span>.ssh<span style="color:#f92672">/</span>id_rsa_github
</span></span><span style="display:flex;"><span>  IdentitiesOnly yes
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Host gitlab.com
</span></span><span style="display:flex;"><span>  User git
</span></span><span style="display:flex;"><span>  IdentityFile <span style="color:#f92672">~/</span>.ssh<span style="color:#f92672">/</span>id_rsa_gitlab
</span></span><span style="display:flex;"><span>  IdentitiesOnly yes</span></span></code></pre></div><p>这里的 Host 是你为每个服务设置的别名，User 是 Git 服务的默认用户名（通常是 git），IdentityFile 是你的私钥文件的路径。</p>
<p>测试 SSH 连接：
使用 ssh -T 命令测试与远程服务器的连接。例如：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>ssh <span style="color:#f92672">-</span>T git<span style="color:#960050;background-color:#1e0010">@</span>github.com
</span></span><span style="display:flex;"><span>ssh <span style="color:#f92672">-</span>T git<span style="color:#960050;background-color:#1e0010">@</span>gitlab.com</span></span></code></pre></div><p>如果一切设置正确，你应该会看到一条欢迎消息，表明你已经成功通过 SSH 密钥验证。</p>
<h2 id="当我有连个github账户时当我用同一台电脑推送的时候如何区分是那个推送的">当我有连个github账户时，当我用同一台电脑推送的时候如何区分是那个推送的</h2>
<p><a href="https://blog.csdn.net/Kingson_Wu/article/details/38960559" target="_blank">推荐文章</a></p>
<p>答案：</p>
<p>首先是克隆下来两个项目一个为test_A,一个为test_B，假设有一个账户是A，另一个是B，而且A账户的邮箱是设置为全局的，即用了这条命令：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>git config <span style="color:#f92672">--</span>global user.name <span style="color:#e6db74">&#34;A&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git config <span style="color:#f92672">--</span>global user.email A<span style="color:#960050;background-color:#1e0010">@</span>qq.com
</span></span><span style="display:flex;"><span><span style="color:#75715e">#假设这里的邮箱是QQ</span></span></span></code></pre></div><p>那么在在text_A中不作任何修改，在text_B中添加如下命令即可：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>git config  user.name <span style="color:#e6db74">&#34;B&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git config user.email B<span style="color:#960050;background-color:#1e0010">@</span>qq.com
</span></span><span style="display:flex;"><span><span style="color:#75715e">#假设这里的邮箱是QQ</span></span></span></code></pre></div><h2 id="遇到的一些问题">遇到的一些问题</h2>
<p>问题一</p>
<hr>
<p>解决Git上传代码error: failed to push some refs to ‘xxx‘hint:(e.g., ‘git pull &hellip;‘) before pushing again错误</p>
<hr>
<p><a href="https://blog.csdn.net/qq_43265673/article/details/107392047" target="_blank">推荐文章</a></p>
<p>问题二</p>
<hr>
<p>【Git】错误：权限被拒绝（公钥）(Permission denied (publickey).)</p>
<hr>
<p><a href="https://blog.csdn.net/weixin_42282187/article/details/124820546?spm=1001.2101.3001.6650.2&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%25!E%28MISSING%29default%25!E%28MISSING%29CTRLIST%25!E%28MISSING%29Rate-2-124820546-blog-100894172.235%25!E%28MISSING%29v43%25!E%28MISSING%29pc_blog_bottom_relevance_base8&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%25!E%28MISSING%29default%25!E%28MISSING%29CTRLIST%25!E%28MISSING%29Rate-2-124820546-blog-100894172.235%25!E%28MISSING%29v43%25!E%28MISSING%29pc_blog_bottom_relevance_base8&amp;utm_relevant_index=5" target="_blank">推荐文章</a>2)</p>
<p>问题三</p>
<hr>
<p>解决Git上传代码error: failed to push some refs to ‘xxx‘hint:(e.g., ‘git pull &hellip;‘) before pushing again错误</p>
<hr>
<p><a href="https://blog.csdn.net/qq_43265673/article/details/107392047" target="_blank">推荐文章</a>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">B1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%96%87%E7%AB%A0/">文章</a></li>
  </ul>
</div>
            </header>
<h1 id="5自定义页面以康奈尔笔记格式输出">5.自定义页面以康奈尔笔记格式输出</h1>

<link rel="stylesheet" href="./css/cornell-notes.css"> <div class="cornell-notes"> <div class="cues">
<h2 id="cues">Cues</h2>
<ul>
<li><a href="#cues">Cues</a></li>
<li><a href="#notes">Notes</a>
<ul>
<li><a href="#%E5%88%9B%E5%BB%BAcss%E6%96%87%E4%BB%B6">创建css文件</a></li>
<li><a href="#%E5%9C%A8hugo%E9%85%8D%E7%BD%AE%E4%B8%AD%E8%AE%BE%E7%BD%AE">在hugo配置中设置</a></li>
<li><a href="#%E5%9C%A8markdown%E6%96%87%E6%A1%A3%E4%B8%AD%E5%BC%95%E7%94%A8">在markdown文档中引用</a></li>
</ul>
</li>
<li><a href="#summary">Summary</a></li>
</ul>
<p><strong>标签/提示</strong> ：静态网页，康奈尔笔记，hugo，自定义页面输出格式。</p>
</div>
<div class="notes">
<h2 id="notes">Notes</h2>
<h3 id="创建css文件">创建css文件</h3>
<p>康奈尔笔记的布局，其中左侧是 &ldquo;Cues&rdquo;，右侧是 &ldquo;Notes&rdquo;，底部是 &ldquo;Summary&rdquo;，您可以使用 Flexbox 的 row 和 column 布局来实现。这里是一个 CSS 示例，它将创建一个两列的布局，左侧为 &ldquo;Cues&rdquo;，右侧为 &ldquo;Notes&rdquo;，然后在这两列下方是 &ldquo;Summary&rdquo;。</p>
<p>首先，创建一个名为 cornell-notes.css 的 CSS 文件，并添加以下样式代码：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>.cornell<span style="color:#f92672">-</span>notes {
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  border: <span style="color:#ae81ff">1</span>px solid <span style="color:#960050;background-color:#1e0010">#</span>ccc;
</span></span><span style="display:flex;"><span>  padding: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>  margin: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>  display: flex;
</span></span><span style="display:flex;"><span>  flex<span style="color:#f92672">-</span>wrap: wrap;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.cues {
</span></span><span style="display:flex;"><span>  background<span style="color:#f92672">-</span>image: <span style="color:#a6e22e">url</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>icon2.svg<span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>  border<span style="color:#f92672">-</span>right: <span style="color:#ae81ff">1</span>px solid <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">080808</span>;
</span></span><span style="display:flex;"><span>  flex: <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>  padding<span style="color:#f92672">-</span>right: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.notes {
</span></span><span style="display:flex;"><span>  background<span style="color:#f92672">-</span>image: <span style="color:#a6e22e">url</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>icon1.svg<span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>  border<span style="color:#f92672">-</span>left: <span style="color:#ae81ff">1</span>px solid <span style="color:#960050;background-color:#1e0010">#</span><span style="color:#ae81ff">080808</span>;
</span></span><span style="display:flex;"><span>  flex: <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>  padding<span style="color:#f92672">-</span>left: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.summary {
</span></span><span style="display:flex;"><span>  width: <span style="color:#ae81ff">100</span><span style="color:#f92672">%</span>;
</span></span><span style="display:flex;"><span>  clear: both; <span style="color:#75715e">/* 清除浮动，确保摘要部分在下方 */</span>
</span></span><span style="display:flex;"><span>  padding<span style="color:#f92672">-</span>top: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>  background<span style="color:#f92672">-</span>image:<span style="color:#a6e22e">url</span>(<span style="color:#960050;background-color:#1e0010">&#39;</span>wwwatercolor.jpg<span style="color:#960050;background-color:#1e0010">&#39;</span>);
</span></span><span style="display:flex;"><span>  margin<span style="color:#f92672">-</span>top: <span style="color:#ae81ff">20</span>px;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>在这个样式中，.cornell-notes 是整个康奈尔笔记的容器，我们使用 display: flex; 和 flex-wrap: wrap; 来创建一个 Flex 容器，允许子元素根据需要换行。.cues 和 .notes 分别设置为容器的子项，并通过 flex 属性来分配空间。.summary 部分使用 width: 100%; 来确保它在 .cues 和 .notes 下方显示，并使用 clear: both; 来清除之前的浮动。</p>
<p>此处分享一个免费的svg网站，<a href="https://fffuel.co/" target="_blank">bbburst：</a>
<a href="#R-image-6921608b2e8b28cee5b0154cf4047eb4" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/image.png" alt="bbburst" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6921608b2e8b28cee5b0154cf4047eb4"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/5.%E5%BA%B7%E5%A5%88%E5%B0%94%E7%AC%94%E8%AE%B0%E6%A0%B7%E5%BC%8F%E7%9A%84%E5%88%9B%E5%BB%BA/image.png" alt="bbburst" class="lightbox-image        " loading="lazy"></a>
在这个网站或许你可以找到适合你的背景图，用以装饰自己的康奈尔容器，此处的svg是放在css文件夹下的，所以是直接引用，如果你放在别的的放那么还请使用正确的的路径。</p>
<h3 id="在hugo配置中设置">在hugo配置中设置</h3>
<p>接下来，确保将 cornell-notes.css 文件放置在 Hugo 站点的 static/css 目录下。然后，在 Hugo 的配置文件 config.toml 中添加对 CSS 文件的引用：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e"># config.toml
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>[Params]
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># 其他参数...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>[markup]
</span></span><span style="display:flex;"><span>  [markup.goldmark]
</span></span><span style="display:flex;"><span>    [markup.goldmark.renderer]
</span></span><span style="display:flex;"><span>      unsafe <span style="color:#f92672">=</span> true  <span style="color:#960050;background-color:#1e0010">#</span> <span style="color:#960050;background-color:#1e0010">允许在</span> Markdown <span style="color:#960050;background-color:#1e0010">中使用</span> HTML <span style="color:#960050;background-color:#1e0010">和</span> CSS</span></span></code></pre></div><p>如果使用的是code打开的项目，那么可以先在code内搜索上面的配置是否已添加，因为部分hugo主题原来就添加了这一配置。</p>
<h3 id="在markdown文档中引用">在markdown文档中引用</h3>
<p>在 Markdown 文件中，你可以这样使用这些类：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#f92672">---</span>
</span></span><span style="display:flex;"><span>title: <span style="color:#e6db74">&#34;康奈尔笔记示例&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">---</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>link rel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;stylesheet&#34;</span> href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/css/cornell-notes.css&#34;</span><span style="color:#f92672">&gt;</span>  <span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cornell-notes&#34;</span><span style="color:#f92672">&gt;</span>    <span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cues&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Cues
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">这里是关键词和提示。</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;notes&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Notes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">这里是详细的笔记内容。</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span>div class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;summary&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Summary
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> <span style="color:#f92672">-</span> <span style="color:#960050;background-color:#1e0010">这里是笔记的摘要。</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span>div<span style="color:#f92672">&gt;</span></span></span></code></pre></div><p>确保在 Markdown 文件中添加 <link> 标签来引入 CSS 文件，并为每个部分使用相应的类。这样，当你构建并查看 Hugo 站点时，康奈尔笔记将以正确的样式显示，其中 &ldquo;Cues&rdquo; 在左侧，&ldquo;Notes&rdquo; 在右侧，&ldquo;Summary&rdquo; 在底部。</p>
</div>
<div class="summary">
<h2 id="summary">Summary</h2>
<p>在上面我们学习了如何自定义hugo中页面的输出格式，在引用hugo主题情况下，自定义自己的页面输出格式只需要三点，即创建css文件，在config配置文件中配置相关信息，在markdown中引用。其实我们可以拓展，如果你想创建属于自己的笔记你可以参照上面的方法自制简单的笔记，希望本期内容对你有所帮助。</p>
</div>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/github/">github</a></li>
    <li><a class="term-link" href="./tags/%E9%AB%98%E7%BA%A7%E6%90%9C%E7%B4%A2/">高级搜索</a></li>
  </ul>
</div>
            </header>
<h1 id="4如何在github上使用高级搜索搜出自己想要的项目">4.如何在github上使用高级搜索搜出自己想要的项目？</h1>

<p><a href="https://www.cnblogs.com/tntblog/p/13715084.html" target="_blank">原文章链接</a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
  </ul>
</div>
            </header>
<h1 id="文章标题的多样设计">文章标题的多样设计</h1>

<p>在标题前面显示图标：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#f92672">+++</span>
</span></span><span style="display:flex;"><span>menuPre <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&lt;i class=&#39;fab fa-github&#39;&gt;&lt;/i&gt; &#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">+++</span></span></span></code></pre></div><p>添加这个后的效果如下：</p>
<p><a href="#R-image-522dbd3c33f77f5a391f2a3267ad1677" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/image.png" alt="效果图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-522dbd3c33f77f5a391f2a3267ad1677"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/3.%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E7%9A%84%E5%A4%9A%E6%A0%B7%E8%AE%BE%E8%AE%A1/image.png" alt="效果图" class="lightbox-image        " loading="lazy"></a>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E6%8B%93%E5%B1%95%E7%AC%94%E8%AE%B0/">B1-拓展笔记</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/git/">git</a></li>
    <li><a class="term-link" href="./tags/github/">github</a></li>
    <li><a class="term-link" href="./tags/%E6%8A%A5%E9%94%99%E4%B8%8E%E8%A7%A3%E5%86%B3/">报错与解决</a></li>
  </ul>
</div>
            </header>
<h1 id="git常遇问题">Git常遇问题</h1>

<h2 id="1使用git-commi--m-时报错-your-branch-is-up-to-date-with-originmaster">1、使用git commi -m &ldquo;……&ldquo;时报错： Your branch is up to date with ‘origin/master‘</h2>
<p>今天在提交项目的时候报了这个错误，在网上查了解决办法，有的说创建新的分支可以解决，但我的不行。</p>
<p>最后我的解决办法是先退出git base here，再重新进入，下面是具体步骤：</p>
<ul>
<li>先使用<code>git add .</code>；</li>
<li>接着使用<code>git status -s</code>查看我更改的文件，也是我要推送的文件，如果前面的有M和??，那么久重新更新文件，然后重复上面的步骤；</li>
<li>发现前面的M是绿色的后就可以使用<code>git commit -m &quot;文件备注&quot;</code>；</li>
<li>然后推送就可以了<code>git push origin main</code>。</li>
</ul>
<p>这里的关键命令是git status -s，我现在搞不懂这个错误产生的原因……

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%BB%9C/">网络</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
  </ul>
</div>
            </header>
<h1 id="如何用旧电脑搭建自己的服务器">如何用旧电脑搭建自己的服务器？</h1>

<p>拥有一个属于自己的服务器个人感觉就很赞，我最初是在不买公网IP情况下，用一台电脑做服务器，然后另外一台电脑可以远程访问，部署网站，然后别人可以访问这个网站，这样一个功能。如果你也有这样的想法还请阅读下去，希望自己的经验对你有所帮助。</p>
<h2 id="所需设备">所需设备</h2>
<p>一台旧电脑，一台目前在使用的电脑。</p>
<h2 id="在旧电脑上安装natapp程序">在旧电脑上安装natapp程序</h2>
<p>在百度上搜索NATAPP，或点击这个链接:<a href="https://natapp.cn/" target="_blank">NATAPP</a>,</p>
<p><a href="#R-image-f5a3a5ca5809966626055fdcdad614ca" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-02%20113627.png" alt="网站首页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f5a3a5ca5809966626055fdcdad614ca"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-02%20113627.png" alt="网站首页面" class="lightbox-image        " loading="lazy"></a></p>
<p>进入网站后先简单注册一下用户,顺便实名认证一下，因为买隧道会提示需要实名，接着点击首页下载自己的电脑系统对应版本，我的是Windows（下面的测试也是基于Windows）</p>
<p><a href="#R-image-c396c49af4bd6e2dec01d9d4d39a33f8" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE1.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c396c49af4bd6e2dec01d9d4d39a33f8"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE1.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>下载好后解压文件，得到如下图程序：</p>
<p><a href="#R-image-980963836b4c2a56ac3618a5e9f3cc05" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE2.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-980963836b4c2a56ac3618a5e9f3cc05"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE2.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>在解压文件下新建一个文件： <code>config.ini</code>,做好这一步后我们去购买免费的隧道，如下图：</p>
<p><a href="#R-image-1e4c7eb9884a09fe6c068fc7526cdc9d" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE3.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1e4c7eb9884a09fe6c068fc7526cdc9d"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE3.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>点击网站的文档，然后点击教程/文档里的 <strong>使用本地配置文件config.ini</strong> 文章，</p>
<p><a href="#R-image-59083b77e4093836107483b3036ecded" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE6.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-59083b77e4093836107483b3036ecded"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE6.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>然后复制里面的配置信息：</p>
<p><a href="#R-image-637f008973f06b73b121c2431e02d47c" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE7.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-637f008973f06b73b121c2431e02d47c"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE7.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-config.ini" data-lang="config.ini"><span style="display:flex;"><span><span style="color:#75715e">#将本文件放置于natapp同级目录 程序将读取 [default] 段</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#在命令行参数模式如 natapp -authtoken=xxx 等相同参数将会覆盖掉此配置</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#命令行参数 -config= 可以指定任意config.ini文件</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[default]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">authtoken</span><span style="color:#f92672">=</span>                      <span style="color:#e6db74">#对应一条隧道的authtoken</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clienttoken</span><span style="color:#f92672">=</span>                    <span style="color:#e6db74">#对应客户端的clienttoken,将会忽略authtoken,若无请留空,</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log</span><span style="color:#f92672">=</span><span style="color:#e6db74">none                        #log 日志文件,可指定本地文件, none=不做记录,stdout=直接屏幕输出 ,默认为none</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">loglevel</span><span style="color:#f92672">=</span><span style="color:#e6db74">ERROR                  #日志等级 DEBUG, INFO, WARNING, ERROR 默认为 DEBUG</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">http_proxy</span><span style="color:#f92672">=</span>                     <span style="color:#e6db74">#代理设置 如 http://10.123.10.10:3128 非代理上网用户请务必留空</span></span></span></code></pre></div><p>在字段<code>authtoken</code>后面值在我的隧道配置里可以找到，如下：</p>
<p><a href="#R-image-0726db0bf500955c7a1c5fa8aa73e782" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE4.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0726db0bf500955c7a1c5fa8aa73e782"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE4.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>复制下图<code>authtoken</code>的值填到config.ini文件里</p>
<p><a href="#R-image-57e4908dd693e6bda3baa98f08f50a71" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-57e4908dd693e6bda3baa98f08f50a71"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>我这边演示的效果如下：</p>
<p><a href="#R-image-6728286c36e7738c61beb6a70e84291a" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE8.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6728286c36e7738c61beb6a70e84291a"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE8.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-f2784563dcd47cd55d7ca75c69c0d5ee" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE9.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f2784563dcd47cd55d7ca75c69c0d5ee"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE9.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>完成上面的操作后，我们运行NATAPP程序，结果如下：</p>
<p><a href="#R-image-273670c6c7baece30a1dd1fa57d8a7b1" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE10.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-273670c6c7baece30a1dd1fa57d8a7b1"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE10.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>你会得到一个随机的网址，这个网址指向你的本地端口，当你有网站挂载到本地端口时，你就可以通过网址访问到你的本地端口网址，内网外网都可以，但是这个网址每一次运行都会不一样，这点需要注意，然后就是端口的设置，看下图：</p>
<p><a href="#R-image-5bdde240098adda486d06bc5f55cf8e1" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5bdde240098adda486d06bc5f55cf8e1"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>我这里写的的端口是1313，如果你网站运行后不在1313，例如你运行网站后，本地的网站启动端口是8080.那你就把这个地方的1313改为8080就可以了。</p>
<p>下面我们举个例子看看，假设我现在我需要外网的网友访问我挂在在自己电脑本地的网站，那们在做好上面的操作后我先去启动自己的网站，这里使用hugo的网站模版，用code程序打开网站模版，然后调出终端，在终端输入命令 <code>hugo server</code> ,表示启动网站，如下图：</p>
<p><a href="#R-image-ad301b0383b37afbc1f6d2ecbe03fbbc" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE11.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad301b0383b37afbc1f6d2ecbe03fbbc"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE11.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>然后去复制刚才运行NATAPP程序后的网站，在浏览器中打开，我们先试一下局域网能不能访问，结果如下：</p>
<p><a href="#R-image-e69f8e168f29bf171fad955cda7dd13b" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE12.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e69f8e168f29bf171fad955cda7dd13b"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE12.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>将网站发给自己的朋友，测试外网是否可以访问，</p>
<p><a href="#R-image-f3538e7e470bce309f4c6796724bb128" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE13.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f3538e7e470bce309f4c6796724bb128"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE13.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>结果是外网可以正常可以访问。</p>
<p><a href="#R-image-8419133fdf9b2ff6d4fa5371dc4a193a" class="lightbox-link"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE14.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8419133fdf9b2ff6d4fa5371dc4a193a"><img src="./branch-bundle-1/1.%E5%85%B6%E4%BB%96%E6%96%87%E7%AB%A0/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE14.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>那么到这里你的电脑其实就充当了一台服务器，将网站放到了你电脑上，只要你的电脑保持开机状态那么别人就可以一直访问你的网站，或许NATAPP网站还有别的有趣功能，所以你不妨去摸索摸索，所不定可以找到多次启动NATAPP指向你本地的网址不变，你也就不用每次启动后都要发新的网址给对方了。</p>
<p>那么其实到这里就差不多了，但是我们还需要用一台电脑控制另一台电脑，简而言之就是电脑的远程登录，其实电脑远程登录有许多的方法，这里我需要借助一个来实现内网穿透，其实上面的旧电脑变服务器也是使用了内网穿透，

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
  </ul>
</div>
            </header>
<h1 id="创建hugo静态网站的经历">创建hugo静态网站的经历</h1>


<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<h2 id="一为什么要创建属于自己博客网站">一、为什么要创建属于自己博客网站</h2>
<p>自从进入大三的学习，自己接触了许多开发板、以及七七八八的软件，个人记忆力又不咋地，平时很容易把重要或者重复的知识忘记，所以我希望做一个网站记录自己所学的知识，方便查找，但我没学<strong>JS</strong>，深入学又耗费时间，如果你也有我的一些情况，想自己创建一个网站“玩玩”，那么请看下去，希望自己的一些分享能对想短期内创建静态网站、且没学过网站设计的朋友有所帮助。</p>
<h2 id="二选择静态网站布局工具以及远程仓库">二、选择静态网站布局工具以及远程仓库</h2>
<h3 id="1工具的选择">1、工具的选择</h3>
<p>在这里我就只推荐<strong>hugo</strong>，因为本人用的就是hugo，其他的并不是很了解（如果你有更好的方法还请通过留言告诉我，谢谢！），首先确定自己要装在哪个系统上，比如装在Windows、Linux或者Mac（苹果系统），确定好这个后你就去网上搜安装方法即可，一定要搜和自己电脑系统有关的安装方法，不然安装会走很多坑的。
<strong>Windows</strong>系统。我建议使用choco工具在终端上安装，如果电脑没安装choco工具，还请自行安装。
<strong>Linux</strong>系统。首先确定自己的Linux的发行版本，举个例子，像<strong>红帽公司</strong>的和ContentOS的，这两个发行版本使用的工具可能就不一样，像ContentOS使用的是工具Yum工具安装的，还请你在网上自行搜索。
<strong>Mac</strong>系统。使用<strong>brew</strong>工具进行安装，不知道怎么用brew还请网上搜一下。
下载好后使用如下命令检查是否安装成功。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">verser</span></span></span></code></pre></div><h3 id="2远程仓库的选择">2、远程仓库的选择</h3>
<p>因为要把网站的相关信息放到网上，一遍搜索查找，我们需要一个远程的仓库来装这些数据，无疑github是比较好的选择，当然Gitee、gitLab这些应该也可以（本人没有过）。至于为什么选github我想你只要稍微了解一点IT这行的，多少都知道其原因，不知道也没关系，只要能存放我们的网站数据就行。
首先你需要去注册一个github账号，并掌握在线创建、删除、导入和下载仓库，以及文件的上传、删除修改等操作，这些其实并不是很难，刚开始需要你换一点时间，详细请上网搜索。</p>
<p>当我们hugo下载好和仓库创建等操作都学会后我们就可以开始操作了。</p>
<h2 id="三仓库创建与静态网站布局">三、仓库创建与静态网站布局</h2>
<p>仓库创建最好是和自己github的账户名字一样，且都是小写，然后后面跟着
<strong>.github.io</strong>,例如：</p>
<hr>
<pre><code>wang32.github.io
</code></pre>
<p>这是比较稳妥的做法，如果你不想这么做还请自己花时间去琢磨别的方法。接着我么创建一个空项目，什么都不需要哦!</p>
<p>下一步是静态网站的部署，首先你需要下载一个hugo的主题，也就是用别人的网页主题作为自己网站的基础，这样呢我们及时没学过JS也可以部署自己的网站。
创建一个目录，比如<strong>myblog</strong>，接着用code打开这个目录，在code编译器中打开终端窗口监视器，在里面输入命令</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>   <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">new</span> <span style="color:#a6e22e">site</span></span></span></code></pre></div><p>这个时候myblog目录下会生成一个<strong>theme</strong>的目录，用来放主题，把下载好的hugo主题放在该目录下，在使用如下命令：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">hugo</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">theme</span>=&lt;<span style="color:#a6e22e">主题名字</span>&gt;  <span style="color:#f92672">--</span><span style="color:#a6e22e">baseURL</span>=<span style="color:#e6db74">&#34;&lt;你github仓库的路径&gt;&#34;</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">buildDrafts</span></span></span></code></pre></div><p>举个例子：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>   <span style="color:#a6e22e">hugo</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">theme</span>=<span style="color:#a6e22e">m10c</span>  <span style="color:#f92672">--</span><span style="color:#a6e22e">baseURL</span>=<span style="color:#e6db74">&#34;https://wung32.github.io/&#34;</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">buildDrafts</span></span></span></code></pre></div><p>上面m10c是主题的名字，也就是你下载的hugo主题名字，而https://wung32.github.io/仓库路径。</p>
<p>在这你需要注意：如果不是Windows系统这的<strong>baseURL</strong>可能写为<strong>baseUrl</strong>,要确定这件事就去看<strong>hugo.tolm</strong>文件，有的主题写为<strong>config.tolm</strong>,里面的第一二行就会提到baseURL，注意这里的要去主题目录里找。而不是在你创建的目录myblog下找。
运行上面的代码没问题就会在你创建的myblog目录下产生一个<strong>public</strong>的目录，里面装的就是你的网页信息。</p>
<p>接着使用git命令把这个文件推送到远程的仓库，一般的步骤如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">    git init #初始化：本地建库（即文件夹）
    git add  #添加到仓库：代码文件放入本地库，
    git commit -m “注释内容” #提交时要给注释
    git remote add origin https://github.com/xu-xiaoya/Elegent.git #远程仓库关联

    git push (-u) origin master #本地仓库的代码推送到远程仓库Github上</code></pre></div><p>如果报错：</p>
<hr>
<pre><code>error: RPC failed; HTTP 504 curl 18 HTTP/2 stream 7 was reset
send-pack: unexpected disconnect while reading sideband packet
fatal: the remote end hung up unexpectedly
Everything up-to-date
</code></pre>
<p>那么加一句：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">    git config --global http.postBuffer 524288000</code></pre></div><p>接着继续推送就是了。</p>
<p>然后去自己的仓库，点击设置，找到Page选项，有个<strong>Custom domain</strong>，在那里写上你的网站名称。</p>
<h2 id="四买一个域名">四、买一个域名</h2>
<p>我在没买之前网页一直加载不出来，自己也不知道为什么（如果你知道不用买域名也可以实现网站部署还请告诉我，谢谢啦！）。所以我自己是买了一个六块钱的域名的，试用期一年；当你买一个域名后要记得去解析域名，然后把解析的域名写到上面说的<strong>Custom domain</strong>那个地方，比如你解析得到的域名是：myblog.wang32.com,那么你就写这个上去。</p>
<p>如果不知道怎么买。怎么解析，那么——是的，一样上网查一下。</p>
<h2 id="五网站的优化">五、网站的优化</h2>
<p>这个我不建议你一个人慢慢磨，慢慢的去网上找方法，其实制作主题的作者已经把怎么基于他的主题做出自己的网站的方法了，所以你老老实实的跟着作者的文档走就是了，实在有些地方不懂的在查一查看。</p>
<h2 id="补充">补充</h2>
<h4 id="1为什么我插入的图片无法显示">1、为什么我插入的图片无法显示？</h4>
<p>图片的显示：首先要看你的主题是基于什么语言写的，比如我的是markdown,对于这个语言只需要使用：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-hugo" data-lang="hugo">    ![nihao](../../../public/webfonts/fa-brands-400.svg)</code></pre></div><p>上面的这个方法就可以让图片显示，但实际上不一定能可以，因为hugo有个目录创建规则——<strong>Page Bundles</strong>(连接：https://www.rectcircle.cn/series/hugo/content-management/page-bundles/)，如果不按照这个规则创建，那么你使用别人的主题，插入图片时可能无法显示。</p>
<p>光是上面这点我就搞了一个星期，所以还是希望你好好看一下Page Bundles文档。</p>
<p>今天先到这了……
2023年12月11日</p>
<hr>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化</a></li>
  </ul>
</div>
            </header>
<h1 id="网站内常用到的模版">网站内常用到的模版</h1>

<h2 id="代码分制表">代码分制表</h2>
<p>以<code>&lt; tabs title=&quot;file name&quot; &gt;，&lt; /tabs &gt;</code>结尾；
然后里面写以<code>% tab title=&quot;code name&quot; style=&quot;info&quot; color=&quot;blue &quot;  %，% /tab %</code>结尾
他们都需要用<code>{{}}</code>括起来

<div class="tab-panel" data-tab-group="shortcode-parameter">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('shortcode-parameter','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{&lt; <span style="color:#a6e22e">tabs</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;hello.&#34;</span> &gt;}}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码块一
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{{<span style="color:#f92672">%</span> <span style="color:#a6e22e">tab</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;py&#34;</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">```markdown
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    **这里写代码**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ```</span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">%</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">tab</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码块二
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{{<span style="color:#f92672">%</span> <span style="color:#a6e22e">tab</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;sh&#34;</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">```markdown
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    **这里写代码**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ```</span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">%</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">tab</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{&lt; <span style="color:#f92672">/</span><span style="color:#a6e22e">tabs</span> &gt;}}</span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<h2 id="附件">附件</h2>
<p>在双花括号里写：<code>attachments color=&quot;fuchsia&quot; icon=&quot;fab fa-hackerrank&quot;</code>，即可，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    {{<span style="color:#f92672">%</span> <span style="color:#a6e22e">attachments</span> <span style="color:#a6e22e">color</span>=<span style="color:#e6db74">&#34;fuchsia&#34;</span> <span style="color:#a6e22e">icon</span>=<span style="color:#e6db74">&#34;fab fa-hackerrank&#34;</span> <span style="color:#f92672">%</span>}}</span></span></code></pre></div><p>效果如下：

 <div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
   <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
   <ul class="box-content attachments-files">
   </ul>
 </div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化</a></li>
  </ul>
</div>
            </header>
<h1 id="网站的目录与子目录创建">网站的目录与子目录创建</h1>

<p>不论是创建首页页面，还是左边框的选项，归根结底它们都是“目录”，从根上说，你需要创建一个目录然后在目录里面创建一个.md文件来装这个目录或说显示这个目录的内容。</p>
<h2 id="首页的创建">首页的创建</h2>
<p>创建首页使用了命令</p>
<hr>
<blockquote>
<p>hugo new &ndash;kind home _index.md</p>
</blockquote>
<hr>
<p>而后产生的页面，它自动生成头文件</p>
<hr>
<pre><code>+++
archetype = &quot;home&quot;
title = &quot;&quot;
+++
</code></pre>
<hr>
<p>值得注意的是，如果你用命令</p>
<hr>
<blockquote>
<p>hugo new site myblog</p>
</blockquote>
<hr>
<p>创建了一个myblog的目录，那么你在里面操作
<a href="%22#ff4589%22">hugo new &ndash;kind home _index.md</a>
的时候,用于显示首页的文件<a href="%22#ff4589%22">_index.md</a>会自动产生在content文件里。</p>
<h2 id="创建章节的方法">创建章节的方法</h2>
<p>使用命令：</p>
<hr>
<pre><code>hugo new &lt;chapter&gt;/&lt;name&gt;/_index.md
</code></pre>
<hr>
<p>或者：</p>
<hr>
<pre><code>hugo new &lt;chapter&gt;/&lt;name&gt;.md
</code></pre>
<hr>
<p>在创建章节的时候需要加上<code>alwaysopen = false</code>,如下面的例子：</p>
<hr>
<pre><code>+++
alwaysopen = false
archetype = &quot;chapter&quot;
title = &quot;2.AndroidStudio&quot;
weight = 20
+++
</code></pre>
<hr>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 2</div>
<h1 id="2androidstudio">2.AndroidStudio</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/2.androidstudio/androidstudio%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">AndroidStudio</a><p>AndroidStudio简介 1.配置Android开发环境： 安装JDK： （1）下载JDK （2）配置环境变量； 安装Android Studio</p></li>
<li><a href="./branch-bundle-1/2.androidstudio/%E7%AC%94%E8%AE%B0/">AndroidStudio笔记</a><p>第一章 配置开发环境： 1.安装JDK &ldquo;安装连接&rdquo; 2.安装AndroidStudio &ldquo;安装连接&rdquo;</p></li>
<li><a href="./branch-bundle-1/2.androidstudio/toolbar/">2-1.Toolbar工具栏</a><p>Toolbar是什么？ 简单理解就是页面的上的菜单栏，或者叫工具栏，在AndroidStudio的页面布局中使用Toolbar， menu文件的</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">2.AndroidStudio 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
  </ul>
</div>
            </header>
<h1 id="androidstudio">AndroidStudio</h1>

<h2 id="androidstudio简介">AndroidStudio简介</h2>
<p>1.配置Android开发环境：</p>
<ul>
<li>安装JDK：
（1）下载JDK
（2）配置环境变量；</li>
<li>安装Android Studio；</li>
<li>安装SDK。</li>
</ul>
<p>2.自动构建工具Gradle：</p>
<p>Gradle 是以 Groovy 语言为基础，面向Java应用为主，基于DSL（领域特定语言）语法的自动化构建工具。它可以自动化地进行软件构建、测试、发布、部署、软件打包，同时也可以完成项目相关功能，如生成静态网站、生成文档等。另外其集合了Ant的灵活性和强大功能，以及Maven的依赖管理和约定，从而创造了一个更有效的构建方式。凭借Groovy的DSL和创新打包方式，Gradle提供了一个可声明的方式，并在合理默认值的基础上描述所有类型的构建。Gradle目前已被选作许多开源项目的构建系统。</p>
<p>3.Logcat日志输出工具：使用 Logcat 查看日志</p>
<p>Android Studio 中的 Logcat 窗口会实时显示设备日志来帮助您调试应用，例如，使用 Log 类添加到应用的消息、在 Android 上运行的服务发出的消息或系统消息（例如在发生垃圾回收时）。如果应用抛出异常，Logcat 会显示一条消息，后跟相关联的堆栈轨迹，其中包含指向代码行的链接。</p>
<p>4.Android Studio中 <strong>Make Project</strong> 、<strong>Clean Project</strong> 、<strong>Rebuild Project</strong> 的作用</p>
<ul>
<li>Make Project：编译Project下所有Module（组件或模块），一般是自上次编译后Project下有更新的文件，增量编译，不生成Apk。</li>
<li>Clean Project：删除之前编译后的编译文件。部分版本的AS会自动重新编译整个Project，不生成Apk。</li>
<li>Rebuild Project：先执行Clean操作，删除之前编译的编译文件和可执行文件，然后重新编译新的编译文件，不生成Apk</li>
</ul>
<p>5.Run窗口：可以输出程序运行过程中出现的错误。
6.manifests文件夹（清单文件夹）：Android系统配置文件夹，包含一个AndroidManifest.xml文件（清单文件），可在此文件注册声明</p>
<ul>
<li><code>&lt;activity&gt;</code>页面、</li>
<li><code>&lt;service&gt;</code>服务、</li>
<li><code>&lt;receiver&gt;</code>接收器、</li>
<li><code>&lt;provider&gt;</code>提供者或提供程序、</li>
<li><code>&lt;uses-permission&gt;</code>使用权限等；</li>
</ul>
<p>7.java文件夹：存放Java代码的文件夹，新建项目时默认生成了三个文件夹，com.first.project文件夹用来存放Java文件，这里包含一个名为MainActivity的Java文件，是新建项目时默认生成的。
第二个和第三个文件为测试代码文件夹，不是十分常用。</p>
<ul>
<li>res文件夹：存放Android项目的资源文件，包含四个文件夹：</li>
<li>drawable（图片资源文件夹）、</li>
<li>layout（布局资源文件夹）、</li>
<li>mipmap（图片资源文件夹，存放项目图标）、</li>
<li>values（存放数值资源文件），</li>
<li>此外有menu文件（菜单资源文件）。</li>
</ul>
<p>8.Android系统体系结构四层，从上到下分别是</p>
<ul>
<li>应用程序层</li>
<li>应用程序框架层</li>
<li>系统运行库层</li>
<li>Linux内核层
每一层都是用其下面各层所提供的服务。</li>
</ul>
<p>应用程序层</p>
<p>Android平台包含了许多核心的应用程序，诸如Email客户端、SMS短消息程序、日历、地图、浏览器、联系人等应用程序。这些应用程序都是用Java语言编写的。开发人员可以灵活地根据需求替换这些自带的应用程序或者开发新的应用程序。</p>
<p>应用程序框架</p>
<p>开发者可以完全访问核心应用程序所使用的API框架。该层简化了组件的复用，使得开发人员可以直接使用系统提供的组件来进行快速地开发，也可以通过继承灵活地加以拓展。这些东西包括：</p>
<p>活动管理器（Activity Manager，管理各个应用程序的生命周期以及通常的导航回退功能）
视图系统（View System，构建应用程序的基本组件）
内容提供器（ContentProvider，使得不同的应用程序之间可以存取或者分享数据）
资源管理器（Resource Manager，提供应用程序使用的各种非代码资源，如本地化字符串、图片、布局文件等）
通知管理器（Notification Manager，使应用程序可以在状态栏中显示自定义的提示信息）等。</p>
<p>系统运行库层</p>
<p>包括系统库和Android Runtime，系统库是应用程序框架的支撑，是连接应用程序框架层与Linux内核层的重要纽带。程序在Android Runtime中执行，其运行时分为核心库和Dalvik虚拟机两部分。</p>
<p>Linux内核层</p>
<p>Android基于Linux2.6的内核，其核心系统服务如安全性、内存管理、进程管理、网络协议以及驱动模型都依赖于Linux内核，同时内核层也扮演了介于硬件层和软件栈之间的抽象层的角色。
Linux内核层和系统运行库层之间，从Linux操作系统的角度来看，是内核空间与用户空间的分界线，Linux层运行于内核空间，以上各层运行于用户空间。系统运行库层和应用框架层之间是本地代码层和Java代码层的接口。应用框架层和应用程序层是Android的系统API的接口，对于Android应用程序的开发，应用程序框架层以下的内容是不可见的，仅考虑系统API即可。</p>
<p>9.四大核心组件有：activity（活动或页面）、service（服务）、broadcast receiver（广播接收器）、content provider（内容提供者）</p>
<p>10.Activity介绍Android系统是通过任务栈来管理Activity的。当一个Activity启动时，会把Activity压入到堆栈中，当用户按返回键或者结束掉该Activity时，它会从堆栈中弹出。</p>
<p>11.Android为我们定义了四种加载方式</p>
<p>Standard 加载模式  ——标准模式/默认加载模式</p>
<p>标准模式：系统默认的Activity启动模式，当Intent欲打开Activity时，在该Activity不存在，存在于栈顶和存在于栈底三种情况下都会正常创建Activity，并压入任务栈栈顶；</p>
<p>SingleTop 加载模式  ——栈顶单例模式</p>
<p>栈顶单例模式：当启动一个Activity时，只有当该activity存在任务栈中且为栈顶，Intent才会通过onNewIntent()方法传递给在栈顶Activity实例；其他情况则正常创建Activity并压入任务栈；</p>
<p>SingleTask 加载模式  ——栈内单例模式</p>
<p>站内单例模式：当启动一个Activity时，系统会先检查任务栈内是否有该Activity，如果该Activity不存在则正常创建Activity实例，如果存在且在栈底则会将它上面的Activity弹出并销毁，使该Activity置于栈顶再调用onNewIntent()方法；</p>
<p>SingleInstence 加载模式  ——全局单例模式</p>
<p>与SingleTask模式基本一样，只是在这个模式下Activity所处的任务栈中只能有Activity这一个实例，不能有其他的实例。</p>
<p>12.Activity生命周期是指Activity从创建到销毁的过程，在这一过程中，Activity一般处于4种状态，即：Active/Running、Paused、Stop、Killed</p>
<p>（1）Active/Running   此时Activity一定处于屏幕的最前端，用户完全可以看得到，并且可以与用户进行交互。对于Activity栈来说，它处于栈顶；
（2）Paused  此时Activity在屏幕上仍然可见，但是它已经失去了焦点，用户不能与之进行交互。暂停状态的Activity是存活的，它仍然维持着其内部状态和信息，但是系统可能会在手机内存极低的情况下杀掉该Activity；
（3）Stop   此时Activity在屏幕上完全不能被用户看见，也就是说这个Activity已经完全被其他Activity所遮住。处于停止状态的Activity，系统仍然保留有其内部状态和成员信息，但是它经常会由于手机系统内存被征用而被系统杀死回收；
（4）Killed   Activity被系统杀死回收或者未启动。</p>
<p>13.为了能够让Android程序了解自身状态的变化，Android系统中具有很多事件回调函数，我们可以重载这些方法来实现自己的操作。Android生命周期的事件回调函数如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(Bundle savedInstanceState) 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStart</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onRestart</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onResume</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPause</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStop</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onDestroy</span>()</span></span></code></pre></div><p>14.Activity生命周期</p>
<p>15.Fragment必须是依存于Activity而存在，因此Activity的生命周期会直接影响到Fragment的生命周期。图在课本第50页。</p>
<p>由图可以看到Fragment比Activity多了几个额外的生命周期回调函数：</p>
<p>onAttach(Activity)：当Fragment与Activity发生关联时调用。从该方法开始，就可以通过Fragment.getActivity方法获取与Fragment关联的窗口对象了，但在该方法中仍然无法操作Fragment中的控件。
onCreateView(LayoutInflater, ViewGroup, Bundle)：创建该Fragment的视图。onActivityCreated(Bundle)：当Activity的onCreate方法返回时调用。</p>
<p>onDestoryView():与onCreateView相对应，当该Fragment的视图被移除时调用。onDetach()：与onAttach相对应，当Fragment与Activity关联被取消时调用。</p>
<p>16.在使用Intent进行Activity之间的跳转时，我们通常有三种Intent跳转方式，即：不带参数的跳转、带参数的跳转以及带返回值的跳转，代码实现可参考实验报告或书本。</p>
<p>17.TextView常用的属性</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    android:id=&#34;@+id/textView1&#34;表示该控件的id，在布局文件中或者代码中被引用
</span></span><span style="display:flex;"><span>    android:textStyle=&#34;bold&#34;表示TextView里面的字加粗显示
</span></span><span style="display:flex;"><span>    android:layout_height=&#34;wrap_content&#34;表示该控件的高度为其包含内容的高度
</span></span><span style="display:flex;"><span>    android:layout_width=&#34;wrap_content&#34;表示该控件的宽度为其包含内容的宽度
</span></span><span style="display:flex;"><span>    android:text=&#34;@string/signin&#34; 显示的内容，这里表示存放在string.xml文件中name=signin的文本
</span></span><span style="display:flex;"><span>    android:layout_height=&#34;40dip&#34;设置具体的高度
</span></span><span style="display:flex;"><span>    android:textColor=&#34;#7089c0&#34;设置文本的颜色
</span></span><span style="display:flex;"><span>    android:textSize=&#34;18sp&#34;设置文本的大小
</span></span><span style="display:flex;"><span>    android:gravity=&#34;center_vertical&#34;设置文本垂直居中
</span></span><span style="display:flex;"><span>    android:paddingLeft=&#34;5dip&#34;设置内边距
</span></span><span style="display:flex;"><span>    android:layout_marginTop=&#34;5dip&#34;设置外边距</span></span></code></pre></div><p>18.LinearLayout线性布局、</p>
<ul>
<li>RelativeLayout相对布局、</li>
<li>FrameLayout帧布局、</li>
<li>TableLayout表格布局、</li>
<li>AbsoluteLayout绝对布局</li>
</ul>
<p>线性布局，是指该容器（LinearLayout）内子控件的摆放方式有两种：
第一种：垂直放置（VERTICAL），相对水平放置来讲，垂直放置就相当于一列，放置的控件或者容器只能在该列中的某个位置，两个控件之间只存在上下方向的关系，不存在其他方向上的关系。当这一列放满后，再添加的控件就至于屏幕之外存在，无法看见。
第二种：水平放置（HORIZONTAL），指的是该容器里面存放的控件或者容器只能以一行的形式出现，放置的控件只能是该行中的某个位置，两个控件或者容器之间只有左右关系没有其他方向上的关系，当放置水平方向满屏时不会自动换行，再放置的控件将在屏幕之外存在，无法看见。
在线性布局中重要的属性值对应表示</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    android:orientation	            //设置控件或者容器存放的方式
</span></span><span style="display:flex;"><span>    android:id	                    //设置控件id，方便在使用时找到其引用
</span></span><span style="display:flex;"><span>    android:layout_width	        //容器的宽度，该值必须设置
</span></span><span style="display:flex;"><span>    android:layout_height	        //容器的高度，该值必须设置
</span></span><span style="display:flex;"><span>    android:layout_weight	        //该属性针对其内的子控件，存放在LinearLayout中的控件都有这个属性，用来设置该控件或者容器占父控件或者容器的比例。</span></span></code></pre></div><p>相对布局，是指利用控件之间的相对位置关系来对布局进行放置。换句话说，在该容器中的控件与其他任何一个控件或者容器（包括父控件）有相对关系。</p>
<p>帧布局，是指该容器内放置的控件或者容器没有上下左右的关系，只有层叠前后的关系。放置在容器内的控件按放置的前后顺序逐一层叠摆放，自然地后面摆放的控件就将前面摆放的控件覆盖了，叠在它的上面了。对于放置前后的关系，在没有设置其他属性之前，Android系统采用的是叠放的原则，即后加入节点的层叠在上面。设置属性android：bringToFront=“true|false”将前面放置的控件提到最前面可见。</p>
<p>表格布局，指该容器是一个表格，放置控件时，控件的位置坐落在表格的某个位置上。其中TableRow是配合TableLayout使用的，目的是为了让TableLayout生成多个列，否则TableLayout中就只能存在一列元素，但可以有多行。</p>
<p>TableLayout的直接父类是LinearLayout，所以其具有LinearLayout的属性，TableLayout中的每一行用TableRow表示，每一列就是TableRow中的个数指定的。TableRow的直接父类是LinearLayout，但是其放置的方式只能水平放置。</p>
<p>绝对布局，是指以屏幕左上角为坐标原点（0,0），控件在容器中的位置以坐标的形式存在，可以随意指定控件的坐标位置，非常灵活。在开发过程中很少使用，原因是屏幕兼容性不好，不便控制两个控件之间的位置。其中控件或者容器放置的位置通过android:layout_x和android:layout_y这两个属性进行设置。</p>
<p>ConstraintLayout约束布局</p>
<p>优点：</p>
<p>ConstraintLayout之所以成为目前Android开发中主流的布局，除了官方建议使用ConstraintLayout外还有以下几个方面的优势
1.功能强大，ConstraintLayout几乎能实现其他布局所有的功能
2.能减少布局层次的嵌套，有性能的优势
3.可视化操作的增强，大部分界面用ConstraintLayout都能通过可视化编辑区域完成</p>
<p>19.对话框（Dialog）是Android系统在Activity或者其他组件运行过程中提供的一种资源消耗很小的提示机制，它可以帮助应用完成一些必要的提示功能，同时还提供一些用户交互的功能，包括简单的提示、等待、选择、展示等功能。操作简单，资源消耗较少。代码实现可参考实验报告或书本</p>
<p>1提示对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.alertdialog;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Toast;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultipleChoiceDialogBox</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">test</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">dialog_box_up</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(MultipleChoiceDialogBox.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setTitle</span>(<span style="color:#e6db74">&#34;这是一个简单的弹窗&#34;</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setIcon</span>(R.<span style="color:#a6e22e">mipmap</span>.<span style="color:#a6e22e">ic_launcher</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setMessage</span>(<span style="color:#e6db74">&#34;你学会了吗？&#34;</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;学会了&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;不会&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>2单选对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.alertdialog;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Toast;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultipleChoiceDialogBox</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView textView;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String sexx<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;男&#34;</span>,<span style="color:#e6db74">&#34;女&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> choiceWitch <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">test</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">dialog_box_up</span>);
</span></span><span style="display:flex;"><span>        textView<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">show_dialog_box_text</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(MultipleChoiceDialogBox.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setCancelable</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setSingleChoiceItems</span>(sexx, <span style="color:#f92672">-</span>1, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialog, <span style="color:#66d9ef">int</span> which) {
</span></span><span style="display:flex;"><span>                        choiceWitch<span style="color:#f92672">=</span>which;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;确定&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>                        textView.<span style="color:#a6e22e">setText</span>(sexx<span style="color:#f92672">[</span>choiceWitch<span style="color:#f92672">]</span>);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;取消&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>3多选对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.gpc.wzxapplicationwu1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.v7.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.v7.app.AppCompatActivity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AlertDialogActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView textView;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String sexx<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;a&#34;</span>,<span style="color:#e6db74">&#34;b&#34;</span>,<span style="color:#e6db74">&#34;c&#34;</span>,<span style="color:#e6db74">&#34;d&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">boolean</span> stu<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span> {<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> choiceWitch <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> ArrayList<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> HashMap<span style="color:#f92672">&lt;</span>Integer,Integer<span style="color:#f92672">&gt;</span> map <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> <span style="color:#66d9ef">final</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">alert_dialog</span>);
</span></span><span style="display:flex;"><span>        textView <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">alert_dialog_textview</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">alert_dialog_button</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(AlertDialogActivity.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setMultiChoiceItems</span>(sexx, stu, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnMultiChoiceClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i, <span style="color:#66d9ef">boolean</span> b) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span>(b <span style="color:#f92672">==</span> <span style="color:#66d9ef">true</span>){
</span></span><span style="display:flex;"><span>                            map.<span style="color:#a6e22e">put</span>(i,i);
</span></span><span style="display:flex;"><span>                        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                            map.<span style="color:#a6e22e">remove</span>(i);
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;确定&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">for</span> (Integer j : map.<span style="color:#a6e22e">keySet</span>()){
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">int</span> z <span style="color:#f92672">=</span> map.<span style="color:#a6e22e">get</span>(j);
</span></span><span style="display:flex;"><span>                            str <span style="color:#f92672">=</span> str <span style="color:#f92672">+</span> sexx<span style="color:#f92672">[</span>z<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                        textView.<span style="color:#a6e22e">setText</span>(str);
</span></span><span style="display:flex;"><span>                        str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;取消&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>19.Android系统中的ContextMenu(上下文菜单)类似于PC中的右键弹出菜单，当一个视图注册了上下文菜单时，长按该视图对象将出现一个提供相关功能的浮动菜单。上下文菜单可以被注册到任何视图对象中，最常见的是用于列表视图中，但上下文菜单不支持图标和快捷键。</p>
<p>选项菜单
当Activity在前台运行时，如果用户按下微信消息列表页面右上角加号键，此时就会在屏幕右上角弹出相应的选项菜单。但这个功能需要开发人员编程来实现，如果在开发应用程序时没有实现该功能，那么程序运行时按下手机的meun键是不会起作用的。</p>
<p>下拉菜单
严格来讲Spinner不算是一个菜单，但是其操作和表现形式具有菜单的行为。Spinner的有效使用可以提高用户的体验。当用户需要选择的时候，可以提供一个下拉列表将所有可选的项列出来，供用户选择。</p>
<p>21.Toast（提示）的使用，代码实现可参考实验报告或书本。</p>
<p>Toast.makeText(MultipleChoiceDialogBox.this,&ldquo;nihao&rdquo;,Toast.LENGTH_LONG).show();</p>
<p>22.Notification表示通知，是可以显示在Android系统通知栏上的一种数据的封装形，运用Notification可以提高应用的交互性，带来良好的用户感受。
关于Notification，主要涉及到Notification类与NotificationManager类的使用。
Notification类的实例表示在通知栏显示的一个通知，该通知内容包括该通知的ID、时间、内容、标题、图标等。
NotificationManager实例用来将该通知发送到系统的通知栏上。</p>
<p>23.本地服务（Local Service）用于应用程序内部，可以实现应用程序自己的一些耗时任务，比如查询升级信息、网络传输，或者在一些场合需要在后台执行，比如播放音乐，并不占用应用程序比如Activity所属的线程，而是单开线程后台执行，这样用户体验比较好。</p>
<p>Service的两种启动方式
(1)通过bindService绑定：
绑定时，bindService -&gt; onCreate() –&gt; onBind()；
解绑定：unbindService –&gt;onUnbind() –&gt; onDestory()；
此时如果调用者（如Activity）直接退出，Service 由于与调用者绑定在一起，则Service随着调用者一同停止。</p>
<p>（2）通过startService绑定：
启动时，startService –&gt; onCreate() –&gt; onStart()；
停止时，stopService –&gt; onDestroy()；
此时，服务与调用者（如Activity）没有绝对关联，当调用者关闭后服务还会一直在后台运行。
服务的生命周期</p>
<p>23.在Android里面有各式各样的广播，比如：电池的状态变化、信号的强弱状态、电话的接听和短信的接收等等，本节将会介绍系统发送、监听这些广播的机制。</p>
<p>两种广播注册方法的区别
第一种不是常驻型广播，也就是说广播跟随程序的生命周期
第二种是常驻型，也就是说当应用程序关闭后，如果有信息广播过来，程序广播接收器也会被系统调用自动运行</p>
<p>25.作为一个完整的应用程序，数据的存储与操作是必不可少的。Android系统为我们提供了四种数据存储方式，分别是：Shared Preference、SQLite、File和ContentProvider。
SharedPreference：一种常用的数据存储方式，其本质就是基于xml文件存储键值对（key-value）数据，通常用来存储一些简单的配置信息。</p>
<p>SQLite：一个轻量级的数据库，支持基本SQL语法，是Android系统中常被采用的一种数据存储方式。Android为此数据库提供了一个名为SQLiteDatabase的类，封装了一些操作数据库的API。
文件储存：即常说的文件（I/O）存储方法，常用于存储数量比较大的数据，但缺点是更新数据将是一件困难的事情。
ContentProvider：它是Android系统中能实现应用程序之间数据共享的一种存储方式。由于Android系统中，数据基本都是私有的，存放于“data/data/程序包名（package name）”目录下，所以要实现数据共享，正确方式是使用ContentProvider。由于数据通常在各应用间是私密的，所以此存储方式较少使用，但是其又是必不可少的一种存储方式。如果应用程序有数据需要共享时，就需要使用ContentProvider为这些数据定义一个URI（包装成Uri对象），然后其他的应用程序就通过ContentResolver传入这个URI来对数据进行操作。</p>
<p>26.SharedPreferences对象的常用方法有以下几种：</p>
<p>27.Sqlite数据库的使用涉及到两个类：SQLiteDataBase和SQLiteOpenHelper</p>
<p>SQLiteDatabase具体方法：</p>
<p>SQLiteOpenHelper 具体方法</p>
<p>例：要得到一个可写数据库，首先创建一个类继承 SQLiteOpenHelper，重写 onCreate()方法并在该方法中创建表，然后使用创建出的 SQLiteOpenHelper 的子类对象的 getWritableDatabase()方法获得一个可读写的数据库对象。</p>
<p>28.网络状态</p>
<p>29.JSON数据解析
是一种轻量级的数据交换格式，它基于纯文本，采用完全独立于语言的文本格式来存储和传输数据。在编程环境中解析JSON数据意味着将JSON字符串转换为程序可以理解并操作的数据结构
JSON Object：JSON中对象(Object)以“{”开始, 以“}”结束。对象中的每一个item都是一个键值对，表现为“key:value”的形式, 键值对之间使用逗号分隔。如下代码所示：
{
&ldquo;name&rdquo;：&ldquo;coolxing&rdquo;，
&ldquo;age&rdquo;：24，
&ldquo;male&rdquo;：true，
&ldquo;address&rdquo;：{
&ldquo;street&rdquo;:&ldquo;huiLongGuan&rdquo;，
&ldquo;city&rdquo;:&ldquo;beijing&rdquo;，
&ldquo;country&rdquo;:&ldquo;china&rdquo;
}
}</p>
<p>JSONArray: JSON数组(Array)以&quot;[&ldquo;开始, 以&rdquo;]&ldquo;结束, 数组中的每一个元素可以是String,Number, Boolean, null, Object对象甚至是Array数组, 数组间的元素使用逗号分隔,如下代码所示：
[
&ldquo;coolxing&rdquo;, 24，
{
&ldquo;street&rdquo;:&ldquo;huiLongGuan&rdquo;，
&ldquo;city&rdquo;:&ldquo;beijing&rdquo;，
&ldquo;country&rdquo;:&ldquo;china&rdquo;
}
]</p>
<p>30.Webview
WebView 加载页面主要调用三个方法：LoadUrl、LoadData、LoadDataWithBaseURL.
LoadUrl  直接加载网页、图片并显示。
LoadData 显示文字与图片内容。(模拟器1.5、1.6)。
LoadDataWithBase 显示文字与图片内容 (支持多个模拟器版本)。
使用webview的websetting来设置，WebSetting websetting = webView.getSettings().
Websetting常用方法：</p>
<p>31.进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动。它是操作系统动态执行的基本单元。
通俗地讲一个进程代表一个应用程序，该应用程序运行在自己的进程当中，使用系统为其分配的堆内存，不受其他应用程序或者是其他进程的影响，是独立运行的。当然一个进程中可以同时运行多个应用程序，这时堆内存是共享的。</p>
<p>Android系统为每个应用程序分配了一个进程，应用程序中组件（Activity，Service，BroadCast）的状态决定的一个进程的“重要性层次”，层次最低的属于旧进程。这个“重要性层次”有五个等级，也就是进程的生命周期，按最高层次到最低层次排列如下：
（1）前台进程
（2）可视进程
（3）服务进程
（4）背景进程
（5）空进程</p>
<p>一个Android应用只能存在一个进程，但是可以存在多个线程，也就是说，当应用启动后，系统分配了内存，这个进程的内存不被其他进程使用，但被进程中一个或多个线程共享。宏观地讲所有的进程是并发执行的，而进程中的多个线程同时执行但并不是并发的，系统的CPU会根据应用的线程数触发每个线程执行的时刻，当CPU时间轮到分配某个线程执行时刻时该线程开始执行，执行到下一个线程执行的时，依此轮询，直到线程执行结束。
在理解启动模式前，理解几个概念</p>
<ol>
<li>任务
用户尝试在您的应用中执行操作时与之互动的一系列 activity。这些 activity 按照每个 activity 的打开顺序排列在称为“返回堆栈”的堆栈中，也称为任务栈。</li>
<li>Activity：简单理解就是页面，下面介绍启动模式的时候我们都把它理解为“页面”；</li>
<li>Intent：教材一般叫意图，简单理解它就是带操作的信息，像指令一样，接收到Intent就类似接收到指令一样。</li>
<li>一个应用可以有多个任务栈，在考虑一个应用一个任务栈的情况下，两个页面如果在不同应用程序，那么在启动这两个页面的时候，他们会被压入各自的任务栈，所以两个不同应用程序的各自页面一般不会出现在同一个任务栈中；</li>
<li>onNewIntent() 方法的作用主要是允许已存在的 Activity 更新其状态以响应新的 Intent 数据。例如，在接收动态广播（如地理位置更新、消息通知等）或重新加载内容时，无需重启 Activity 就可以处理新的数据。开发者需要重写这个方法并在其中处理接收到的新 Intent 数据。</li>
</ol>
<p>四种启动模式：</p>
<p><strong>标准模式（standard）</strong></p>
<p>默认启动模式，如果任务栈中没有Activity则会实例化一个新的Activity，并将其压入当前任务栈的顶部。
如果同一个Activity已经存在栈顶，那么新的实例仍然会被创建并压入栈中，因此栈中可能包含多个该Activity实例。</p>
<p><strong>单例模式（singleTop）</strong></p>
<p>当一个新的Intent要启动已位于栈顶的Activity（与请求的Intent匹配的Activity）时，系统不会创建新的Activity实例，而是将intent通过onNewIntent()方法传递给现有的Activity实例；</p>
<ul>
<li>如果目标Activity不在栈顶，则会正常创建新的实例；</li>
<li>如果目标Activity不在栈顶而在栈顶的下一层呢？
比如现在有A-B-C-D,D在栈顶，如果传来的Intent是要打开页面C，在单例模式下也是正常创建；</li>
</ul>
<p>总结：</p>
<p>在单例模式下，</p>
<ul>
<li>如果页面不存在，也就是要打开的Activity没有在任务栈中实例化，那么正常创建Activity实例，并压入栈中；</li>
<li>如果Activity已经存在于任务栈中，且为栈顶，那么系统不创建新的Activity实例，而是将intent通过onNewIntent()方法传递给现有的Activity实例，</li>
<li>如果不是栈顶，正常创建Activity实例。</li>
</ul>
<p><strong>栈内复用模式（singleTask）</strong></p>
<p>当打开一个页面，也就是启动一个Activity时，系统首先会在整个任务栈中查找这个Activity是否已经在栈中，</p>
<ul>
<li>情况一：如果存在并且处于栈底，则直接把该Activity之上的所有Activity弹出栈，使这个Activity置于栈顶并调用其onNewIntent()。</li>
<li>情况二：如果在栈顶，则将intent通过onNewIntent()方法传递给现有的Activity实例</li>
</ul>
<p>如果不存在已有的Activity实例，才会创建新的实例并放入栈顶。这种模式下的Activity始终只有一个实例存在于任务栈中。</p>
<p><strong>单实例模式（singleInstance）</strong></p>
<p>当启动Activity时，系统会为它创建一个新的任务栈，然后在这个新的栈顶放上这个Activity的实例。
如果再次启动这个Activity，即使是在另一个任务栈中，系统也不会创建新实例，而是将意图传递给已经存在的Activity实例。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
  </ul>
</div>
            </header>
<h1 id="androidstudio笔记">AndroidStudio笔记</h1>

<h2 id="第一章">第一章</h2>
<h3 id="配置开发环境">配置开发环境：</h3>
<ul>
<li>1.<strong>安装JDK</strong>
<a href="https://www.bilibili.com/video/BV1tE411V7xA/" target="_blank">&ldquo;安装连接&rdquo;</a></li>
<li>2.<strong>安装AndroidStudio</strong>
<a href="https://www.bilibili.com/video/BV11z4y1x7Dh/" target="_blank">&ldquo;安装连接&rdquo;</a></li>
<li>3.<strong>安装SDK</strong></li>
<li>4.<strong>AndroidStudio汉化</strong></li>
<li><a href="https://www.bilibili.com/video/BV1Hz4y1K7Tc/" target="_blank">https://www.bilibili.com/video/BV1Hz4y1K7Tc/</a></li>
</ul>
<h2 id="第二章">第二章</h2>
<p>Gradle():自动构建
日志输出工具：查看报错
Run（运行）</p>
<p>工程结构：
（清单文件）：对Activity，service，re广播等进行注册的文件
Java目录：
后缀为 <strong>.class</strong>
drawable目录：资源文件，放图片、图标、背景资源的文件
Layout目录：放页面布局文件
放图片和.xml文件，适配不同分辨率的文件夹
values目录：颜色、数组、字符串、样式</p>
<h2 id="android基本原理">Android基本原理</h2>
<h3 id="android体系结构">Android体系结构</h3>
<h3 id="android-用用程序核心组件">Android 用用程序核心组件</h3>
<h4 id="activity">Activity</h4>
<h2 id="第四章-activityfragment以及intent通信机制">第四章 Activity、Fragment以及Intent通信机制</h2>
<h3 id="activity生命周期">Activity生命周期</h3>
<p>四种状态的转换</p>
<p>布局的特点：</p>
<h2 id="第八章-数据存储和提供器">第八章 数据存储和提供器</h2>
<h3 id="sharedpreference">SharedPreference</h3>
<p>使用键值对关系来获取文件</p>
<h3 id="sqlite">SQLite</h3>
<p>轻量级占用内存小，支持基本的MySQL语言。
创建过程：</p>
<h3 id="contentpreference应用存储">ContentPreference（应用存储）</h3>
<p>通过暴露URL让软件之间可以共享文件
好比一般使用文件时，软件会要求需要访问你手机文件权限。</p>
<h3 id="文件存储">文件存储</h3>
<h2 id="网络通信编程">网络通信编程</h2>
<h3 id="网络访问方式">网络访问方式</h3>
<p>网络状态码，例如404表示什么？</p>
<h3 id="数据解析">数据解析</h3>
<p>1.JSON格式解析：
以类对象的方式进行相应，以数组的方式进行相应，也可以二者混合。</p>
<h3 id="网络状态">网络状态</h3>
<h3 id="javascript与java交互">JavaScript与Java交互</h3>
<p>webView的使用</p>
<p>在简单的使用webview过程中可能无法进入指定的网页，而且AndroidStudio模拟机上还会弹出如下错误：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>    <span style="font-weight:bold">**Webpage not available**</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    The webpage at http://www.baidu.comi could not beloaded because:
</span></span><span style="display:flex;"><span>    net::ERR_CLEARTEXT_NOT_PERMITTED</span></span></code></pre></div><p>解决的办法：
请在<strong>AndroidManifest.xml</strong>文件下添加代码：

<div class="tab-panel" data-tab-group="9cb1f37eef7e1c2ba885e93bc0961ac0">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('9cb1f37eef7e1c2ba885e93bc0961ac0','添加代码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 添加代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.INTERNET&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.ACCESS_NETWORK_STATE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.ACCESS_WIFI_STATE&#34;</span> <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<p>如果添加上面的还不可以，请在<strong>manifest</strong>中添加如下代码：</p>

<div class="tab-panel" data-tab-group="3fec688e0a92056e579e2b6be65c9e3e">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('3fec688e0a92056e579e2b6be65c9e3e','添加代码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 添加代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;manifest</span> <span style="color:#960050;background-color:#1e0010">...</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;application</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:usesCleartextTraffic=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/application&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/manifest&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<p><a href="https://blog.csdn.net/zgd826237710/article/details/95520785/" target="_blank">&ldquo;原文章链接&rdquo;</a></p>
<p>getwebSetting</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b2-%E7%AC%94%E8%AE%B0/">B2-笔记</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/ui%E8%AE%BE%E8%AE%A1/">UI设计</a></li>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
  </ul>
</div>
            </header>
<h1 id="2-1toolbar工具栏">2-1.Toolbar工具栏</h1>

<h2 id="toolbar是什么">Toolbar是什么？</h2>
<p>简单理解就是页面的上的菜单栏，或者叫工具栏，在<strong>AndroidStudio</strong>的页面布局中使用<strong>Toolbar</strong>，</p>
<h2 id="menu文件的创建">menu文件的创建</h2>
<p>在创建<strong>menu</strong>这个目录前，请看查看<strong>res/<strong>目录下是否包含该目录，如果没有则创建。
接着在该目录下创建</strong>xml</strong>文件，此处文件名为<strong>content_menu</strong>。在该<strong>content_menu</strong>使用<code>&lt;item</code>,如下为部分代码：

<div class="tab-panel" data-tab-group="8e739df07005ea437d40888a7be0dccb">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('8e739df07005ea437d40888a7be0dccb','简码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 简码</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('8e739df07005ea437d40888a7be0dccb','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_group_chat&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;发起群聊&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;menu</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_group_chat&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;发起群聊&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_friend&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;添加朋友&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_RichScan&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;扫一扫&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_QRcode&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;扫码&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;4&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/menu&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
在代码中<strong>orderInCategory</strong>属性是用来控制该<strong>item</strong>权重的，权重越小等级越高，该标题就会靠前显示，

<div class="box notices cstyle secondary">
  <div class="box-label"><i class="fa-fw fas fa-eye"></i> 结果</div>
  <div class="box-content">

<p><a href="#R-image-d07732f138e2750bae09343b5ff4d7a4" class="lightbox-link"><img src="./branch-bundle-1/2.androidstudio/toolbar/img1_item.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="figure-image        " style="height: 250px; width: 15vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d07732f138e2750bae09343b5ff4d7a4"><img src="./branch-bundle-1/2.androidstudio/toolbar/img1_item.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="lightbox-image        " loading="lazy"></a></p>
</div>
</div></p>
<h2 id="创建布局页面">创建布局页面</h2>
<p>详细代码如下：

<div class="tab-panel" data-tab-group="702b6a340f8b8bf3e945ba786cf98d94">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('702b6a340f8b8bf3e945ba786cf98d94','简码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 简码</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('702b6a340f8b8bf3e945ba786cf98d94','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;androidx.appcompat.widget.Toolbar</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/options_menu_toolbar&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;409dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;?attr/colorPrimary&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:minHeight=</span><span style="color:#e6db74">&#34;?attr/actionBarSize&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;?attr/actionBarTheme&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintLeft_toLeftOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintRight_toRightOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span> <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:app=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:tools=</span><span style="color:#e6db74">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;androidx.appcompat.widget.Toolbar</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/options_menu_toolbar&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;409dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;?attr/colorPrimary&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:minHeight=</span><span style="color:#e6db74">&#34;?attr/actionBarSize&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;?attr/actionBarTheme&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintLeft_toLeftOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintRight_toRightOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<h2 id="activityjava1文件中">Activity.java<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>文件中</h2>
<p>此处创建类的步骤，继承<code>AppCompatActivity</code>方法就不再赘述。</p>
<ol>
<li>在<code>onCreate</code>获取<strong>Toolbar</strong>的id，这个过程也叫实例化；</li>
<li>接着使用方法<code>setSupportActionBar</code>;</li>
<li>在onCreate外重写<code>onCreateOptionsMenu</code>和<code>onOptionsItemSelected</code>方法。</li>
</ol>

<div class="tab-panel" data-tab-group="3c046aaf71dc55014f86f5e2a78a4162">
  <div class="tab-nav">
    <div class="tab-nav-title">.java文件</div>
    <button
      data-tab-item="oncreatefa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('3c046aaf71dc55014f86f5e2a78a4162','oncreatefa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onCreate</span>
    </button>
    <button
      data-tab-item="oncreateoptionsmenufa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('3c046aaf71dc55014f86f5e2a78a4162','oncreateoptionsmenufa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onCreateOptionsMenu</span>
    </button>
    <button
      data-tab-item="onoptionsitemselectedfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('3c046aaf71dc55014f86f5e2a78a4162','onoptionsitemselectedfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onOptionsItemSelected</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('3c046aaf71dc55014f86f5e2a78a4162','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="oncreatefa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">opetions_menu</span>);
</span></span><span style="display:flex;"><span>        toolbar <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">options_menu_toolbar</span>);
</span></span><span style="display:flex;"><span>        setSupportActionBar(toolbar);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="oncreateoptionsmenufa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onCreateOptionsMenu</span>(Menu menu) {
</span></span><span style="display:flex;"><span>        getMenuInflater().<span style="color:#a6e22e">inflate</span>(R.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">content_menu</span>,menu);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreateOptionsMenu</span>(menu);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="onoptionsitemselectedfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onOptionsItemSelected</span>(<span style="color:#a6e22e">@NonNull</span> MenuItem item) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//获取menu目录中content_menu.xml文件里item的id</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> id <span style="color:#f92672">=</span> item.<span style="color:#a6e22e">getItemId</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//判断id是否被点击，被点击就执行相应的动作，比如页面跳转</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_add_friend</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(OpetionsMenu.<span style="color:#a6e22e">this</span>,ListDialogActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_group_chat</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>  <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onContextItemSelected</span>(item);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.practiceapplication;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.annotation.SuppressLint;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.Menu;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.MenuItem;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.NonNull;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.widget.Toolbar;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OpetionsMenu</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Toolbar toolbar;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">opetions_menu</span>);
</span></span><span style="display:flex;"><span>        toolbar <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">options_menu_toolbar</span>);
</span></span><span style="display:flex;"><span>        setSupportActionBar(toolbar);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onCreateOptionsMenu</span>(Menu menu) {
</span></span><span style="display:flex;"><span>        getMenuInflater().<span style="color:#a6e22e">inflate</span>(R.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">content_menu</span>,menu);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreateOptionsMenu</span>(menu);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onOptionsItemSelected</span>(<span style="color:#a6e22e">@NonNull</span> MenuItem item) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> id <span style="color:#f92672">=</span> item.<span style="color:#a6e22e">getItemId</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_add_friend</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(OpetionsMenu.<span style="color:#a6e22e">this</span>,ListDialogActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_group_chat</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>  <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onContextItemSelected</span>(item);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="最终结果">最终结果</h2>

<div class="box notices cstyle secondary">
  <div class="box-label"><i class="fa-fw fas fa-eye"></i> 结果</div>
  <div class="box-content">

<p><a href="#R-image-034f6d6b7681ec20f3916aafc2f7e644" class="lightbox-link"><img src="./branch-bundle-1/2.androidstudio/toolbar/abc.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="figure-image        " style="height: 250px; width: 15vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-034f6d6b7681ec20f3916aafc2f7e644"><img src="./branch-bundle-1/2.androidstudio/toolbar/abc.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="lightbox-image        " loading="lazy"></a></p>
</div>
</div>

<div class="expand">
    <input type="checkbox" id="R-expand-3a3a9d64d352e0dd09710811cba0a372" aria-controls="R-expandcontent-3a3a9d64d352e0dd09710811cba0a372" >
    <label class="expand-label" for="R-expand-3a3a9d64d352e0dd09710811cba0a372" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-3a3a9d64d352e0dd09710811cba0a372" class="expand-content">
<p>
详细知识等我更新……</div>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Activity.java这个文件的一般就是我们所说的主程序，类似与C语言中的包含main入口的文件。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b3-%E8%AF%BE%E5%A0%82%E7%AC%94%E8%AE%B0/">B3-课堂笔记</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 3</div>
<h1 id="3stm32_rfid">3.STM32_RFID</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 4</div>
<h1 id="4esp8266_wifi">4.Esp8266_WiFi</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/">物联网通信技术-小知识</a><p>通信串口 参照上一节课 物联网是新一代信息技术领域的重要组成部分。其英文名称是“The Internet of things”，顾名思义，“物联网就是物物相连的互联网</p></li>
</ul>
<p><a href="#R-image-d079dfc038230c02a556559c4f86e5ae" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/abc.jpg" alt="kjjd" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d079dfc038230c02a556559c4f86e5ae"><img src="./branch-bundle-1/4.esp8266_wifi/abc.jpg" alt="kjjd" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">4.Esp8266_WiFi 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">物联网工程</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网通信技术-小知识">物联网通信技术-小知识</h1>

<h2 id="通信串口">通信串口</h2>
<p>参照上一节课</p>
<p>物联网是新一代信息技术领域的重要组成部分。其英文名称是“The Internet of things”，顾名思义，“物联网就是物物相连的互联网”。</p>
<p>这有两层意思：</p>
<p>第一，物联网的核心和基础仍然是互联网，是在互联网基础上的延伸和扩展的网络；
第二，其用户端延伸和扩展到了任何物品与物品之间，进行信息交换和通信。</p>
<ol>
<li>全面感知：全面感知就是通过各种类型的传感器实时感知被测物理对象的状态。</li>
<li>可靠传递：可靠传递就是通过各种网络与互联网的融合，将物体的信息实时准确地传递出去。</li>
<li>智能计算：智能处理就是利用云计算、模糊识别等各种智能计算技术，对海量的数据和信息分析和处理，以实现对物体智能化控制。</li>
</ol>
<h2 id="通信">通信</h2>
<h3 id="通信的目的">通信的目的</h3>
<p>传递消息中所包含的信息</p>
<ol>
<li>
<p>消息
是物质或精神状态的一种反映，例如语音、文字、音乐、数据、图片或活动图片等</p>
</li>
<li>
<p>信息
是消息的有效信息内容</p>
</li>
</ol>
<h3 id="通信系统的一般模型">通信系统的一般模型</h3>
<p>信息源、发送设备、信道、接收设备、受信者、噪声源。</p>
<ul>
<li>发送端：信息源、发送设备；</li>
<li>接收端：接收设备、受信源；</li>
</ul>
<h3 id="通信系统分类">通信系统分类</h3>
<p>根据按信道中传输的 <strong>信号分类</strong> ，通信系统分为 <strong>模拟通信系统</strong> 和 <strong>数字通信系统</strong> 。模拟通信系统传送的是模拟信号，这代表消息的信号参量取值是连续的。</p>
<p>调制是指把信号转换成适合在信道中传输的形式的一种方产。广义调制分为 <strong>基带调制</strong> 和 <strong>频带（载波）调制</strong></p>
<p>点对点之间的通信，按消息传送的方向，通信方式可分为 <strong>单工通信</strong> 、<strong>半双工通信及全双工通信</strong> 三种</p>
<h3 id="串行通信">串行通信</h3>
<p>将数字元码序列以串行方式一个元码接着一个元码的在一条信道上传输。</p>
<p>优点：只需一条通信信道，节省线路铺设费用；
缺点：速度慢，需要外加码组或字符同步措施。</p>
<p><a href="#R-image-1daa8d3b80ea224d594177ad7986e77c" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%871.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1daa8d3b80ea224d594177ad7986e77c"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%871.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>随着技术的发展，以USB为代表的串行传输速度已经超过并行传输。</p>
<h3 id="并行通信">并行通信</h3>
<p>将代表信息的数字信号元码序列以组的方式在两条或者两条以上在并行信道上同时传输。</p>
<p><a href="#R-image-2f0662b5f338d88e8ea3a00618d7b07e" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%872.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2f0662b5f338d88e8ea3a00618d7b07e"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%872.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>优点：节省传输时间，速度快，不需要字符同步措施；
缺点：需要n条数据线，成本高。</p>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<p>串行通信是指使用一条数据线,将数据一位一位地依次传输,每一位数据占据一个固定的时间长度</p>
<p>在进行串口通信时,两个串口设备间需要**发送端(TX)<strong>与</strong>接收端(RX)**交叉相连,并共用电源地(GND)。</p>
<ol>
<li>
<p><strong>串行通信的约定</strong>
串行通信中的这种约定包含两个方面，</p>
<ul>
<li>一方面是通信的速率要保持一致，</li>
<li>另一方面是字符的编码要一致。</li>
</ul>
</li>
<li>
<p><strong>波特率</strong>
通信速率是指单位时间内传输的信息量,可用比特率和波特率来表示。
<strong>比特率</strong> 是指每秒传输的二进制位数,用bps (bits)表示。
<strong>波特率</strong> 是指每秒传输的符号数,若每个符号所含的信息量为1比特,则波特率等于比特率。</p>
</li>
<li>
<p>串口工作原理</p>
</li>
</ol>
<p>在Arduino与其它器件通讯的过程中,数据传输实际上都是以数字信号(即电平高低变化)的形式进行的,串口通信也是如此.当使用Serial.print()函数输出数据时,Arduino的发送端会输出一连串的数字信号,称这些数字信号为数据帧.
例如,当时用Serial.print(&lsquo;A&rsquo;)语句发送数据时,实际发送的数据帧格式如下图所示:
<a href="#R-image-3ae5b1ebbaf7c936b4daa5020d27b014" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8714.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3ae5b1ebbaf7c936b4daa5020d27b014"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8714.png" alt=" " class="lightbox-image        " loading="lazy"></a>
Serial.begin()是Arduino开发平台串口初始化函数。
物联网设备跟云平台的通讯方法分为同步传输和异步传输</p>
<p>以光照度传感器为例，讲解串口通信模式。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> sensorPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> ledPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> lineFound <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(sensorPin, INPUT);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(ledPin, OUTPUT);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>lineFound <span style="color:#f92672">=</span> <span style="color:#a6e22e">digitalRead</span>(sensorPin);     
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(lineFound <span style="color:#f92672">==</span> HIGH) {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, HIGH);
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, LOW);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>流程如下：
<a href="#R-image-d0ff5376744e8942f1124da907517b23" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8715.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d0ff5376744e8942f1124da907517b23"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8715.png" alt=" " class="lightbox-image        " loading="lazy"></a>
串口例程：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> analogInPin <span style="color:#f92672">=</span> A0; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>  sensorValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>     Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>,<span style="color:#ae81ff">8</span>N1);              
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>     sensorValue <span style="color:#f92672">=</span> <span style="color:#a6e22e">analogRead</span>(analogInPin);     
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">250</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>（1）串口通信模式有：1）波特率为115200 （2）校验方式为无校验 (3)数据位为8位、停止位为1位</p>
<p>（2）串口通信流程图
<a href="#R-image-9e7f3226f287678e9361865c35a080d4" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8716.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9e7f3226f287678e9361865c35a080d4"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8716.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="zigbee与ieee802154">ZigBee与IEEE802.15.4</h2>
<p>ZigBee网络中的每一个节点都有一个16bit网络地址和一个64bit IEEE扩展地址。</p>
<p>IEEE802.15.4定义了2450MHz、868MHz、915MHz三个频段。对于不同的国家和地区，为其提供的工作频率范围是不同的，其中2450MHz （2.4GHz）频段是全球统一无需申请的的ISM频段，提供 <strong>250kbps</strong> 的通信速率，并提供16个信道;868MHz频段是欧洲的ISM频段，提供1个速率为20kbps的信道，915MH频段是美国的ISM频段，提供10个速率为40kbps的信道。</p>
<p><a href="#R-image-c6cac149ad036d5bd537f00d57aa743f" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%873.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c6cac149ad036d5bd537f00d57aa743f"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%873.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-e4511aae30f4dd9812cd96d6f9a63128" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e4511aae30f4dd9812cd96d6f9a63128"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>在ZigBee网络中存在三种节点类型：</p>
<ul>
<li>Coordinator(协调器)，</li>
<li>Router(路由器)</li>
<li>End-Device(终端设备)。</li>
</ul>
<p>ZigBee网络由一个Coordinator以及多个Router和多个End_Device组成。</p>
<p>ZigBee可采用 <strong>星状</strong> 、<strong>片状</strong> 和 <strong>网状</strong> 网络结构，由一个主节点管理若干子节点，最多一个主节点可管理254个子节点;同时主节点还可由上一层网络节点管理，最多可组成<strong>65000</strong>个节点的大网。</p>
<p>三种设备类型</p>
<p>三种节点类型及其案例</p>
<p>三种网络拓扑结构类型</p>
<p><a href="#R-image-233ab52568ba164cf3481690161abc4e" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-233ab52568ba164cf3481690161abc4e"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="星形拓扑">星形拓扑</h3>
<p>包含一个Co-ordinator（协调者） 节点和一系列的 End Device（终端）节点，每一个End Device 节点只能和 Co-ordinator 节点进行通讯。如果需要在两个 End Device 节点之间进行通讯必须通过Co-ordinator 节点进行信息的转发。</p>
<p><a href="#R-image-9c0f8988efa1b10c81ee02be8e991aaf" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9c0f8988efa1b10c81ee02be8e991aaf"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="树形网络">树形网络</h3>
<p>树形拓扑包括一个Co-ordinator（协调者）以及一系列的 Router（路由器） 和 End Device（终端）节点。Co-ordinator 连接一系列的 Router 和 End Device， 他的子节点的 Router也可以连接一系列的 Router 和End Device. 这样可以重复多个层级。
Co-ordinator 和 Router 节点可以包含自己的子节点。End Device 不能有自己的子节点。有同一个父节点的节点之间称为兄弟节点。</p>
<p><a href="#R-image-e64edf739ac663ff3b76f3380369faf9" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e64edf739ac663ff3b76f3380369faf9"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="网型网络mesh拓扑">网型网络（Mesh拓扑）</h3>
<p>网形网络（Mesh拓扑） 包含一个Co-ordinator和一系列的Router 和End Device。这种网络拓扑形式和树形拓扑相同；请参考上面所提到的树形网络拓扑。但是，网状网络拓扑具有<strong>更加灵活的信息路由规则</strong>，在可能的情况下，路由节点之间可以直接的通讯。这种路由机制使得信息的通讯变得更有效率，而且意味这一旦一个路由路径出现了问题，信息可以自动的沿着其他的路由路径进行传输。</p>
<p><a href="#R-image-427cfb8d438eb181b4e936638638a600" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-427cfb8d438eb181b4e936638638a600"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="rfid射频识别技术">RFID射频识别技术</h2>
<p>RFID的定义：射频识别（Radio Frequency Identification，RFID）是一种 <strong>非接触式</strong> 的自动识别技术，它通过射频信号自动识别特定目标对象并读写相关数据，而无须识别系统与特定目标之间建立机械或光学接触。</p>
<ol>
<li>
<p>RFID系统通常由 <strong>电子标签</strong> 、<strong>读写器</strong> 和 <strong>计算机网路</strong> 三部分组成。</p>
</li>
<li>
<p>RFID系统中的读写器的 <strong>工作频率</strong> 决定了整个RFID系统的工作频率，功率大小决定了整个RFID系统的工作距离。</p>
</li>
<li>
<p>在RFID系统中常用的频段有4种：低频LF(125kHz)、高频HF(13.56MHz)、超高频UHF(850～910MHz)及微波(2.45GHz)</p>
</li>
<li>
<p>电子标签分为 <strong>无源标签(passive)</strong>、 <strong>半无源标签(semi-passive)</strong> 和 <strong>有源标签(active)三种类型</strong>。</p>
</li>
<li>
<p>RFID最基本的硬件体系结构由RFID电子标签、RFID读写器和计算机。</p>
</li>
</ol>
<p><a href="#R-image-55de5ca45bf0388e48894d9544a1a25c" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%879.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-55de5ca45bf0388e48894d9544a1a25c"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%879.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="rfid系统的工作原理">RFID系统的工作原理</h3>
<p>利用射频信号的空间耦合（电磁感应或电磁传播）传输特性，实现对静止的、移动的待识别物品的自动识别，如图所示：</p>
<p><a href="#R-image-ff8ba2257bc18d0aa2adfc61d7759821" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8710.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ff8ba2257bc18d0aa2adfc61d7759821"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8710.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol>
<li>RFID网络框架结构</li>
</ol>
<ul>
<li>通信串口组网、</li>
<li>读写器与计算机直接连接、</li>
<li>读写器通过中间件连入网络</li>
</ul>
<h3 id="rfid工作过程">RFID工作过程</h3>
<p>读写器向M1卡发一组固定频率的电磁波，卡片内有一个LC串联谐振电路，其频率与读写器发射的频率相同，在电磁波的激励下，LC谐振电路产生共振，从而使电容内有了电荷，在这个电容的另一端，接有一个单向导通的电子泵，将电容内的电荷送到另一个电容内储存，当所积累的电荷达到2v时，此电容可做为电源为其它电路提供工作电压，将卡内数据发射出去或接取读写器的数据。</p>
<p><a href="#R-image-8f434fdd6bf6b82a24da15ab02d8dac3" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8711.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f434fdd6bf6b82a24da15ab02d8dac3"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8711.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="蓝牙技术">蓝牙技术</h2>
<ol>
<li>蓝牙技术工作在2.4GHz频段，2.4GHz的ISM波段是一种短距离无线传输技术，供开源使用。</li>
</ol>
<p><a href="#R-image-3390aa17c27f4d7f55200c6f285e499e" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8712.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3390aa17c27f4d7f55200c6f285e499e"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8712.png" alt=" " class="lightbox-image        " loading="lazy"></a>
2. 蓝牙使用<strong>跳频技术</strong>，将传输的数据分割成数据包，通过79个指定的蓝牙频道分别传输数据包。每个频道的频宽为1MHz，蓝牙4.0使用2MHz间距，可容纳40个频道。
3. 蓝牙采用<strong>高速跳频(Frequency Hopping)<strong>和</strong>时分多址(Time Division Multiple Access，TDMA)<strong>等先进技术，支持</strong>点对点</strong>及<strong>点对多点通信</strong>。其传输频段为全球公共通用的2.4 GHz频段，能提供1 Mb/s的传输速率和10 m的传输距离，并采用<strong>时分双工传输</strong>方案实现全双工传输。
4. 在一个微微网中，所有设备的级别是相同的，具有相同的权限。主设备单元负责提供<strong>时钟同步信号</strong>和<strong>跳频序列</strong>，从设备单元一般是<strong>受控同步</strong>的设备单元。</p>
<p>链路管理协议层利用状态机定义了设备的五中状态</p>
<ul>
<li>就绪</li>
<li>扫描</li>
<li>广播</li>
<li>发起</li>
<li>连接</li>
</ul>
<p><a href="#R-image-59bc86320334142c9d7c560367624300" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8713.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-59bc86320334142c9d7c560367624300"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8713.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="wifi技术">WiFi技术</h2>
<ol>
<li>WiFi技术的基本概念
<strong>定义：</strong> 一种可以将个人计算机、手机设备等终端以无线方式互相连接的技术。</li>
<li>WiFi（wireless Fidelity），在无线局域网领域称为“无线相容性认证”，是一种无线网络通信的品牌，有Wi-Fi联盟所持有，目的是为了改善基于IEEE802.11b标准的无线网络产品之间的互通性。</li>
</ol>
<p><a href="#R-image-5b2d168a642dd2d5d9c0037dce8fc2f3" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8717.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5b2d168a642dd2d5d9c0037dce8fc2f3"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8717.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>WiFi既是一种商业认证，也是一种无线联网技术；</li>
<li>WiFi技术的优点：可移动、实现简单、可靠性强、环保指数高；</li>
</ul>
<h3 id="无线局域网wireless-local-area-networkwlan">无线局域网（Wireless Local Area Network，WLAN）</h3>
<p><strong>无线局域网（WLAN）工作频段</strong></p>
<ul>
<li>按照国家的无线电管理部门规定，WLAN使用2.4GHz和5.8GHz两个频段。这两个频段属于特高频和微博范围，属于微波波段（波长小于一米）
<a href="#R-image-6dac4e094097bce19d597bff6b176945" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8718.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6dac4e094097bce19d597bff6b176945"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8718.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
<li><strong>2.4GHz频段信道划分：</strong> <p id="my-target">可用的宽带为83.5MHz，划分13个信道，每个信道宽为22MHz，信道之间有间隔，间隔5MHz。2.4GHz频段信道划分如下图所示：</p>
<a href="#R-image-6ac9c610841abf8f734e135e25c19d42" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8719.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6ac9c610841abf8f734e135e25c19d42"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8719.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
<li><strong>5.8GHz频段信道划分：</strong> 在中国大陆，IEEE802.11a使用的是5.98GHz频段，工作频率范围为5725-5875MHz。可用信道为5个，分别为149，153，,157，,161，165，每两个信道之间相差4，信道之间没有间隔。
<a href="#R-image-100e818e43befda8be253607648fa200" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8720.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-100e818e43befda8be253607648fa200"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8720.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<ol>
<li>无线局域网（WLAN）的架构</li>
</ol>
<ul>
<li>无线局域网参考模型与OSI七层参考模型如下图：</li>
<li>IEEE802标准遵循ISO/OSI 参考模型的原来规则确定最低两层——物理层与数据链路层的功能，以及与网络层的接口服务、网络互联等有关的高层功能。</li>
</ul>
<p><a href="#R-image-2ea31e5144470a59c2bf1442cb9ad7e3" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8721.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2ea31e5144470a59c2bf1442cb9ad7e3"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8721.png" alt=" " class="lightbox-image        " loading="lazy"></a>
2. 无线局域网（WLAN）的重要协议</p>
<ul>
<li>IEEE最初制定的无线局域网标准主要用于解决 <strong>办公室局域网</strong> 和 <strong>校园网</strong> 中用户以及 <strong>终端的无线接入</strong> 问题，其业务主要限于数据存取，其速率最高只能达到2Mpbs。</li>
<li>由于它在速率和传输距离上都不能满足人们的需要，IEEE小组又相继推出了802.11b、802.11a、802.11g、802.11n、802.11ac等一系列标准。
<a href="#R-image-abb059b134860301d0c6c9f4ae50052d" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8722.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-abb059b134860301d0c6c9f4ae50052d"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8722.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>(1) WLAN技术具有以下优势</p>
<ul>
<li>灵活性强，终端设备可以在WLAN网络的覆盖范围内任意放置和低速移动。</li>
<li>部署成本较低，省去了终端设备综合布线的费用。</li>
<li>扩展能力好，增加AP就可以增大容量和覆盖范围。</li>
<li>技术成熟，在国外已经得到广泛的应用。</li>
<li>采用了扩频技术和加密机制，具有较强的抗干扰性和网络保密性，安装简单。</li>
</ul>
<p>(2）帧的种类和用途如下:</p>
<ul>
<li>数据帧:用来传送数据，不含任何数据的空帧也属于数据帧。</li>
<li>控制帧:控制媒体存储的各种帧。</li>
<li>管理帧:与无线网络运作有关的帧，例如无线设备的连接，身份认证等等。</li>
</ul>
<h2 id="esp8266单片机">ESP8266单片机</h2>
<ul>
<li>ESP8266模块的开发语言C语言</li>
<li>ESP8266模块有1个模拟输入管脚</li>
</ul>
<h3 id="常用函数">常用函数</h3>
<ol>
<li>WiFi.begin(ssid,pass)：
<ul>
<li>ssid: 热点的名字</li>
<li>pass：热点的密码</li>
</ul>
</li>
<li>WiFi.mode()：设定wifi的操作模式，其参数值为: WIFl_AP,WIFl_STA,WIFI_AP_STA或者WIFI_OFF
<ul>
<li>WIFI_OFF:关闭WiFi</li>
<li>WIFI_STA:设置成Wi-Fi终端</li>
<li>WIFI_AP:设置成Wi-Fi网络接入点(基站，热点)</li>
<li>WIFI_AP_STA:-设置成Wi-Fi网络接入点以版终端</li>
</ul>
</li>
<li>WIFI.getMode():返回当前的WIFI模式，上述四种模式中的一种。</li>
<li>WIFI.softAP(ssid):创建一个无线局域网热点。这个热点允许其他设备（如手机、电脑等）通过Wi-Fi连接到ESP8266。参数 ssid 是要创建的Wi-Fi热点的名称，是一个字符串类型变量,最多31个字符。</li>
<li>WiFi.softAP(ssid,password,channel,hidden,max_connetion)：设置受密码保护的网络或配置其他网络参数，此功能的第一个参数是必须的，其余四个是可选的；
<ul>
<li>
<p><strong>password</strong> 带有密码的可选字符串。对于WPA2-PSK网络，其长度至少应为8个字符。如果未指定，则接入点将打开，任何人都可以连接（最多63个字符）</p>
</li>
<li>
<p><strong>channel（可选参数）</strong> ：指定SoftAP要使用的Wi-Fi信道。不同的国家和地区有不同的可用信道范围，<a href="#my-target">我国的信道范围规定</a>,选择一个相对空闲的信道有助于提高无线通信质量。</p>
</li>
<li>
<p><strong>hidden（可选参数）</strong> ：如果设为true，表示创建一个<strong>隐藏网络</strong>，即不广播其SSID，这样其他设备不能通过常规方式自动扫描到该热点。用户需要手动输入正确的SSID才能连接。</p>
</li>
<li>
<p><strong>max_connection（可选参数）</strong> ：定义允许同时连接到SoftAP的<strong>最大客户端数量</strong>。超出这个数目的设备将无法再加入此Wi-Fi网络。</p>
</li>
</ul>
</li>
<li><strong>softAPgetStationNum</strong>()：获取连接的soft-AP接口的站点数WiFi.
softAPdisconnect(wifioff)，功能会将当前配置的SSID和soft_AP的密码设置为空值，该参数wifioff是可选的，如果设置为true，将关闭soft-AP模式</li>
<li><strong>WiFi.softAPIP()</strong>: 返回访问点的网络接口的IP地址，返回值是IPAddress类型。</li>
<li><strong>WiFi.softAPmacAddress(mac):</strong> 函数接受一个参数mac，该参数是指向内存位置的指针（一个uint8_t大小为6个元素的数组），以保存mac地址。函数本身返回相同的指针值。</li>
</ol>
<h2 id="station模式">Station模式</h2>
<ul>
<li>首先<strong>AP</strong>发出信标(beacon)帧，意思就是我在这里，谁来连接我啊;</li>
<li><strong>移动工作站</strong> 也会发出探(probe)帧，意思是有谁我可以连接啊。这个是工作站主动发出来的，每隔一定时间发出一次。</li>
</ul>
<p>所以，根据这点，可以产生很多有价值的应用。比如你的带WiFi功能的手机，即使不连接wifi的情况下，只要打开WiFi功能，就可以被路由器截获这帧信息，路由器收集之后，你的信息就会被一个审计的东西发到服务器上，你手机号xxx上线时间xxx下线时间xxx都浏览了那些网页，WiFi建立连接过程都一目了然，你的位置也全都暴露了，这就叫WiFi探针。</p>
<p>具体流程如下所示:</p>
<ol>
<li>
<p>探测请求过程：
STA：设备 &mdash;&mdash;&mdash;&mdash;&gt;Probe Request(探测请求)&mdash;&gt; AP：热点</p>
</li>
<li>
<p>返回应答帧：
STA&lt;&mdash;&mdash;&mdash;&ndash; Probe Response &lt;&mdash;&mdash;&mdash;&ndash; AP，这个是由wifi（热点）返回的应答帧;</p>
<p>接下来是身份验证过程，可以使用诸如 WEP、WEP2、WPA 等加密方式应用到认证请求上;</p>
</li>
<li>
<p>身份验证过程：
STA &mdash;&mdash;&mdash;&mdash;&gt; Authentication Request &mdash;&mdash;&ndash;&gt;AP
认证请求中包含认证 Auth类型，Open System , Shared Key等信息，路由器返回认证结果;</p>
</li>
<li>
<p>连接请求
STA&lt;&mdash;&mdash;&mdash;&mdash; Authentication Response&lt;&mdash;&mdash;&mdash; AP连接请求;
STA&mdash;&mdash;&mdash;&mdash;&gt; Association Request &mdash;&mdash;&mdash;&mdash;&gt;AP请求与AP建立关联，从而可以进行数据交互;认证过连接请求OK返回。</p>
</li>
<li>
<p>数据传输
STA&lt;&mdash;&mdash;&mdash;&mdash;- Association Response&lt;&mdash;&mdash;&mdash;&ndash; AP</p>
</li>
</ol>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi. h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define ssid&#34;ESP8266&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define pssd&#34;123456789”
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> stassid<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;doit&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> stapssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;doit3305&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup eode here, to run once :
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);<span style="color:#75715e">//波特率设置为115200
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiPi.<span style="color:#a6e22e">mode</span>(WIFI_AP_STA);<span style="color:#75715e">//设置WIFI操作模式为WIFI_AP_STA,即接入点以及终端
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiPi.<span style="color:#a6e22e">disconnect</span>();<span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiri.<span style="color:#a6e22e">begin</span>(stassid, stagssd);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(WiPi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span>L_COHIEECTED){
</span></span><span style="display:flex;"><span>        delay<span style="color:#f92672">=</span>(<span style="color:#ae81ff">500</span>) ;
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;&#34;</span>.<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    serial .<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;TIFI connect sucess&#34;</span>) ;
</span></span><span style="display:flex;"><span>    serial. <span style="color:#a6e22e">println</span>(WiPi.<span style="color:#a6e22e">localIP</span>());
</span></span><span style="display:flex;"><span>    WiPi.<span style="color:#a6e22e">softAP</span>(ssid,pssd);<span style="color:#75715e">//连接WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    IPAddress ip<span style="color:#f92672">=</span>wiPi.<span style="color:#a6e22e">softAPIP</span>();<span style="color:#75715e">//softAPIP()返回网络接口IP地址，返回值为IPAddress
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    serial . <span style="color:#a6e22e">println</span>(ip)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Serial . <span style="color:#a6e22e">println</span>(wiPi.<span style="color:#a6e22e">softAPmacAddress</span>().<span style="color:#a6e22e">c_str</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//put your main code here, to run repeatedly :
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Station conneted to soft-AP = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    ,WiPi.<span style="color:#a6e22e">softAPgetStationJlun</span>());<span style="color:#75715e">//softAPgetStationJlun获取soft-AP接口的站点数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    delay<span style="color:#f92672">=</span>(<span style="color:#ae81ff">5000</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="tcpip协议">TCP/IP协议</h2>
<p>TCP/IP不是指特定的某一个协议，而是一个协议族，包含众多的协议。</p>
<p>互联网通信的本质是数字通信，任何数字通信都离不开通信协议的制定，通信设备只有按照约定的、统一的方式去封装和解析信息，才能实现通信。互联网通信所要遵守的众多协议，被统称为<strong>TCP/IP</strong> .</p>
<h3 id="serverd的应用">Serverd的应用</h3>
<p>与之相关的函数：</p>
<ul>
<li>Server ：服务器是所有基于WIFI Server的基类，</li>
<li>Server()函数：创建一个服务器，以侦听指定端口上的连续；
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  <span style="color:#a6e22e">Server</span>(port)
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">参数</span>port:<span style="color:#960050;background-color:#1e0010">侦听的端口（</span>int类型<span style="color:#960050;background-color:#1e0010">）；</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">返回值：无</span></span></span></code></pre></div></li>
</ul>
<p>如下为一个Server应用的代码，代码实现了用开发板连接手机开的热点，然后在手机上输入串口监视器打印的IP，然后可以看见显示 &ldquo;analog input:2&rdquo; 的网页。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span><span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cconst <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;LW&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ping123456&#34;</span>;
</span></span><span style="display:flex;"><span>    WiFiServer <span style="color:#a6e22e">server</span>(<span style="color:#ae81ff">80</span>);<span style="color:#75715e">//侦听端口，无返回值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;connetctint tu %s&#34;</span>,ssid);
</span></span><span style="display:flex;"><span>        WiFi.<span style="color:#a6e22e">begin</span>(ssid,pssd);  <span style="color:#75715e">//连接wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span>(WiFi.<span style="color:#a6e22e">status</span>()<span style="color:#f92672">!=</span>WL_CONNECTED)   <span style="color:#75715e">//等待连接wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected&#34;</span>);
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">begin</span>();      <span style="color:#75715e">//侦听服务器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;web server started,open %s in a web browser</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,WiFi.<span style="color:#a6e22e">localIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">prepareHtmlPage</span>()         <span style="color:#75715e">//返回网页浏览器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        String htmlPage<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;HTTP/1.1 200 OK</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>)<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Contect-Type:text/html</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Connerction:close</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>  <span style="color:#75715e">//连接关闭请求
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Refersh:5</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>      <span style="color:#75715e">//5秒刷新一次网页
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;!DOCTYPE HTML&gt;&#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;html&gt;&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;analog input:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">analogRead</span>(A0))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;/html&gt;&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> htmlPage;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        WiFiClient client <span style="color:#f92672">=</span> server.<span style="color:#a6e22e">available</span>();     <span style="color:#75715e">//检测是否有客户端存在
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(client)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[Client connected]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span>(client.<span style="color:#a6e22e">connected</span>())       <span style="color:#75715e">//判断客户端是否连接成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                String line <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">readStringUntil</span>(<span style="color:#e6db74">&#39;\r&#39;</span>);    <span style="color:#75715e">//每行读取到r结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">//等待服务器的应答
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span>(line.<span style="color:#a6e22e">length</span>()<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&amp;&amp;</span>line[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    client.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">prepareHtmlPage</span>());
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="tcpclient函数">TCPClient函数</h3>
<ol>
<li>
<p>相关函数介绍</p>
<hr>
<pre><code> connect()描述：
 连接到构造函数中指定的IP地址和端口。返回值指示成功或失败。使用域名( ex:google.com）时，connect()还支持DNS查找。
 句法:
 - client.connect(ip,port)
 - client.connect(URL,port)参数
 ip: 客户端将连接的ip地址（4个字节的数组)
 URL: 客户端将连接到的域名（字符串，例如: &quot;arduino.cc&quot;）
 Port: 客户端将连接到的端口（ int）
 返回值：如果连接成功，则返回 true;
                 否则，返回false
</code></pre>
<hr>
<hr>
<pre><code> print()描述：
 将数据打印到客户端连接到服务器。将数字打印为数字序列，每个数字为一个ASCI字符句法:
 client.print(data)
 client.print(data,BASE)参数
 data:要打印的数据（char,byte,int,long或string）
 BASE（可选）:打印数字的基数:DEC代表十进制（基数10），
                             OCT代表八进制（基数8），
                             HEX代表十六进制（基数16&gt;
</code></pre>
<hr>
</li>
<li>
<p><strong>客户端访问服务器流程</strong></p>
</li>
</ol>
<ul>
<li>连接到Wi-Fi</li>
<li>选择服务器</li>
<li>实例化客户端WiFiClient client;</li>
<li>把客户端连接到服务器</li>
<li>请求数据</li>
<li>读取来自服务器的回复
实现代码如下：</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;LW&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ping123456&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> host <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;www.baidu.com&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;connecting to %s &#34;</span>,ssid);
</span></span><span style="display:flex;"><span>        WiFi.<span style="color:#a6e22e">begin</span>(ssid,pssd);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(WiFi.<span style="color:#a6e22e">status</span>()<span style="color:#f92672">!=</span>WL_CONNECTED)       <span style="color:#75715e">//等待WIFI连接成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">/*  String host=&#34;&#34;; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        while(Serial.available()&gt;0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            host += (char)Serial.read();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            delay(2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//char host[30];
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//     for(int i=0;i&lt;30;i++)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//     {  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//          host[i]=&#39;\0&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      while(Serial.available()&gt;0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//    {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//        host += (char)Serial.read();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//        delay(2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        WiFiClient client;
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[connecting to %s ...&#34;</span>,host);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(client.<span style="color:#a6e22e">connect</span>(host,<span style="color:#ae81ff">80</span>))      <span style="color:#75715e">//连接服务器成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//访问google.cn的报头，采用GET方式，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[Sending a request]&#34;</span>);
</span></span><span style="display:flex;"><span>            client.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;GET/&#34;</span>)<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;HTTP/1.1</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;Host:&#34;</span><span style="color:#f92672">+</span>host<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;Connection: close</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>                            );
</span></span><span style="display:flex;"><span>                            
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[Response:]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span>(client.<span style="color:#a6e22e">connected</span>()<span style="color:#f92672">||</span>client.<span style="color:#a6e22e">available</span>())       <span style="color:#75715e">//等待如果客户端已经连接，并且有数据到来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>(client.<span style="color:#a6e22e">available</span>())
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        String line <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">readStringUntil</span>(<span style="color:#e6db74">&#39;\n&#39;</span>);    <span style="color:#75715e">//从缓存区读取服务器的数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        Serial.<span style="color:#a6e22e">println</span>(line);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                client.<span style="color:#a6e22e">stop</span>();              <span style="color:#75715e">//停止客户端
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[Disconnected]&#34;</span>);       
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connection failed !&#34;</span>);
</span></span><span style="display:flex;"><span>            client.<span style="color:#a6e22e">stop</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">5000</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="http协议简介">HTTP协议简介</h3>
<p>当使用浏览器(客户端)访问一个网页时,大致经过了以下三步:</p>
<ul>
<li>用户输入网址后,浏览器(客户端)会向服务器 <strong>发出HTTP请求</strong> ;</li>
<li>服务器收到请求后会返回HTML形式的文本以响应请求;</li>
<li>浏览器收到服务器返回的HTML文本后,将文本转换为网页显示出来。</li>
</ul>
<ol>
<li>
<p>HTTP请求
当客户端访问网页时,会先发起HTTP请求。HTTP请求由三部分组成,分别是 <strong>请求行</strong>、<strong>请求报头</strong> 和 <strong>请求正文</strong>。</p>
</li>
<li>
<p>HTTP响应
服务器在接收到HTTP请求消息后,会返回一个响应消息。HTTP响应也是由三个部分组成,分别是状态行、响应报头和响应正文。</p>
</li>
</ol>
<h2 id="udp协议">UDP协议</h2>
<p>用户数据报UDP有两个字段:数据字段和首部字段。首部字段很简单，只有8个字节(图5-5)，由四个字段组成，每个字段的长度都是两个字节。各字段意义如下:</p>
<p>(1)源端口
源端口号。在需要对方回信时选用。不需要时可用全0。
(2)目的端口
目的端口号。这在终点交付报文时必须使用。
(3）长度
UDP用户数据报的长度，其最小值是8（仅有首部)。
(4)检验和
检测UDP用户数据报在传输中是否有错。有错就丢弃。</p>
<p>程序流程：</p>
<ul>
<li>设置ESP8266工作在station模式（ WiFi.mode(WIFI_STA)) ;②将ESP8266接入到wIFI网络中WiFi.begin(SSID,PSSD);</li>
<li>实例化WiFiUDP对象指定端口，建立UDP连接，连接后自动开始侦听传入的数据包。
WiFiUDP Udp; Udp.begin(localUdpPort);</li>
<li>等待输入的UDP包处理收到的数据并回复。
<ul>
<li>Udp.parsePacket ( ) ;</li>
<li>Udp.read(incomingPacket,255);</li>
<li>Udp.beginPacket(Udp.remotelP(), Udp.remotePort());</li>
<li>Udp.write(replyPacket);</li>
<li>Udp.endPacket();</li>
</ul>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    1、设置ESP8266工作在station模式（WiFi.mode(WIFI_STA)）;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    2、将ESP8266接入到WIFI网络中WiFi.begin(SSID,PSSD);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    3、实例化WiFiUDP对象指定端口，建立UDP连接，连接后自动开始侦听传入的数据包。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    WiFiUDP Udp; Udp.begin(localUdpPort);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    4、等待输入的UDP包处理收到的数据并回复。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.parsePacket（）;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.read(incomingPacket, 255);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.beginPacket(Udp.remoteIP(), Udp.remotePort());
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.write(replyPacket);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.endPacket(); 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;WiFiUdp.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;iPhone&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;peng2020&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    WiFiUDP Udp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> localUdpPort <span style="color:#f92672">=</span> <span style="color:#ae81ff">4210</span>;  <span style="color:#75715e">// local port to listen on
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> incomingPacket[<span style="color:#ae81ff">255</span>];  <span style="color:#75715e">// buffer for incoming packets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span>  replyPacket[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hi there! Got the message :-)&#34;</span>;  <span style="color:#75715e">// a reply string to send back
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Connecting to %s &#34;</span>, ssid);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">mode</span>(WIFI_STA);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">begin</span>(ssid, password);            <span style="color:#75715e">//开始连接WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (WiFi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span> WL_CONNECTED)    <span style="color:#75715e">//等待连接
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34; connected&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Udp.<span style="color:#a6e22e">begin</span>(localUdpPort);      <span style="color:#75715e">//指定本地连接端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Now listening at IP %s, UDP port %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, WiFi.<span style="color:#a6e22e">localIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>(), localUdpPort);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> packetSize <span style="color:#f92672">=</span> Udp.<span style="color:#a6e22e">parsePacket</span>(); <span style="color:#75715e">//调用函数解析数据包
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (packetSize)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// receive incoming UDP packets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Received %d bytes from %s, port %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, packetSize, Udp.<span style="color:#a6e22e">remoteIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>(), Udp.<span style="color:#a6e22e">remotePort</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> len <span style="color:#f92672">=</span> Udp.<span style="color:#a6e22e">read</span>(incomingPacket, <span style="color:#ae81ff">255</span>);     <span style="color:#75715e">//从缓存区读取数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (len <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        incomingPacket[len] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;    <span style="color:#75715e">//给缓存区加结束符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;UDP packet contents: %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, incomingPacket);   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// send back a reply, to the IP address and port we got the packet from
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Udp.<span style="color:#a6e22e">beginPacket</span>(Udp.<span style="color:#a6e22e">remoteIP</span>(), Udp.<span style="color:#a6e22e">remotePort</span>());     <span style="color:#75715e">//指定远程连接地址和端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Udp.<span style="color:#a6e22e">write</span>(replyPacket);
</span></span><span style="display:flex;"><span>        Udp.<span style="color:#a6e22e">endPacket</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="http与mqtt协议对比">HTTP与MQTT协议对比</h2>
<p><a href="#R-image-078e2553e942bfa377574f5bfea9f812" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8723.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-078e2553e942bfa377574f5bfea9f812"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8723.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-38096109902fe5a6aea6ab35201f3aa9" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8724.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-38096109902fe5a6aea6ab35201f3aa9"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8724.png" alt=" " class="lightbox-image        " loading="lazy"></a>
不同于HTTP的标头采用文字描述，MQTT的标头探用数字编码，整个长度只占2位元组，等同两个字元，后面跟著讯息的主题(topic)和内容(payload)，实际格式如下:</p>
<p><a href="#R-image-3e0b301f01623e885d75c7fcd4db443d" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8725.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3e0b301f01623e885d75c7fcd4db443d"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8725.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-694b4f123edea5191aac229b65d881c4" class="lightbox-link"><img src="%e5%9b%be%e7%89%8726.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-694b4f123edea5191aac229b65d881c4"><img src="%e5%9b%be%e7%89%8726.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-86e5156ec1e4e66750f9fc43a9ed6f0d" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8727.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-86e5156ec1e4e66750f9fc43a9ed6f0d"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8727.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-96cabfef58757d0ef44768f6fcbc6879" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8728.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-96cabfef58757d0ef44768f6fcbc6879"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8728.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>QoS(品质)设定
QoS代表发布者与代理人，或者代理人与订阅者之间的传输品质。MQTT定义了0,1和2三个层级的品质设定（实际支援情况依伺服器软体而定，Mosquitto伺服器全都支援)∶0:最多传送一次(at most once)
1:至少传送一次(at least once)2:确实传送一次(exactly once)
用寄信来比喻，QoS0就像寄平信，不保证讯息会送达。</p>
<p>阿里云平台
物联网云平台：接收设备上报的数据、向设备下发数据、对数据进行转发/分析/计算/显示、管理设备&hellip;
<a href="#R-image-20a94a8ade61acacf0c1d1189a8e1845" class="lightbox-link"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8729.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-20a94a8ade61acacf0c1d1189a8e1845"><img src="./branch-bundle-1/4.esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8729.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;//安装esp8266arduino开发环境</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">static</span> WiFiClient espClient;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;AliyunIoTSDK.h&gt;//引入阿里云 IoT SDK</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//需要安装crypto库、PubSubClient库
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//设置产品和设备的信息，从阿里云设备信息里查看
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define PRODUCT_KEY     &#34;k0mzriwvgtZ&#34;</span><span style="color:#75715e">//替换自己的PRODUCT_KEY
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define DEVICE_NAME     &#34;LED2&#34;</span><span style="color:#75715e">//替换自己的DEVICE_NAME
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define DEVICE_SECRET   &#34;674c24074d05a31a672094c0d23dc07c&#34;</span><span style="color:#75715e">//替换自己的DEVICE_SECRET
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define REGION_ID       &#34;cn-shanghai&#34;</span><span style="color:#75715e">//默认cn-shanghai
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define WIFI_SSID       &#34;LW&#34;</span><span style="color:#75715e">//替换自己的WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define WIFI_PASSWD     &#34;ping123456&#34;</span><span style="color:#75715e">//替换自己的WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define PIN_LED   2      </span><span style="color:#75715e">//LED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> lastMsMain <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//pinMode(LED_BUILTIN, OUTPUT);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// digitalWrite(LED_BUILTIN, HIGH);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pinMode</span>(PIN_LED, OUTPUT);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, HIGH);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//连接到wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">wifiInit</span>(WIFI_SSID, WIFI_PASSWD);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//初始化 iot，需传入 wifi 的 client，和设备产品信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">begin</span>(espClient, PRODUCT_KEY, DEVICE_NAME, DEVICE_SECRET, REGION_ID);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//绑定一个设备属性回调，当远程修改此属性，会触发LED函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">bindData</span>(<span style="color:#e6db74">&#34;LED2&#34;</span>, LED);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">loop</span>();<span style="color:#75715e">//必要函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">millis</span>() <span style="color:#f92672">-</span> lastMsMain <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2000</span>)<span style="color:#75715e">//每2秒发送一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        lastMsMain <span style="color:#f92672">=</span> <span style="color:#a6e22e">millis</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//发送LED状态到云平台（高电平：1；低电平：0）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#34;LED2PIN&#34;</span>, <span style="color:#a6e22e">digitalRead</span>(PIN_LED));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//wifi 连接
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">wifiInit</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ssid, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>passphrase)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">mode</span>(WIFI_STA);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">begin</span>(ssid, passphrase);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (WiFi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span> WL_CONNECTED)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;WiFi not Connect&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Connected to AP&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//灯的属性修改的回调函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">LED</span>(JsonVariant L)<span style="color:#75715e">//固定格式，修改参数l
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> LED <span style="color:#f92672">=</span> L[<span style="color:#e6db74">&#34;LED2&#34;</span>];<span style="color:#75715e">//参数l，与标识符一致
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (LED <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, HIGH);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, LOW);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;收到的LED是：&#34;</span>); Serial.<span style="color:#a6e22e">println</span>(LED);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 5</div>
<h1 id="5cc2530_zigbee">5.CC2530_ZigBee</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/5.cc2530_zigbee/experiment2/">实验2 IO端口输出实验</a><p>实验2 IO端口输出实验 1、实验要求： 利用实验箱的基础板，实现八盏灯的点亮，下面是八盏灯的位置图： 在实际中我们可能没有实验箱，往往需要自己做一</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">5.CC2530_ZigBee 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%A1%AC%E4%BB%B6/">硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="实验2-io端口输出实验">实验2 IO端口输出实验</h1>

<h3 id="实验2-io端口输出实验">实验2 IO端口输出实验</h3>
<p><strong>1、实验要求：</strong>
利用实验箱的基础板，实现八盏灯的点亮，下面是八盏灯的位置图：
<a href="#R-image-2a0bdbfb3c8d4a7d203d696111ec032a" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%9F%BA%E7%A1%80%E6%9D%BF.JPG" alt="八盏灯" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2a0bdbfb3c8d4a7d203d696111ec032a"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%9F%BA%E7%A1%80%E6%9D%BF.JPG" alt="八盏灯" class="lightbox-image        " loading="lazy"></a>
在实际中我们可能没有实验箱，往往需要自己做一个八盏灯的板子，这个时候了解本次实验挤出实验板的八盏灯连接原理是很重要的，了解原理后你就可以自己做出自己的LED板子，并用<strong>cc2530</strong>控制它。</p>
<p><strong>2、LED灯驱动芯片</strong>
由于CC2530 单片机端口驱动能力有限，所以我们可以用<strong>ULN2003</strong>芯片做驱动，但使用uln2003需要使用到八个端口，为了不浪费端口，我们可以使用<strong>74HC595</strong>，该芯片只需要用到三个端口就可以控制八盏灯的亮灭，下面提供两块芯片的原理图：
<a href="#R-image-913aae9bbf3aac3b53aeeba44bfbe0de" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%8E%9F%E7%90%86%E5%9B%BE.JPG" alt="原理图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-913aae9bbf3aac3b53aeeba44bfbe0de"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E5%8E%9F%E7%90%86%E5%9B%BE.JPG" alt="原理图" class="lightbox-image        " loading="lazy"></a>
如果你想用<strong>ULN2003</strong>还请查看相关手册，此处对<strong>74HC595</strong>进行详细说明。
74HC595 是 8 位输出锁存移位寄存器，数据输入由三个引脚组合控制，分别是数据输入引脚 SER、数据输入控制引脚 SRCK 和数据输出锁存引脚 RCK
SER 引脚上的数据在 SRCK 引脚的上升沿信号保存到 QA 引脚，同时 QA 位上的数据移位到 QB位，QB 位的数据移位到 QC 位……，依次类推，所有数据向后串行移动一位，QH 位的数据被送到QH’位。所有位的数据在 RCK 引脚的上升沿信号被所存到输出端。
<a href="#R-image-2dbdde1c5b664286b3112391dfc2b47a" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/74hc595.jpg" alt="74HC595" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2dbdde1c5b664286b3112391dfc2b47a"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/74hc595.jpg" alt="74HC595" class="lightbox-image        " loading="lazy"></a>
一下是我的个人理解：
这里我们用输入数据<strong>1001 0101</strong>，使第1、3、5、8盏灯亮（假设高电平有效）为例解释说明，首先，实际上数据输入74HC595是串行输入，所以可以数据输入时是在打开SER端口后，按照从高位到低位依次输入数据<strong>1001 0101</strong>，如上图的下面所示；接着打开SRCK，先把最高位1输入数据寄存器低位b0，接着输入次高位的0,通过0把1挤到b1，以此类推；接着再打开RCK显示灯的亮灭。</p>
<p><strong>3、IO端口输出控制</strong>
要使用CC2530的IO端口，我们需要对<strong>PxDIR</strong>、<strong>PxSEL</strong>、<strong>Px</strong>进行设置，PxDIR用来控制端口的输入输出模式，<strong>1</strong>表示<strong>输出模式</strong>，SEL为<strong>0</strong>时，表示<strong>通用IO端口</strong>，详细参照下表：
<a href="#R-image-62973c3f79fa68fd242a5db21565cb05" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/IO%E8%A1%A8.png" alt="IO" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-62973c3f79fa68fd242a5db21565cb05"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/IO%E8%A1%A8.png" alt="IO" class="lightbox-image        " loading="lazy"></a>
而这里的x可以取0、1、2，其实就是端口P0、P1、P2的意思,在端口下设8个端口0~7，例如P0_1,但是端口2只有0~4可用;</p>
<p>下面是一个详细的例子：
当I/OP1_0~P1_7 各I/O端口输出高低电平时，设置方法如表 1.2所示：
<a href="#R-image-5d9989e2d6578e29ebd4f2275488ca3c" class="lightbox-link"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E4%BE%8B%E5%AD%90.jpg" alt="例子" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5d9989e2d6578e29ebd4f2275488ca3c"><img src="./branch-bundle-1/5.cc2530_zigbee/experiment2/%E4%BE%8B%E5%AD%90.jpg" alt="例子" class="lightbox-image        " loading="lazy"></a></p>
<p>了解以上知识后我们就可以写工程代码了。</p>
<p>
<div class="tab-panel" data-tab-group="432aa894fb1db592d789aed08f0a36f9">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="printfledhfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('432aa894fb1db592d789aed08f0a36f9','printfledhfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> PrintfLED.h</span>
    </button>
    <button
      data-tab-item="delayehfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('432aa894fb1db592d789aed08f0a36f9','delayehfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Delaye.h</span>
    </button>
    <button
      data-tab-item="initialhfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('432aa894fb1db592d789aed08f0a36f9','initialhfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Initial.h</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('432aa894fb1db592d789aed08f0a36f9','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="printfledhfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//led输出设置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;PrintfLED.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define SER  P1_0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define SRCK P1_2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define RCK P1_1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define LOW 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define HIGE 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printfLED</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> data,<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> byte){
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span> LOW;
</span></span><span style="display:flex;"><span>        RCK <span style="color:#f92672">=</span> LOW;
</span></span><span style="display:flex;"><span>        P1 <span style="color:#f92672">=</span> byte;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//定义参考位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> getbit <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x80</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(data <span style="color:#f92672">&amp;</span> getbit){
</span></span><span style="display:flex;"><span>        SER<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>        SER<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span> HIGE;
</span></span><span style="display:flex;"><span>        getbit <span style="color:#f92672">&gt;&gt;=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span>LOW;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        RCK <span style="color:#f92672">=</span> HIGE;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="delayehfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e"># include &#34;Delaye.h&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//延迟函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delaye</span>()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> i,j,k;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">200</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;k<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">255</span>;k<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                    ;
</span></span><span style="display:flex;"><span>        }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="initialhfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Initial.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//初始化函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">initial</span>(){
</span></span><span style="display:flex;"><span>    P1SEL <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x00</span>;
</span></span><span style="display:flex;"><span>    P1DIR <span style="color:#f92672">=</span> <span style="color:#ae81ff">0xFF</span>;
</span></span><span style="display:flex;"><span>    P1<span style="color:#f92672">=</span><span style="color:#ae81ff">0x00</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;ioCC2530.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Initial.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Delaye.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;PrintfLED.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define Byte5 0x80
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x01</span>,<span style="color:#ae81ff">0x02</span>,<span style="color:#ae81ff">0x04</span>,<span style="color:#ae81ff">0x08</span>,<span style="color:#ae81ff">0x10</span>,<span style="color:#ae81ff">0x20</span>,<span style="color:#ae81ff">0x40</span>,<span style="color:#ae81ff">0x80</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn1[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x01</span>,<span style="color:#ae81ff">0x03</span>,<span style="color:#ae81ff">0x07</span>,<span style="color:#ae81ff">0x0f</span>,<span style="color:#ae81ff">0x1f</span>,<span style="color:#ae81ff">0x3f</span>,<span style="color:#ae81ff">0x7f</span>,<span style="color:#ae81ff">0xff</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn2[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x81</span>,<span style="color:#ae81ff">0xc3</span>,<span style="color:#ae81ff">0xe7</span>,<span style="color:#ae81ff">0xff</span>,<span style="color:#ae81ff">0xe7</span>,<span style="color:#ae81ff">0xc3</span>,<span style="color:#ae81ff">0x81</span>,<span style="color:#ae81ff">0x00</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">initial</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//1.发光二极管的循环点亮
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        { 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printfLED</span>(<span style="color:#ae81ff">0x00</span>,Byte5);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delayed</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//2.流水灯正向流动随后反向流动
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        { 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn1[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span><span style="color:#f92672">&amp;</span> i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">--</span>){ 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn1[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//3.流水灯两端逐步点亮，然后从中间向两边逐步熄灭  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>){ 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn2[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
  </div>
</div>
在使用时请建好一个外设文件专门放Initial.c、Initial.c、Delaye.c，然后在这些问阿金中引用与他们名字一样的.h文件，当然.h文件你自己也要先写好。

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/c1-cc2530/">C1-CC2530</a></li>
    <li><a class="term-link" href="./categories/d1-%E7%82%B9%E7%81%AF%E5%AE%9E%E9%AA%8C/">D1-点灯实验</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 6</div>
<h1 id="6arduino">6.Arduino</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">物联网控制-小知识</a><p>物联网的特点 物联网是互联网的拓展和延伸，物联网设备通常为带传感器的电子硬件，并与网络相连接。 物联网的应用层是核心。 物联网的作用 全面感知：全面</p></li>
</ul>
<p><a href="#R-image-f8f7b66913f27a64d5647ec31cf378aa" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/abc.jpg" alt="mmm" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f8f7b66913f27a64d5647ec31cf378aa"><img src="./branch-bundle-1/6.arduino/abc.jpg" alt="mmm" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">6.Arduino 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">物联网工程</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网控制-小知识">物联网控制-小知识</h1>

<h2 id="物联网的特点">物联网的特点</h2>
<ol>
<li>物联网是互联网的拓展和延伸，物联网设备通常为带传感器的电子硬件，并与网络相连接。</li>
<li>物联网的应用层是核心。</li>
</ol>
<h2 id="物联网的作用">物联网的作用</h2>
<ol>
<li>全面感知：全面感知就是通过各种类型的传感器实时感知被测物理对象的状态。</li>
<li>可靠传递：可靠传递就是通过各种网络与互联网的融合，将物体的信息实时准确地传递出去。</li>
<li>智能计算：智能处理就是利用云计算、模糊识别等各种智能计算技术，对海量的数据和信息分析和处理，以实现对物体智能化控制。</li>
</ol>
<h2 id="物联网体系架构">物联网体系架构</h2>
<p><a href="#R-image-644902be90af6df2f2311b84984d3420" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%871.png" alt="d" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-644902be90af6df2f2311b84984d3420"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%871.png" alt="d" class="lightbox-image        " loading="lazy"></a></p>
<p>ISO七层参考模型
以及每一层的功能。</p>
<p>物理层：在物理媒体上传输原始的数据比特流。
数据链路层：将数据分成一个个数据帧，以数据帧为单位传输。有应有答，遇错重发。
网络层：将数据分成一定长度的分组，将分组穿过通信子网，从信源选择路径后传到信宿。
传输层：提供不具体网络的高效、经济、透明的端到端数据传输服务。
会话层：进程间的对话也称为会话，会话层管理不同主机上各进程间的对话。
表示层： 为应用层进程提供格式化的表示和转换数据服务。
应用层：提供应用程序访问OSI环境的手段。
<a href="#R-image-056aa0146db43c19be4fdabbc66858d7" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8718.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-056aa0146db43c19be4fdabbc66858d7"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8718.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="物联网的三层结构">物联网的三层结构</h2>
<p><a href="#R-image-77aba75a2fc1466528f6a443a5e6c4cb" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8713.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-77aba75a2fc1466528f6a443a5e6c4cb"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8713.png" alt=" " class="lightbox-image        " loading="lazy"></a>
“云”、“管”、“端”分别指：应用层、网络层、感知层。
物联网服务器的主要功能接收数据、处理数据、保存数据。
物联网硬件设备有感知和反馈的作用</p>
<ol start="4">
<li>可用于物联网短距离无线通信的技术主要有：</li>
</ol>
<ul>
<li>Zigbee；</li>
<li>RFID；</li>
<li>NFC ;</li>
<li>蓝牙。</li>
</ul>
<ol start="5">
<li>物联网近距离通信技术有：</li>
</ol>
<ul>
<li>蓝牙、</li>
<li>RFID、</li>
<li>ZigBee</li>
</ul>
<ol start="6">
<li>
<p>工业物联网设备的组网方式可分为RS-232；RS-485；USB。</p>
<ol>
<li><strong>RS-232</strong>：</li>
</ol>
<ul>
<li>RS-232是一种早期广泛应用于串行通信的标准，提供点对点的数据传输，通常用于短距离通信（约15米以内）。</li>
<li>信号电平范围较大（±15V左右），支持全双工通信，即数据可以在两个方向上同时传输。</li>
<li>在工业环境中，RS-232常用于配置设备、调试或连接单个设备到计算机或其他控制器。</li>
</ul>
<ol start="2">
<li><strong>RS-485</strong>：</li>
</ol>
<ul>
<li>RS-485基于差分信号传输，允许更长的传输距离（可达几千米），并且具有更好的抗噪声和电磁干扰能力。</li>
<li>它支持多点总线式网络架构，可以实现一个主设备与多个从设备之间的通信，因此特别适用于构建分布式控制系统或传感器网络。</li>
<li>RS-485采用半双工通信模式，在同一时间只能进行发送或接收操作，但通过软件协议控制可以实现在同一总线上多个节点有序通信。</li>
</ul>
<ol start="3">
<li><strong>USB（Universal Serial Bus）</strong>：</li>
</ol>
<ul>
<li>USB是一种通用串行总线标准，它提供高速数据传输，并且能够为设备供电，使得它在现代工业自动化和物联网应用中越来越普遍。</li>
<li>USB支持热插拔，使用方便，而且有多种速度版本（如USB 2.0, USB 3.0等），数据传输速率远高于RS-232和RS-485。</li>
<li>在工业环境中，USB接口可能用于快速配置设备、固件升级或者连接各种智能设备，但它不适合长距离传输，一般局限于设备间较近距离的直接连接。</li>
</ul>
</li>
<li>
<p>物联网<strong>M2M通信</strong>指的是机器与机器通信</p>
</li>
<li>
<p>蓝牙采用<strong>高速跳频(Frequency Hopping)<strong>和</strong>时分多址(Time Division Multiple Access，TDMA)<strong>等先进技术，支持</strong>点对点</strong>及<strong>点对多点通信</strong>。其传输频段为全球公共通用的2.4 GHz频段，能提供1 Mb/s的传输速率和10 m的传输距离，并采用<strong>时分双工传输</strong>方案实现全双工传输。</p>
</li>
<li>
<p>Android客户端在物联网体系中属于应用程序层。</p>
</li>
<li>
<p>人工智能属于物联网体系中的服务层。</p>
</li>
<li>
<p><strong>NFC</strong> 是一种非接触式的识别技术。</p>
</li>
</ol>
<h2 id="开关量与传感器">开关量与传感器</h2>
<ol>
<li>
<p><strong>开关量与数字信号</strong>
数字信号指的是0和1两种信号的变化。传感器可以只使用0和1来表示自己的状态变化，也就是“有信号”和“没信号”两种情况，类似我们生活中的开关装置。</p>
</li>
<li>
<p><strong>模拟信号抗噪算法</strong></p>
<p>2.1 <strong>算术平均算法</strong></p>
<p><strong>方法</strong>: 采样N个数据后进行平均</p>
<p><strong>优点</strong>: 算法简单、适合于一般带有不规则噪声的信号</p>
<p><strong>缺点</strong>: 用来运算的数值会越来越多，相对反应会越慢，不适用于实时性的控制，另外占用内存也多</p>
<p>2.2 <strong>移动平均算法</strong></p>
<p><strong>方法</strong>: 先将每一个新数据加入队列中并删除最后一个，再进行平均</p>
<p><strong>优点</strong>:算法简单、适用于有周期性干扰噪声的信号</p>
<p><strong>缺点</strong>:对于突然出现的异常脉冲信号的抑制较差，采样的数量过大时同样占用内存。</p>
</li>
<li>
<p>模数转换
把传感器获取的测量值用连续的电子信号表示出来，就是模拟信号。想用PC处理模拟信号，就需要进行模拟/数字(A/D）转换，把模拟信号转换成离散值，即数字信号。A/D转换操作分成以下3个步骤。</p>
</li>
</ol>
<ul>
<li>采样(sampling) =&gt;用某个频率来区分模拟输入信号，获取值</li>
<li>量化=&gt;把采样后的值近似表现为离散值</li>
<li>编码(coding)=&gt;把量化后的数值编码成二进制代码。如下图</li>
</ul>
<p><a href="#R-image-624b4a01cde546cd748b41982adbc863" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/12.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-624b4a01cde546cd748b41982adbc863"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/12.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="传感器知识点">传感器知识点</h2>
<p>在物联网节点之间做通信的时候，通信频率越高，意味着传输距离越近。</p>
<h3 id="传感器的性能指标">传感器的性能指标：</h3>
<ol>
<li>
<p>传感器动态特性：指传感器在输入变化时，它的输出特性，常以迁跃响应和频率响应来表示。</p>
</li>
<li>
<p>传感器的线性度：传感器的实际静态特性输出是条曲线而非直线。</p>
</li>
<li>
<p>传感器的灵敏度：传感器在静态工作情况下，输出变量变化y对输入变化量x的比值。</p>
</li>
<li>
<p>传感器的分辨率：指传感器能感受到的被测量的最小变化的能力，也就是说某一输入量缓慢变化，当输入未超过某一值时，输出不变，超过了就有变化，则可以说此时传感器能分辨出来，这就是传感器的分辨率。</p>
</li>
</ol>
<h3 id="传感器的组成与结构">传感器的组成与结构</h3>
<p>传感器一般由敏感元件、转换元件、基本转换电路组成。
<a href="#R-image-cb633a08c31a9d3b33e94bea56026ab2" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%872.png" alt="d" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cb633a08c31a9d3b33e94bea56026ab2"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%872.png" alt="d" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>敏感元件：直接感受被测量，并且输出与被测量成一定关系的某一物理量的元件；</li>
<li>转换元件：敏感元件的输出就是它的输入，把输入转换成电路参量；</li>
<li>转换电路：将转换电路的输出转换成电量输出；</li>
</ul>
<h3 id="传感器的静态特性">传感器的静态特性</h3>
<p>静态特性是指测试系统在静态信号下，输入与输出的关系；
衡量测试装置静态特性的重要指标：</p>
<ul>
<li>线性度(Linearity)</li>
<li>灵敏度(Sensitivity)</li>
<li>迟  滞(Hysteresis)</li>
<li>重复性(Repeatability)</li>
</ul>
<h3 id="常见的传感器">常见的传感器</h3>
<h4 id="光电式传感器光敏电阻传感器">光电式传感器（光敏电阻传感器）</h4>
<p>如果把光敏电阻连接到外电路中，在外电压的作用下，用光照射就能改变电路中电流的大小。
如下图为工作原理图
<a href="#R-image-33a811b3faf3e330da8f097fc2101874" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%873.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-33a811b3faf3e330da8f097fc2101874"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%873.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h4 id="光敏电阻的重要参数与基本特性">光敏电阻的重要参数与基本特性</h4>
<p><strong>暗电流、暗电阻与亮电流、亮电阻：</strong></p>
<p>光敏电阻在未受到光照时的电阻和流过的电流分别称之为暗电阻和暗电流，有光照时则对应称之为亮电流、亮电阻；</p>
<p><strong>光电流</strong>
亮电流与暗电流的差值；</p>
<h4 id="结露传感器">结露传感器</h4>
<ol>
<li>
<p>理想的干燥空气：78%氮气+21%氧气+1%其他气体</p>
</li>
<li>
<p>多尔顿分压定律：空气的压强P应该等于该混合物中各种气体分压之和,公示如下：
<a href="#R-image-e3f987ea240bde9c581495f499c93f63" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%874.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e3f987ea240bde9c581495f499c93f63"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%874.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
</li>
<li>
<p>什么是湿度？
空气中所含的水蒸气的量</p>
</li>
<li>
<p>湿度的表示方法：</p>
</li>
</ol>
<ul>
<li>绝对温度</li>
<li>相对温度</li>
<li>露点温度</li>
</ul>
<ol>
<li><strong>露点温度</strong>(露点)：在一定的空气压力下，逐渐降低空气的温度，当空气中所含水蒸气达到饱和状态，而开始结露或结霜时的温度。</li>
</ol>
<h4 id="震动传感器">震动传感器：</h4>
<p>震动三要素：振幅、频率、相位
以简谐运动为例：
x=A cos(wt+y)</p>
<h4 id="红外对管红外传感器">红外对管（红外传感器）</h4>
<p>红外对管中，黑色管子是红外发射传感器。</p>
<h4 id="智慧大棚中的常用传感器">智慧大棚中的常用传感器：</h4>
<p>（1）空气温湿度传感器
（2）光照传感器
（3）土壤湿度传感器
（4）风速传感器
（5）二氧化碳传感器
<a href="#R-image-35b2a38250026356ead30d168266a242" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8719.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-35b2a38250026356ead30d168266a242"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8719.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>数据分析的基础架构</p>
<p>首先把数据分析的基础架构分为 4 项来看，这 4 项分别是采集、积累、加工、分析。
<a href="#R-image-b80d15415f64fe2dfbbc3a7ebff086c3" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8720.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b80d15415f64fe2dfbbc3a7ebff086c3"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8720.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-09df6acafb1faf70b16361d88d2b3fbf" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8721.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-09df6acafb1faf70b16361d88d2b3fbf"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8721.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-7c27b7d2162cf9325dc8ef1c2cedd9a2" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8722.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7c27b7d2162cf9325dc8ef1c2cedd9a2"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8722.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol>
<li>高级分析的基础</li>
</ol>
<p>机器学习可以说是高级分析的典型代表。机器学习领域汇集了众多技术，这些技术用于让计算机基于大量数据来学习数据的倾向并作出某些判断。机器学习的算法可以根据输入的数据类型分为“监督学习”和“非监督学习”两种。</p>
<p>监督学习和非监督学习</p>
<ul>
<li>监督学习：当用机器学习的算法让计算机学习数据倾向时，算法会根据用于学习的数据中是否含有“正确答案”的数据而有所不同。
打个比方，假设现在要从传感器数据来判断分析设备的故障情况和建筑物的损坏情况等异常状况。如果采用监督学习的算法，就需要输入过去实际发生异常状况时的数据，即需要明确地输入“异常”的数据。说白了，算法要学习“正确答案”和“不正确答案”之间存在的差异。</li>
<li>非监督学习：监督学习则处理的是未标记的数据集，即数据集中没有预先定义的输出变量或目标变量。
非监督学习的目标在于发现数据内部的隐藏结构、模式、相似性或关联性，而不是预测特定的结果。非监督学习的主要主要任务有以下几种：
<a href="#R-image-e53c37f71a6303c510977e85ac1bd629" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8723.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e53c37f71a6303c510977e85ac1bd629"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8723.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h2 id="android-ide-介绍">Android IDE 介绍</h2>
<hr>
<ul>
<li>
<p>Android客户端在物联网体系中属于 <strong>应用程序层</strong> 。</p>
</li>
<li>
<p>Arduino是2005年被设计开发出来的，开发平台的特点有：
<strong>开放性、混合编程、容易拓展</strong>。</p>
</li>
<li>
<p><strong>Arduino开发环境</strong>是免费和开源的，开发语言为C/C++混合编程。</p>
</li>
<li>
<p>Arduino中下载程序到单片机需要先安装<strong>串口转USB的驱动程序。</strong></p>
</li>
</ul>
<hr>
<h3 id="arduino程序的架构大体可分为3个部分">Arduino程序的架构大体可分为3个部分</h3>
<p>（1）声明变量及接口的名称。</p>
<p>（2） <strong>setup</strong>()。
在Arduino程序运行时首先要调用setup()函数，用于初始化变量、设置针脚的输出/输入类型、配置串口、引入类库文件等等。每次Arduino上电或重启后，setup()<strong>函数只运行一次。</strong></p>
<p>（3） <strong>loop</strong>()。
在setup()函数中初始化和定义变量，然后执行loop()函数。顾名思义，该函数在程序运行过程中不断地循环，根据反馈，相应地改变执行情况。通过该函数动态控制Arduino主控板。</p>
<h3 id="arduino-ide编程并下载程序流程">Arduino IDE编程并下载程序流程</h3>
<p>在Arduino IDE编程并下载程序到开发板的过程，实际上是编译器将程序翻译为
机器语言（即二进制语言）的过程。计算机将二进制的指令传送到单片机程序闪存中，单片机识别指令后进行工作。下图是从编写好的程序到Arduno开发板运行程序的流程
<a href="#R-image-9bd5c4a65314eec4db972603d9ad03bb" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8711.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9bd5c4a65314eec4db972603d9ad03bb"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8711.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="arduino开发中">Arduino开发中</h3>
<hr>
<ol>
<li>数字管脚读取函数 <strong>digitalRead（）</strong> ；</li>
<li>模拟管脚读取函数 <strong>analogRead（）</strong> ；</li>
<li>串口调试函数为 <strong>Serial.println()</strong>，用于在串口打印内容</li>
<li><strong>延时函数——Delay()</strong> 延时的基本单位为ms,Delay(200)为延时200ms</li>
</ol>
<hr>
<p>Arduino UNO开发板提供6个模拟接口，模拟信号分辨率为10位（意味着ADC可以将输入的模拟电压分成2^10 = 1024个离散级别进行数字化），它能测到的最小电压为 <strong>5V/1024=0.0049V</strong> 。
<a href="#R-image-f0e37b3fa139a4b2184eb6009a299351" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8712.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f0e37b3fa139a4b2184eb6009a299351"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8712.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h4 id="arduino的物理管脚有analogdigitalvccgndvinres等">Arduino的物理管脚有Analog、Digital、VCC、GND、VIN、RES等</h4>
<ol>
<li>
<p><strong>Analog（模拟）管脚</strong>：</p>
<ul>
<li>Arduino Uno等开发板上有一组特定的引脚标记为A0、A1、A2&hellip;A5（或更多，取决于具体型号），它们是模拟输入引脚。</li>
<li>这些引脚可以接收连续变化的电压值（通常在0到5V之间），并将其转换成数字值（0-1023，对应于ADC即模数转换器的分辨率是10位）。</li>
<li>通过这些引脚，你可以读取来自传感器或其他模拟信号源的数据。</li>
</ul>
</li>
<li>
<p><strong>Digital（数字）管脚</strong>：</p>
<ul>
<li>数字管脚用于处理二进制信号，也就是高电平（通常对应5V或3.3V，取决于板子类型和所处的操作模式）和低电平（接地，即0V）。</li>
<li>它们既可以作为输入端口检测外部设备的高低电平状态，也可以作为输出端口驱动LED、继电器或其他数字器件。</li>
<li>部分数字管脚还支持PWM（脉宽调制）输出，这样就可以模拟出不同亮度级别的LED或者调整电机速度等。</li>
</ul>
</li>
<li>
<p><strong>VCC</strong>：</p>
<ul>
<li>VCC代表“电源正极”。</li>
</ul>
</li>
<li>
<p><strong>GND</strong>：</p>
<ul>
<li>GND代表“接地”。</li>
</ul>
</li>
<li>
<p><strong>VIN</strong>：</p>
<ul>
<li>VIN是外部电源输入端，允许用户接入高于5V的电源（比如9V或12V电池）。这个引脚的电压将被板载稳压器转换成稳定的5V供给VCC使用。当Arduino通过USB线供电时，VIN不是必需的，但如果需要更高功率或独立电源，则可以使用此引脚。</li>
</ul>
</li>
<li>
<p><strong>RES / RESET</strong>：</p>
<ul>
<li>RES或RESET是复位引脚，当此引脚被拉低（一般是短接到GND）时，Arduino板上的微控制器会执行复位操作，重启其程序执行从头开始。在一些情况下，可以通过外部电路控制复位信号来实现更高级的功能，例如硬复位或远程复位。</li>
</ul>
</li>
</ol>
<h4 id="soc系统芯片处理器的功能强于mcu处理器的功能">Soc（系统芯片）处理器的功能强于MCU处理器的功能</h4>
<p>SOC（System-on-a-Chip）处理器相较于MCU（Microcontroller Unit）处理器功能更强大的原因主要体现在以下几个方面：</p>
<ol>
<li>
<p><strong>集成度</strong>：</p>
<ul>
<li>SOC芯片高度集成了中央处理器（CPU）、图形处理器（GPU）、内存（RAM、ROM/Flash）、以及其他专用硬件加速器如DSP（数字信号处理器）、通信模块（如Wi-Fi、蓝牙、LTE等）、以及各种外设接口，形成一个一体化的复杂系统。而MCU虽然也在单一芯片上集成了CPU和一些内存资源及I/O接口，但集成度一般低于SOC。</li>
</ul>
</li>
<li>
<p><strong>性能与计算能力</strong>：</p>
<ul>
<li>SOC通常采用高性能的CPU内核架构，可以支持多核设计，运行速度更快，并且可能支持运行复杂的操作系统（如Linux、Android等），能够处理更多的并发任务和执行更为复杂的算法。</li>
<li>MCU往往采用针对低功耗和实时控制优化的精简指令集CPU，更适合于简单、快速响应的任务。</li>
</ul>
</li>
<li>
<p><strong>存储容量和扩展性</strong>：</p>
<ul>
<li>SOC具有更大的内存空间，包括程序存储器和数据存储器，支持更大数据量的处理和存储需求，同时也可以通过外部总线连接更多存储设备。</li>
<li>相比之下，MCU的内部存储器相对有限，虽然也能扩展外部存储，但在规模上通常不及SOC。</li>
</ul>
</li>
<li>
<p><strong>多媒体与通信能力</strong>：</p>
<ul>
<li>SOC普遍具备强大的多媒体处理能力，例如图像处理、音频编解码、视频编码等，还集成有高级网络和无线通信功能，以适应移动设备和物联网应用的需求。</li>
<li>MCU在这些方面的集成程度和性能则较低，除非专门设计用于某些特定领域，否则它们通常不包含这些复杂的功能模块。</li>
</ul>
</li>
<li>
<p><strong>能耗与散热管理</strong>：</p>
<ul>
<li>虽然SOC功能强大，但也面临着更高的能耗和散热挑战。不过，现代的SOC设计采用了先进的电源管理和低功耗技术来平衡性能与能效之间的关系。</li>
<li>MCU在设计之初就重点考虑了低功耗应用，适合电池供电或对能源敏感的应用场景。</li>
</ul>
</li>
</ol>
<h2 id="上课实验知识点">上课实验知识点</h2>
<h3 id="温湿度传感器">温湿度传感器</h3>
<p>温湿度传感器采用的是 <strong>单总线协议</strong> 。</p>
<ol>
<li>单总线传送数据定义以AM2302为例。</li>
</ol>
<p>SDA用于微处理器与AM2302之间的通讯和同步,采用单总线数据格式，一次传送40位数据，高位先出。</p>
<p><a href="#R-image-1e310c0b7c331d65e8cd709f9a841304" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%875.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1e310c0b7c331d65e8cd709f9a841304"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%875.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol start="2">
<li>通信格式</li>
</ol>
<p><a href="#R-image-e84191d27af479751450e42254d2ddf8" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%876.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e84191d27af479751450e42254d2ddf8"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%876.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>AM2302的湿度分辨率是16bit，高位在前。</p>
<ol start="3">
<li>主机和传感器之间可以通过如下几个步骤完成数据读取。</li>
</ol>
<p><strong>步骤一</strong>
传感器上电后 ，测试环境温湿度数据，并记录数据，此后传感器自动转入<strong>休眠状态</strong>。</p>
<p><strong>步骤二</strong>
微处理器的I/O设置为输出，同时输出低电平，且低电平保持时间不能<strong>小于80ous</strong>，典型值是<strong>拉低1Ms</strong>，然后微处理器的I/O设置为输入状态，释放总线，由于上拉电阻，微处理器的I/O如AM2302的SDA数据线也随之变高，等主机释放总线后，AM2302发送响应信号，即输出80us的低电平作为应答信号，紧接着输出80us的高电平通知外设准备接收数据，信号传输如图7所示
<a href="#R-image-ebddf69b627a7db9ab982c5d84fac82b" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%878.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ebddf69b627a7db9ab982c5d84fac82b"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%878.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<strong>步骤三</strong>
AM2302发送完响应后，随后由数据总线SDA连续串行输出40位数据，微处理器根据l/o电平的变化接收40位数据。</p>
<ul>
<li>位数据“o”的格式为:50微秒的低电平加26-28微秒的高电平;</li>
<li>位数据“1”的格式为: 50微秒的低电平加70微秒的高电平;</li>
<li>位数据“o”、位数据“1”格式信号如图8所示。
<a href="#R-image-fb4d084a2235f2278db23008e704d104" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%879.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fb4d084a2235f2278db23008e704d104"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%879.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">// REQUEST SAMPLE（发送请求，此阶段为激活温湿度传感器）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">pinMode</span>(DHT_PIN, OUTPUT);<span style="color:#75715e">//4号引脚设置输出模式，默认高电平输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(DHT_PIN, LOW);<span style="color:#75715e">//设置低电平输出，并延迟18ms
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">18</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(DHT_PIN, HIGH);<span style="color:#75715e">//设置高电平，并延迟40us
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">delayMicroseconds</span>(<span style="color:#ae81ff">40</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第二阶段：通知开发板，自己准备发数据。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pinMode</span>(DHT_PIN, INPUT);<span style="color:#75715e">//设置输入模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ACKNOWLEDGE or TIMEOUT（确认或超时）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;<span style="color:#75715e">//定义无符号整形
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> LOW)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;<span style="color:#75715e">//返回DHT_ERR_TIMEOUT = -1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> HIGH)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// READ OUTPUT - 40 BITS =&gt; 5 BYTES or TIMEOUT（读取输出- 40比特=&gt; 5字节或超时）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">40</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> LOW)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> t <span style="color:#f92672">=</span> <span style="color:#a6e22e">micros</span>();   <span style="color:#75715e">//函数返回Arduino板开始运行当前程序时的微秒（us）数。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> HIGH)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//  |=:按位或后赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> ((<span style="color:#a6e22e">micros</span>() <span style="color:#f92672">-</span> t) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">40</span>) bits[idx] <span style="color:#f92672">|=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> cnt);  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//上次读取的时间到现在读取的时间差大于40，那么bits[idx]  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//的1左移CNT位，假设传的第一个数据是1，即(micros() - t)&gt;40，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//那么把1左移cnt位后赋值给数组bits[]（刚开始的时候cnt=0,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//也就是1左移0位）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (cnt <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)   <span style="color:#75715e">// 高8位数据传完了没有呢？
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;    <span style="color:#75715e">// 传完了，那让cnt=7，即进行下一轮低八位的传输，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        idx<span style="color:#f92672">++</span>;      <span style="color:#75715e">// 数组加1，说明下一次存的数据放在了数组的下一位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> cnt<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sum <span style="color:#f92672">=</span> bits[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(bits[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">!=</span> sum) <span style="color:#66d9ef">return</span> DHT_ERR_CHECK;  <span style="color:#75715e">//校验位
</span></span></span></code></pre></div><h3 id="单总线读写流程">单总线读写流程</h3>
<ul>
<li>初始化</li>
<li>发命令</li>
<li>读取湿度和温度
流程图如下：</li>
</ul>
<p><a href="#R-image-ab015ef5af41a0a1f632c658ce566dfa" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8710.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ab015ef5af41a0a1f632c658ce566dfa"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8710.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="系统设计">系统设计</h2>
<h3 id="物联网系统的开发流程">物联网系统的开发流程：</h3>
<p>（1）系统规划阶段
（2）验证假设阶段
（3）系统开发阶段
（4）系统交付阶段
（5）维护应用阶段</p>
<p><a href="#R-image-7f08a68c729a194f2e462df2a9f81f72" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8717.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7f08a68c729a194f2e462df2a9f81f72"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8717.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="需求分析">需求分析</h3>
<p>首要步骤是获取用户需求。</p>
<h3 id="物联网详细设计">物联网详细设计</h3>
<p>有代码编写、流程图绘制、 软件测试等。</p>
<h3 id="物联网设备选型的主要流程">物联网设备选型的主要流程：</h3>
<pre><code>（1）处理器选型，选择合适的单片机或开发板。
（2）传感器选型，选择合适的数字或模拟传感器。
（3）中间件选型，选择合适的网络通信方式。
</code></pre>
<h3 id="物联网系统测试的主要流程">物联网系统测试的主要流程：</h3>
<pre><code>（1）进行软件测试，分静态测试和动态测试。
静态测试和动态测试是软件测试中的两种主要类型，它们在软件开发生命周期的不同阶段用来验证软件的质量和正确性。
（2）进行硬件测试和网络测试。
（3）进行系统集成测试。
</code></pre>
<p><strong>静态测试</strong>：
静态测试是指不执行程序代码的情况下进行的测试活动。它主要用于检查软件的非执行属性，主要包括：</p>
<ul>
<li>
<p><strong>文档审查</strong>：检查需求规格说明书、设计文档、用户手册等非代码类文档是否清晰、完整、一致以及符合标准。</p>
</li>
<li>
<p><strong>代码审查</strong>（包括桌面检查、走查和正式审查）：通过人工或自动化工具对源代码进行逐行分析，查找可能存在的错误、缺陷、不符合编码规范的地方，以及潜在的设计问题和结构弱点。</p>
</li>
<li>
<p><strong>静态分析</strong>：利用静态分析工具自动检测代码中的潜在错误，如未初始化的变量、死代码、数据流错误、复杂度过高函数等问题。</p>
</li>
</ul>
<p>静态测试的目标在于发现并修复在软件开发早期就能确定的问题，以减少后期动态测试时发现严重错误的可能性。</p>
<p><strong>动态测试</strong>：
动态测试则是在实际运行软件的过程中进行的测试，重点在于检查程序的实际执行效果，主要包括：</p>
<ul>
<li>
<p><strong>单元测试</strong>：针对单个模块或函数进行测试，确保其内部逻辑功能正常。</p>
</li>
<li>
<p><strong>集成测试</strong>：将各个模块组合在一起测试，验证接口间的交互及整体功能。</p>
</li>
<li>
<p><strong>系统测试</strong>：验证整个系统的功能、性能、安全性等方面是否满足预定要求。</p>
</li>
<li>
<p><strong>验收测试</strong>（包括用户验收测试）：根据业务需求验证软件能否在真实环境中正确工作。</p>
</li>
<li>
<p><strong>压力测试</strong>、<strong>负载测试</strong>和<strong>性能测试</strong>：检验软件在极限条件下的表现，例如处理大量并发请求的能力。</p>
</li>
</ul>
<p>动态测试通常使用黑盒测试、白盒测试和灰盒测试策略来构造测试用例，并通过实际运行程序得到结果与预期结果对比，从而发现并报告错误。</p>
<p>总之，静态测试关注的是不运行程序就可识别的问题，而动态测试则侧重于在实际运行条件下暴露软件行为中的缺陷。两者结合能够更全面地保证软件质量。</p>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<h2 id="串口通信">串口通信</h2>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<p>串行通信是指使用一条数据线,将数据一位一位地依次传输,每一位数据占据一个固定的时间长度</p>
<p>在进行串口通信时,两个串口设备间需要**发送端(TX)<strong>与</strong>接收端(RX)**交叉相连,并共用电源地(GND)。</p>
<ol>
<li>
<p><strong>串行通信的约定</strong>
串行通信中的这种约定包含两个方面，</p>
<ul>
<li>一方面是通信的速率要保持一致，</li>
<li>另一方面是字符的编码要一致。</li>
</ul>
</li>
<li>
<p><strong>波特率</strong>
通信速率是指单位时间内传输的信息量,可用比特率和波特率来表示。
<strong>比特率</strong> 是指每秒传输的二进制位数,用bps (bits)表示。
<strong>波特率</strong> 是指每秒传输的符号数,若每个符号所含的信息量为1比特,则波特率等于比特率。</p>
</li>
<li>
<p>串口工作原理</p>
</li>
</ol>
<p>在Arduino与其它器件通讯的过程中,数据传输实际上都是以数字信号(即电平高低变化)的形式进行的,串口通信也是如此.当使用Serial.print()函数输出数据时,Arduino的发送端会输出一连串的数字信号,称这些数字信号为数据帧.
例如,当时用Serial.print(&lsquo;A&rsquo;)语句发送数据时,实际发送的数据帧格式如下图所示:
<a href="#R-image-6c1f6338d0de1d57f8e1013568af90f5" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8714.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6c1f6338d0de1d57f8e1013568af90f5"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8714.png" alt=" " class="lightbox-image        " loading="lazy"></a>
Serial.begin()是Arduino开发平台串口初始化函数。
物联网设备跟云平台的通讯方法分为同步传输和异步传输</p>
<p>以光照度传感器为例，讲解串口通信模式。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> sensorPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> ledPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> lineFound <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(sensorPin, INPUT);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(ledPin, OUTPUT);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>lineFound <span style="color:#f92672">=</span> <span style="color:#a6e22e">digitalRead</span>(sensorPin);     
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(lineFound <span style="color:#f92672">==</span> HIGH) {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, HIGH);
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, LOW);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>流程如下：
<a href="#R-image-c3966f379a30bd4838b1ec14fc38bc9a" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8715.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c3966f379a30bd4838b1ec14fc38bc9a"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8715.png" alt=" " class="lightbox-image        " loading="lazy"></a>
串口例程：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> analogInPin <span style="color:#f92672">=</span> A0; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>  sensorValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>     Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>,<span style="color:#ae81ff">8</span>N1);              
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>     sensorValue <span style="color:#f92672">=</span> <span style="color:#a6e22e">analogRead</span>(analogInPin);     
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">250</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>（1）串口通信模式有：1）波特率为115200 （2）校验方式为无校验 (3)数据位为8位、停止位为1位
（2）串口通信流程图
<a href="#R-image-d75a2099657fd99fc0d623ed75f3fa35" class="lightbox-link"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8716.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d75a2099657fd99fc0d623ed75f3fa35"><img src="./branch-bundle-1/6.arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8716.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 7</div>
<h1 id="7物联网工程">7.物联网工程</h1>


<ul class="children children-li children-sort-">
	
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 8</div>
<h1 id="851单片机">8.51单片机</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/8.51%E5%8D%95%E7%89%87%E6%9C%BA/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</a><p>不知道keil5从哪个版本开始就不支持了晶振的设置操作，我在网上搜也得到不同的答案，所以从哪个版本开始限制这就不提了， 好在这样的改变并不会形</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">8.51单片机 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%8A%A5%E9%94%99%E4%B8%8E%E8%A7%A3%E5%86%B3/">报错与解决</a></li>
    <li><a class="term-link" href="./tags/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">代码烧录</a></li>
  </ul>
</div>
            </header>
<h1 id="pretueskiel5仿真软件配合使用时需要注意的地方">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</h1>

<p>不知道keil5从哪个版本开始就不支持了晶振的设置操作，我在网上搜也得到不同的答案，所以从哪个版本开始限制这就不提了，
好在这样的改变并不会形象我们使用keil5。最近在刚进阶学习stm32，用到了<a href="./layout/variables">pretues_8.11</a> 仿真软
件和<a href="./layout/variables">keil5</a>代码编辑器，自己把心中所得分享一下。</p>
<p><strong>别人编译编译成功的工程，我另外用<a href="./layout/variables">keil5</a>打开编译为什么会失败？</strong></p>
<p>假设你拿到的别人的工程所选芯片为<a href="./layout/variables">stm32f103VC</a>，那么你在另外的电脑打开<a href="./layout/variables">keil5</a>，在设置里选芯片也是<a href="./layout/variables">stm32f103VC</a>，如果选的芯片与工程最初选的型号不同，那编译可能会失败，接着在打勾生成.hex文件。</p>
<p><strong>pretues里没有找到<a href="./layout/variables">keil5</a>里选择的芯片，能用别的芯片代替吗？</strong></p>
<p>答案是可以的，但尽量使用版本更高的芯片，使之能向下兼容，在<a href="./layout/variables">keil5</a>如果选了<a href="./layout/variables">stm32f103VC</a>，而pretues仿真的芯片是<a href="./layout/variables">stm32f103C6</a>，那么你并不用担心芯片不对应而导致你仿真失败。</p>
<p><strong>在pretues导入.hex文件后直接开始仿真，为什么报了许多错误？</strong></p>
<p>可能原因：在选择好<a href="./layout/variables">.hex</a>文件后，还必须设置晶振频率，即12MHz，如果没置会导致仿真失败，另外你不用担心选择的.hex文件路径有中文，我测过即使导入文件路径有中文也可以正常运行。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/d1-51%E5%8D%95%E7%89%87%E6%9C%BA/">D1-51单片机</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 9</div>
<h1 id="9操作系统">9.操作系统</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">Linux期末复习</a><p>认识Linux 安装Linux 图形界面与命令行 文件管理与常用命令 文件/目录的打包和压缩 gzip压缩文件和gunzip、zcat压缩文件命令 一般</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">9.操作系统 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E7%A1%AC%E4%BB%B6/">软硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="linux期末复习">Linux期末复习</h1>

<h2 id="认识linux">认识Linux</h2>
<h3 id="安装linux">安装Linux</h3>
<h3 id="图形界面与命令行">图形界面与命令行</h3>
<h2 id="文件管理与常用命令">文件管理与常用命令</h2>
<h3 id="文件目录的打包和压缩">文件/目录的打包和压缩</h3>
<h4 id="gzip压缩文件和gunzipzcat压缩文件命令">gzip压缩文件和gunzip、zcat压缩文件命令</h4>
<p>一般压缩解压文件：

<div class="tab-panel" data-tab-group="17ff898a648798326ed1aa40d20c5b96">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('17ff898a648798326ed1aa40d20c5b96','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> gzip [文件名]
 gunzip [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div>
例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# gzip hello.txt
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt.gz
    [root@localhost stdio]# gunzip hello.txt.gz 
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# </code></pre></div><p>如果不想删除源文件要怎么做呢？使用如下命令：

<div class="tab-panel" data-tab-group="bab3131d47f82c4d04371b7d01fe382c">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: red ;" tabindex="-1"
      onclick="switchTab('bab3131d47f82c4d04371b7d01fe382c','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: red ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> gzip -c [文件名] &gt; [压缩文件名.gz]
 zcat [解压文件名.gz] &gt;[压缩文件名.gz]</code></pre></div></div>
    </div>
  </div>
</div>
例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# gzip -c hello.txt &gt;hello.txt.gz
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt  hello.txt.gz
    [root@localhost stdio]# zcat  hello.txt.gz &gt;he.txt
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt  hello.txt.gz  he.txt
[root@localhost stdio]# </code></pre></div><p>在上面的命令中，<strong>zcat [解压文件名.gz] &gt;[压缩文件名.gz]</strong> 与 <strong>gunzip -c [解压文件名.gz] &gt;[压缩文件名.gz]</strong> 作用一样，另外，zcat [文件名]会将文件压缩信息输出在窗口上，即输出在 <strong>std</strong>。</p>
<h4 id="bzip2压缩文件和bunzip2压缩文件命令">bzip2压缩文件和bunzip2压缩文件命令</h4>
<p>一般压缩解压文件：

<div class="tab-panel" data-tab-group="f24107aa14978d34bc3ae4a91b3e0aee">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('f24107aa14978d34bc3ae4a91b3e0aee','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    bzip2 [文件名]
    bunzip2 [解压文件名]
    //压缩解压后不会删除原文件
    bzip2 -k [文件名]
    bunzip2 -k [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div></p>
<p>例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt
[root@localhost stdio]# bzip2 hello.txt 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt.bz2
[root@localhost stdio]# bunzip2 hello.txt.bz2 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt

[root@localhost stdio]# bzip2 -k  hello.txt 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt  hello.txt.bz2
[root@localhost stdio]# rm hello.txt
rm：是否删除普通文件 &#34;hello.txt&#34;？y
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt.bz2
[root@localhost stdio]# bunzip2 -k hello.txt.bz2
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt  hello.txt.bz2
[root@localhost stdio]# </code></pre></div><h4 id="tar归档文件命令">tar归档文件命令</h4>

<div class="tab-panel" data-tab-group="4ffaf4ba4f01243e2b05631a15aa7eaf">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('4ffaf4ba4f01243e2b05631a15aa7eaf','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<p>在Linux系统中，tar 是一个非常重要的归档工具，用于将一组文件和目录打包到一个单一的.tar文件中。它创建的这种归档文件并不进行压缩，仅仅是将多个文件集合在一起，并保持原始文件的权限、所有权和其他元数据信息。</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    tar -cvf [文件名]
    tar -xvf [解压文件名]</code></pre></div><p>然而，为了减少存储空间占用以及在网络上传输时加快速度，通常会结合使用 tar 和压缩工具（如gzip或bzip2）对归档文件进行压缩。这里 -z 或 -j 参数的作用就是启用压缩功能</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    tar -czvf [文件名]
    tar -xzvf [解压文件名]

    tar -cjvf [文件名]
    tar -xjvf [解压文件名]</code></pre></div><p>如果要选择性的归档或压缩、解压某个文件或目录，那么需要加 <strong>w</strong>，如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-l" data-lang="l">    tar -cwzvf [文件名]
    tar -xwzvf [解压文件名]

    tar -cwjvf [文件名]
    tar -xwjvf [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div>
<p>在命令中;</p>
<ul>
<li>c（create）：表示创建新备份</li>
<li>z（gzip或gunzip）:表示使用gzip指令处理文件</li>
<li>v（verbose）：显示指令执行过程</li>
<li>f（file）:指定备份文件</li>
<li>w(interactive):对每一步都进行确认</li>
<li>j:表示使用bzip2、bunzip2指令进行压缩解压</li>
</ul>
<p>如果加选项 <strong>-C</strong> （directory），则说明转到指定的目录，命令如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost ~]# tar -cjvf stdio.tar stdio/
    stdio/
    stdio/1.c
    [root@localhost ~]# tar -xjvf stdio.tar -C  st/
    stdio/
    stdio/1.c
    [root@localhost ~]# cd st/
    [root@localhost st]# ls
    stdio
    [root@localhost st]# ls stdio/
    1.c
    [root@localhost st]# </code></pre></div><h2 id="用户与用户组管理">用户与用户组管理</h2>
<h3 id="用户与组文件">用户与组文件</h3>
<h4 id="用户文件-passwd">用户文件-passwd</h4>
<p>存放用户登录用户信息的文件位置：/etc/passwd
文件中域的的格式：</p>
<hr>
<p>username:passwd:uid:gid:userinfo:home:shell:</p>
<hr>
<p>例子：</p>
<hr>
<p>[root@localhost st]# tail -1 /etc/passwd
daliu:x:1008:1006::/home/daliu:/bin/bash</p>
<hr>
<p><strong>/etc/passwdw</strong> 文件中域的含义</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">username</td>
<td style="text-align:center">用户名</td>
</tr>
<tr>
<td style="text-align:center">password</td>
<td style="text-align:center">登录密码（一般显示的是密码转换后的乱码）</td>
</tr>
<tr>
<td style="text-align:center">uid</td>
<td style="text-align:center">用户ID（0-99一般为系统保留）</td>
</tr>
<tr>
<td style="text-align:center">gid</td>
<td style="text-align:center">用户组ID</td>
</tr>
<tr>
<td style="text-align:center">userinfo</td>
<td style="text-align:center">用户信息</td>
</tr>
<tr>
<td style="text-align:center">home</td>
<td style="text-align:center">分配该用户的主目录（但位置是人为决定的，自己可以修改）</td>
</tr>
<tr>
<td style="text-align:center">shell</td>
<td style="text-align:center">登录后启动的shell</td>
</tr>
</tbody>
</table>
<p>一般root用户的UID为0，UID一般是唯一的为的是区分不同的用户，但UID为0的除外，UID为0则说明为超级用户；</p>
<p>创建用户时，系统会分配一个主目录给用户一般在 <strong>home</strong> 目录下，例如用户user主目录为 <strong>/home/user</strong>。</p>
<h4 id="用户文件-shadow">用户文件-shadow</h4>
<p>Linux系统中的<code>/etc/shadow</code>文件是存放用户密码信息的重要安全文件，也称为“影子口令文件”。它的主要作用是存储用户的加密密码以及与密码相关的属性，以增强系统的安全性。</p>
<p>在早期的Unix/Linux系统中，密码是以明文或简单加密的形式存储在<code>/etc/passwd</code>文件中。为了提高系统的安全性，从1970年代末期开始引入了影子口令的概念，将密码字段从<code>/etc/passwd</code>移出，并存放在只有超级用户（root）可以读取的<code>/etc/shadow</code>文件中，而原来的 <strong>/etc/passwd</strong> 中的密码字段显示 <strong>x</strong> ,这就是上面的例子中显示x的原因。</p>
<p>通过这种方式，即使攻击者获取了<code>/etc/shadow</code>文件，由于密码已经被高度加密，直接破解难度大大增加，从而有效提高了系统的密码安全级别。同时，通过对密码策略的设定，还可以实现对用户密码复杂度和有效期的管理。</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">username</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">password</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">min</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">max</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">warm</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">inactive</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">expire</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">flag</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>下面就举个例子：</p>
<hr>
<p>[root@localhost st]# tail -1 /etc/passwd
daliu:x:1008:1006::/home/daliu:/bin/bash</p>
<p>[root@localhost st]# tail -1 /etc/shadow
daliu:$6$f703Izgm$gIA74I6Vyqdjstz3BazhvEUVWfSyelNuv7UKTUtB3cScauSctebqrBIr/KShHnBcWWQideao3aucMrXsO.I6Z/:19694:0:99999:7:::</p>
<hr>
<h4 id="用户组文件-group">用户组文件-group</h4>
<p>用户组一方面是为了查找用户时更方便，比如查找user用户，你不需要去passwd文件一行一行的查找，你只需要去group文件找到对应的用户组即可。</p>
<p>同样的，用户组也有类似passwd、shadow之和这样的文件，分别为group、gshadow.</p>
<p><strong>/etc/group</strong> 文件中域的含义如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">group_name</td>
<td style="text-align:center">组用户名</td>
</tr>
<tr>
<td style="text-align:center">group_password</td>
<td style="text-align:center">加密后的用户组口令</td>
</tr>
<tr>
<td style="text-align:center">group_id</td>
<td style="text-align:center">用户组ID</td>
</tr>
<tr>
<td style="text-align:center">group_members</td>
<td style="text-align:center">以逗号隔开的用户清单</td>
</tr>
</tbody>
</table>
<p><strong>/etc/gshadow</strong> 文件中域的含义如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">group_name</td>
<td style="text-align:center">组用户名</td>
</tr>
<tr>
<td style="text-align:center">group_password</td>
<td style="text-align:center">加密后的用户组口令</td>
</tr>
<tr>
<td style="text-align:center">group_members</td>
<td style="text-align:center">以逗号隔开的用户清单</td>
</tr>
</tbody>
</table>
<h4 id="检验用户与用户组文件之间是否正确">检验用户与用户组文件之间是否正确</h4>
<ul>
<li>检验 <strong>/etc/passwd</strong> 与 <strong>/etc/shadow</strong> 文件之间的正确性，使用命令 <strong>pwck</strong>,当发生错误，两个文件之间信息不对应时，系统会提示对相应项进行修改；</li>
<li>检验 <strong>/etc/group</strong> 与 <strong>/etc/gshadow</strong> 文件之间的正确性，使用命令 <strong>grpck</strong>,当发生错误，两个文件之间信息不对应时，系统会提示对相应项进行修改。</li>
</ul>
<h3 id="相关的命令操作">相关的命令操作</h3>
<p>1.添加用户与用户组———— <strong>useradd</strong> &amp; <strong>groupadd</strong></p>
<p>用法：</p>
<ul>
<li>useradd [选项] 登录</li>
<li>useradd -D</li>
<li>useradd -D [选项]</li>
</ul>
<p>值得注意的是，对于选项的-d、-md，加了m表示在/home目录创建用户目录，如果不加，表示该目录已存在不需要再使用m,详细请结合下面的展开内容来开。

<div class="expand">
    <input type="checkbox" id="R-expand-b6c037d36e7a1a9c762f7976ee0b792e" aria-controls="R-expandcontent-b6c037d36e7a1a9c762f7976ee0b792e" >
    <label class="expand-label" for="R-expand-b6c037d36e7a1a9c762f7976ee0b792e" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-b6c037d36e7a1a9c762f7976ee0b792e" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">选项：
  -b, --base-dir BASE_DIR	新账户的主目录的基目录
  -c, --comment COMMENT         新账户的 GECOS 字段
  -d, --home-dir HOME_DIR       新账户的主目录
  -D, --defaults		显示或更改默认的 useradd 配置
 -e, --expiredate EXPIRE_DATE  新账户的过期日期
  -f, --inactive INACTIVE       新账户的密码不活动期
  -g, --gid GROUP		新账户主组的名称或 ID
  -G, --groups GROUPS	新账户的附加组列表
  -h, --help                    显示此帮助信息并推出
  -k, --skel SKEL_DIR	使用此目录作为骨架目录
  -K, --key KEY=VALUE           不使用 /etc/login.defs 中的默认值
  -l, --no-log-init	不要将此用户添加到最近登录和登录失败数据库
  -m, --create-home	创建用户的主目录
  -M, --no-create-home		不创建用户的主目录
  -N, --no-user-group	不创建同名的组
  -o, --non-unique		允许使用重复的 UID 创建用户
  -p, --password PASSWORD		加密后的新账户密码
  -r, --system                  创建一个系统账户
  -R, --root CHROOT_DIR         chroot 到的目录
  -s, --shell SHELL		新账户的登录 shell
  -u, --uid UID			新账户的用户 ID
  -U, --user-group		创建与用户同名的组
  -Z, --selinux-user SEUSER		为 SELinux 用户映射使用指定 SEUSER
  </code></pre></div></div>
</div></p>
<p>用法： <strong>groupadd [选项] [组名]</strong> ，一般会用到的选项有</p>
<ul>
<li>-g: 用户设置组ID；</li>
<li>-o: 与-g配合使用，设置不唯一的组ID;</li>
<li>-n: 修改组的名字，如：gpasswd -n [新组名] [旧组名]</li>
</ul>
<p>2.删除用户与用户组———— <strong>userdel</strong> &amp; <strong>groupdel</strong></p>
<ul>
<li>userdel:一般用法就是在后面加要删除的用户，如果加选项-r则会删除主目录文件；</li>
<li>groupdel：在后面加要删除的用户组</li>
</ul>
<p>3.修改用户与用户组———— <strong>usermod</strong> 、<strong>passwd</strong> &amp; <strong>gpasswd</strong></p>
<ul>
<li>usermod： 一般就是对问文件中的域进行修改，会加加上选项-u、-g、-s等，最后还得指定用户，用法： <strong>usermod [选项] [用户名]</strong>。另外，<strong>-L（-U）</strong> 的作用是对用户的锁定（解锁）；</li>
<li>passwd：一般就是用来修改用户的密码，在登录的是root用户情况下passwd是要指定修改密码的用户的，而如果登录的是用户本身，使用passwd时就不用指定在；</li>
<li>gpasswd： 用法： <strong>gpasswd [选项] [组名]</strong> ，一般会用到的选项有
<ul>
<li>-a(添加组的用户)，</li>
<li>-d(删除组里的用户)，gpasswd -d [用户名] [组名]</li>
<li>-A(添加组的管理员).</li>
<li>-g(修改组GID),例如：gpasswd -g [新ID] [组名]</li>
</ul>
</li>
</ul>
<p>对于usermod的进一步说明，除了上面提到的选项，还有如下选项：</p>

<div class="expand">
    <input type="checkbox" id="R-expand-f1c472f7a5c192db88c7ecdaa784368d" aria-controls="R-expandcontent-f1c472f7a5c192db88c7ecdaa784368d" >
    <label class="expand-label" for="R-expand-f1c472f7a5c192db88c7ecdaa784368d" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-f1c472f7a5c192db88c7ecdaa784368d" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    选项：
  -c, --comment 注释            GECOS 字段的新值
  -d, --home HOME_DIR           用户的新主目录
  -e, --expiredate EXPIRE_DATE  设定帐户过期的日期为 EXPIRE_DATE
  -f, --inactive INACTIVE       过期 INACTIVE 天数后，设定密码为失效状态
  -g, --gid GROUP               强制使用 GROUP 为新主组
  -G, --groups GROUPS           新的附加组列表 GROUPS
  -a, --append GROUP            将用户追加至上边 -G 中提到的附加组中，
                                并不从其它组中删除此用户
  -h, --help                    显示此帮助信息并推出
  -l, --login LOGIN             新的登录名称
  -L, --lock                    锁定用户帐号
  -m, --move-home               将家目录内容移至新位置 (仅于 -d 一起使用)
  -o, --non-unique              允许使用重复的(非唯一的) UID
  -p, --password PASSWORD       将加密过的密码 (PASSWORD) 设为新密码
  -R, --root CHROOT_DIR         chroot 到的目录
  -s, --shell SHELL             该用户帐号的新登录 shell
  -u, --uid UID                 用户帐号的新 UID
  -U, --unlock                  解锁用户帐号
  -Z, --selinux-user  SEUSER       用户账户的新 SELinux 用户映射</code></pre></div></div>
</div>
<p>3.登录用户与用户组———— <strong>su</strong> <strong>newgrp</strong></p>
<p>root用户与普通用户之间的切换使用su,如果要切换根目录则需要在su 后加-，即： <strong>su - [用户]</strong>。</p>
<p>在Linux中，组的登录使用 newgrp ，即 <strong>newgrp [组名]</strong>。</p>
<p>下面通过一个例子加以理解：</p>
<p>添加一个用户名为15user，且该用户在用户组15group中，设置用户组和用户密码为123，创建一个用户15user2让该用户为用户组管理员,修改user的UID为2024，最后删除所用所建信息。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-93f3357e3411e498d57a088498810073" aria-controls="R-expandcontent-93f3357e3411e498d57a088498810073" >
    <label class="expand-label" for="R-expand-93f3357e3411e498d57a088498810073" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-93f3357e3411e498d57a088498810073" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">[root@localhost ~]# groupadd 15group
[root@localhost ~]# useradd -g 15group 15user
[root@localhost ~]# tail -1 /etc/passwd
15user:x:1001:1007::/home/15user:/bin/bash
[root@localhost ~]# tail -1 /etc/group
15group:x:1007:

[root@localhost ~]# gpasswd 15group
正在修改 15group 组的密码
新密码：
请重新输入新密码：
[root@localhost ~]# passwd 15user
更改用户 15user 的密码 。
新的 密码：
无效的密码： 密码少于 8 个字符
重新输入新的 密码：
passwd：所有的身份验证令牌已经成功更新。
[root@localhost ~]# useradd 15user2

[root@localhost ~]# gpasswd -A 15user2 15group
[root@localhost ~]# tail -2 /etc/group
15group:x:1007:
15user2:x:1002:
[root@localhost ~]# tail -2 /etc/gshadow
15group:$6$d4pzl/CPrp$3NYvX8gzE3DBm35BLqAE8aGzfUhrUZTSMGQfeRve2iUhrH1tZGR8I8t91gWzFD2GWFEDaaocO7XO85RjKDY.q1:15user2:
15user2:!::

[root@localhost ~]# usermod -u  2024 15user
[root@localhost ~]# tail -2 /etc/passwd
15user:x:2024:1007::/home/15user:/bin/bash
15user2:x:1002:1002::/home/15user2:/bin/bash

[root@localhost ~]# userdel 15user
[root@localhost ~]# groupdel 15group
[root@localhost ~]# userdel 15user2</code></pre></div></div>
</div>
<p>在上面的例子中，我们使用gpasswd -A来设置用户组管理员。</p>
<h2 id="文件目录和目录权限管理">文件目录和目录权限管理</h2>
<h3 id="文件访问权限与用户分类">文件访问权限与用户分类</h3>
<h4 id="文件的访问权限">文件的访问权限</h4>
<ul>
<li>读(r)：允许读文件的内容</li>
<li>写(w)：允许向文件中写入数据</li>
<li>执行(x)：允许将文件作为程序执行</li>
</ul>
<h4 id="目录的访问权限">目录的访问权限</h4>
<ul>
<li>读(r)：允许查看目录中有哪些文件和目录；</li>
<li>写(w)：允许该在目录下创建（或删除）文件、目录，修改文件名字或者目录名字</li>
<li>执行(x)：允许访问目录(用 cd 命令进入该目录，并查看目录中可读文件的内容)</li>
</ul>
<h4 id="用户分类">用户分类</h4>
<ul>
<li>文件所有者（owner）：建立文件、目录的用户。</li>
<li>同组用户(group)：属于同一组群的用户对属于该组群的文件有相同的访问权限。</li>
<li>其他用户(other)：除了文件所有者、同组用户的其他用户。</li>
</ul>
<p>我们先用ls -l 查看文件的权限信息：</p>
<p><a href="#R-image-ae7ba0f98ab7e7c04d846e3752323ac2" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu2.png" alt="tu2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ae7ba0f98ab7e7c04d846e3752323ac2"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu2.png" alt="tu2" class="lightbox-image        " loading="lazy"></a></p>
<p>在上面的开头有三段他们分别表示为文件所有者、同组用户、其他用户：</p>
<p><a href="#R-image-4d3b7f17c6c3e5aefd00d19c149b8e57" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu1.png" alt="tu1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4d3b7f17c6c3e5aefd00d19c149b8e57"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu1.png" alt="tu1" class="lightbox-image        " loading="lazy"></a></p>
<p>其中的d表示目录。</p>
<h3 id="权限修改">权限修改</h3>
<h4 id="访问权限的表示">访问权限的表示</h4>
<ul>
<li>（1）字母表示法（如：rwxr-xr-x）</li>
<li>（2）数字表示法 （如：755）
<a href="#R-image-6d9a6868a403ace33203e00c9bee63e7" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu3.png" alt="tu3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6d9a6868a403ace33203e00c9bee63e7"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu3.png" alt="tu3" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>使用数字进行文件权限的划分，其中r=4、w=2、x=1、-=0，这样rwx这组权限就是4+2+1=7，r-x这组权限就是5。</p>
<h4 id="修改权限的命令chmod">修改权限的命令：chmod</h4>
<ol>
<li>命令格式1：
chmod 
<span class="math align-center">$n{_1}n{_2}n{_3}$</span> &lt;文件|目录&gt;</li>
</ol>
<ul>
<li>功能：为指定文件或目录修改给定的数值访问权限。</li>
<li>选项：
<span class="math align-center">$n{_1}n{_2}n{_3}$</span>三位数字表示的文件访问权限。</li>
</ul>
<ol>
<li>命令格式2：
chmod [用户标识] [设定方法] [权限字符] &lt;文件名或目录名〉</li>
</ol>
<ul>
<li>功能：修改文件或目录的访问权限。</li>
<li>选项：
<ul>
<li>（1）用户标识：所有者（u）、同组（g）、其他人（o）、所有的人员（a）</li>
<li>（2）设定方法：+ 增加权限、- 删除权限、= 分配权限，同时删除旧的权限</li>
<li>（3）权限字符：r（读）、w（写）、x（执行）、u（和所有者的权限相同）、g（和所同组用户的权限相同）、o（和其他用户的权限相同）</li>
</ul>
</li>
</ul>
<h4 id="修改文件所有者的命令chown">修改文件所有者的命令：chown</h4>
<ul>
<li>格式：chown [-R] &lt;用户[：组]&gt; &lt;文件或目录&gt;</li>
<li>功能：更改属主和组。</li>
<li>选项：
-R：对目录及其子目录进行递归设置。</li>
</ul>
<p>例如：chown sjh：sjh result.txt</p>
<h4 id="修改文件所属组群的命令chgrp">修改文件所属组群的命令：chgrp</h4>
<p>格式：chgrp group file</p>
<p>其中group：组名或组代号</p>
<p>功能： 改变文件或目录组群</p>
<p>例如：chgrp user result.txt</p>
<p>关于chown与chgrp的命令的例子：</p>

<div class="expand">
    <input type="checkbox" id="R-expand-f6cd1e5e512281d5a4bd486b5c51ad1c" aria-controls="R-expandcontent-f6cd1e5e512281d5a4bd486b5c51ad1c" >
    <label class="expand-label" for="R-expand-f6cd1e5e512281d5a4bd486b5c51ad1c" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-f6cd1e5e512281d5a4bd486b5c51ad1c" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost ~]# chown user2:user2 /tmp/test/user1_2.txt
    [root@localhost ~]# ls -l /tmp/test/
    总用量 0
    -rw-rw-r--. 1 user2 user2 0 1月  15 19:40 user1_2.txt
    [root@localhost ~]# chgrp root /tmp/test/user1_2.txt
    [root@localhost ~]# ls -l /tmp/test/
    总用量 0
    -rw-rw-r--. 1 user2 root 0 1月  15 19:40 user1_2.txt
    [root@localhost ~]# </code></pre></div></div>
</div>
<h4 id="修改默认权限的命令umask">修改默认权限的命令：umask</h4>
<p>格式：umask [mask]</p>
<p>功能：设置文件或目录的默认权限</p>
<p>注意：系统默认屏蔽的权限为022（umask的默认值为0022），因此新
创建的目录权限就为777-022=755，用字符表示就是rwxr-xr-x，新创
建的普通文件权限为666-022=644，即rw&ndash;r&ndash;r&ndash;。</p>
<h4 id="文件隐藏属性">文件隐藏属性</h4>
<ul>
<li>
<p>1）查看文件隐藏属性：lsattr</p>
</li>
<li>
<p>2）修改文件隐藏属性：chattr</p>
</li>
<li>
<p>chattr [+-=] [ ai] 文件或目录名称</p>
<ul>
<li>a: 当设置a之后，这个文件将只能增加数据，而不能删除也不能修改数据，
必须要为root才能设置这个属性。</li>
<li>i：不能删除，不能修改，不能改名。必须要为root才能设置这个属性。</li>
</ul>
</li>
</ul>
<h3 id="文件特殊权限">文件特殊权限</h3>
<p>文件特殊权限有以下三种：</p>
<p>1）SUID：Set UID（只对二进制程序有效，对shell script无效）</p>
<p>例如：ll /usr/bin/passwd</p>
<p>注意：当用户执行passwd命令的时候，需要修改/etc/shadow文件，而该文件普通用户并没有任何权限。</p>
<p>2）SGID：Set GID</p>
<p>例如：ll /usr/bin/locate
注意：当用户执行locate命令的时候，需要读取/var/lib/mlocate/mlocate.db文件。</p>
<p>3）SBIT：Sticky Bit （只对目录有效）</p>
<p>设置方法：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    chmod -o+t [指定目录名]
    或者
    chmod 1777 [指定目录名]</code></pre></div><p>对一个目录进行如上设置以后，假设有用户A和B，用户A在该目录下创建的文件只有他自己的root用户可以删，像B这样的其他用户删不了。</p>
<p><a href="https://blog.csdn.net/weiling_shen/article/details/7577571" target="_blank">特殊文件说明文章链接</a></p>
<h2 id="软件包管理">软件包管理</h2>
<p>接下里介绍两个软件安装的工具，分别是RPM：Red Hat Package Manager（Red Hat软件包管，以及YUM:Yellow dog Dpdater,Modified.</p>
<p>RPM工具不需要网络，需要提前准备好安装包，但是他也有缺点安装的时候如果缺少依赖包你还需要再安装依赖包；</p>
<p>而YUM工具需要再有网的状态下才可以下载，它免去了依赖包提醒，自动将依赖包下载好，较为方便，我跟推荐使用YUM。</p>
<h3 id="rpm工具的使用">RPM工具的使用</h3>
<p>1．安装软件包（install）</p>
<p><strong>rpm -ivh rpm软件包全名</strong>：</p>
<ul>
<li>i：安装一个新的软件包</li>
<li>v：显示详细信息</li>
<li>h：显示安装进度条理工具</li>
</ul>
<p>2．查询已安装的软件包（query）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">rpm –qa //查询出本机所有已经安装的软件
rpm –q httpd //查询httpd软件包是否已经安装
rpm -q【i l c d R】 vsftpd
rpm -qf /etc/inittab
查询未安装的软件包：
rpm -qp 【i l c d R】 gconf-editor-2.28.0-3.el6.i686.rpm</code></pre></div><p>3．升级与更新（upgrade/freshen）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">rpm -Uvh 软件包名称
//原来没有安装过的，直接安装；如果已安装过，则更新至新版
rpm -Fvh 软件包名称
//原来没有安装过的，不安装；如果已安装过，则更新至新版</code></pre></div><p>4．卸载RPM包（erase）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> rpm -e vsftpd
 注意：卸载时只需要给出软件包名称vsftpd，而不需要给出软件包的全部名称信息vsftpd-2.2.2-6.el6.i686.rpm。</code></pre></div><h3 id="yum工具的使用">YUM工具的使用</h3>
<p><strong>yum在线升级机制：</strong></p>
<ul>
<li>安装软件 yum install gcc</li>
<li>删除软件 yum remove gcc</li>
<li>查询软件 yum search gcc</li>
</ul>
<p><strong>软件包管理：</strong></p>
<ul>
<li>举例一：搜寻与磁盘阵列(raid)相关的软件有哪些？
[root@www ~]# yum search raid</li>
<li>举例二：找出mdadm这个软件的功能为何？
[root@www ~]# yum info mdadm</li>
<li>举例三：列出yum 服务器上面提供的所有软件名称。
[root@www ~]# yum list</li>
<li>举例四：列出目前服务器上可供本机进行升级的软件有哪些？
[root@www ~]# yum list updates</li>
<li>举例五：列出提供passwd这个文件的软件有哪些？
[root@www ~]# yum provides passwd</li>
</ul>
<p><strong>yum的软件组功能：</strong></p>
<ul>
<li>查询软件组：yum grouplist（查阅目前容器与本机上面的可用与安装过
的软件群组有哪些？）</li>
</ul>
<p>yum groupinfo Eclipse（查询Eclipse软件组的相关信息）</p>
<ul>
<li>安装软件组： yum groupinstall Eclipse</li>
<li>删除软件组： yum groupremove Eclipse</li>
</ul>
<h2 id="硬盘分区及格式化">硬盘分区及格式化</h2>
<h3 id="硬盘分区介绍">硬盘分区介绍</h3>
<ul>
<li>硬盘的分区分为主磁盘分区和扩展磁盘分区。</li>
<li>一个硬盘最多可以划分为 <strong>4</strong> 个主磁盘分区，这时不能再创建扩展分区。</li>
<li>一个硬盘中最多只能创建 <strong>1个扩展分区</strong> ，扩展分区不能直接使用，必须在扩展分区中再划分出逻辑分区才可以使用。</li>
<li>逻辑分区是从5开始的，每多1个分区，数字加1就可以。</li>
</ul>
<h4 id="硬盘标识">硬盘标识</h4>
<p>（1）IDE硬盘：hd[a-d]*</p>
<p>hd表示硬盘类型为IDE，中括号中的字母为a、b、c、d中的一个，a是基本盘，b是从盘，是辅助主盘，d是辅助从盘，*指分区，即主分区和扩展分区。</p>
<p>例如：hda1代表第一块IDE硬盘上的第一个分区。hdb5代表第二块IDE硬盘的第一个逻辑分区。</p>
<p>（2）SCSI/SATA硬盘：sd[a-p]*</p>
<p>sd表示SCSI/SATA硬盘。SCSI/SATA的引导盘使用设备文件/dev/sda1、/dev/sda2、/dev/sda3、/dev/sda4作为主分区或者扩展分区，而以/dev/sda5，/dev/sda6等作为逻辑分区。</p>
<h3 id="创建硬盘分区">创建硬盘分区</h3>
<p>先使用ls -l /dev |grep &lsquo;sd&rsquo;查看文件里是否有可用的磁盘，如果没有需要创建一个磁盘，创建步骤：</p>
<p>1．通过虚拟机设置增加一块SCSI硬盘，大小为5G，重启系统。

<div class="expand">
    <input type="checkbox" id="R-expand-f3c44492d75f3aa8b2fb62c1245675f8" aria-controls="R-expandcontent-f3c44492d75f3aa8b2fb62c1245675f8" >
    <label class="expand-label" for="R-expand-f3c44492d75f3aa8b2fb62c1245675f8" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-f3c44492d75f3aa8b2fb62c1245675f8" class="expand-content">

<p><a href="#R-image-7848410fd658ed9a40600be378d077b5" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7848410fd658ed9a40600be378d077b5"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>按照下图点击下一步</p>
<p><a href="#R-image-7dc24cb5a92a744f66309ed808d271d4" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7dc24cb5a92a744f66309ed808d271d4"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-cc5103720db23ff7d46ca1e4b92975f9" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cc5103720db23ff7d46ca1e4b92975f9"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>根据实际情况输入所需硬盘大小，这里输入5GB</p>
<p><a href="#R-image-9c6b35d0f330d94d52582b095cbb39bc" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9c6b35d0f330d94d52582b095cbb39bc"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>然后点击完成</p>
<p><a href="#R-image-8c132ecb36a1534ffdd25dbb3b1cde63" class="lightbox-link"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8c132ecb36a1534ffdd25dbb3b1cde63"><img src="./branch-bundle-1/9.%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>最后在命令窗口输入reboot重启。</p>
</div>
</div></p>
<p>2．将该硬盘分为2个主分区（每个主分区的大小为1G），1个扩展分区（大小为3G），将第2个主分区制作成swap分区。</p>
<p>命令：

<div class="expand">
    <input type="checkbox" id="R-expand-1b3e598da07dc278dd4a757fb926b029" aria-controls="R-expandcontent-1b3e598da07dc278dd4a757fb926b029" >
    <label class="expand-label" for="R-expand-1b3e598da07dc278dd4a757fb926b029" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-1b3e598da07dc278dd4a757fb926b029" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>    <span style="color:#f92672">//</span>先用命令查看sd,sd表示SCSI<span style="color:#f92672">/</span>SATA硬盘<span style="color:#960050;background-color:#1e0010">，</span>
</span></span><span style="display:flex;"><span>    ls <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>sd <span style="color:#f92672">|</span>grep sd
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>硬盘分区
</span></span><span style="display:flex;"><span>    fdisk  <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>sdb
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>使用m查看帮助命令<span style="color:#960050;background-color:#1e0010">，</span>n为新建命令<span style="color:#960050;background-color:#1e0010">，</span>d为删除命令<span style="color:#960050;background-color:#1e0010">，</span>w为写入命令<span style="color:#960050;background-color:#1e0010">，</span>每次配完都要写入才有效<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    p  <span style="color:#f92672">//</span>这是新建主分区的意思
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>接着指定分区起始位置<span style="color:#960050;background-color:#1e0010">，</span>一般我们默认<span style="color:#960050;background-color:#1e0010">，</span>所以回车就可以
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>然后就是指定分区的大小<span style="color:#960050;background-color:#1e0010">，</span>这里我设置1G<span style="color:#960050;background-color:#1e0010">、</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>可以用p命令查看设置的情况
</span></span><span style="display:flex;"><span>    P
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>按照上面的流程进行其他的设置<span style="color:#960050;background-color:#1e0010">，</span>一下给出步骤命令
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    p
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    e
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>G</span></span></code></pre></div></div>
</div>
3．将扩展分区划出2个逻辑分区（大小分别为1G、2G）。</p>
<p>命令：

<div class="expand">
    <input type="checkbox" id="R-expand-e7b2588671e4b387826226a7676c05b5" aria-controls="R-expandcontent-e7b2588671e4b387826226a7676c05b5" >
    <label class="expand-label" for="R-expand-e7b2588671e4b387826226a7676c05b5" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-e7b2588671e4b387826226a7676c05b5" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">//</span>到这步后我们可以给扩展分区分配逻辑分区<span style="color:#960050;background-color:#1e0010">，</span>分配时逻辑分区用l命令<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    l
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    l
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>G</span></span></code></pre></div></div>
</div></p>
<h3 id="查看磁盘情况与磁盘格式化">查看磁盘情况与磁盘格式化</h3>
<ul>
<li>（1）查看系统中的新硬盘：<strong><code>ls /dev/sd*</code></strong></li>
<li>（2）查看分区：<code>fdisk –l /dev/sda</code></li>
<li>（3）创建主分区：<strong><code>fdisk /dev/sdc</code></strong></li>
<li>（4）创建扩展分区：输入n,再输入e</li>
<li>（5）创建逻辑分区: 输入n,再输入l</li>
<li>（6）修改分区类型</li>
<li>（7）格式化分区：
<ul>
<li><strong><code>mkfs –t ext4 /dev/sdc1</code></strong> 还可以写成**<code>mkfs.ext4 /dev/sdc1</code>**</li>
<li>格式化交换分区略有不同，使用命令 <strong>mkswap</strong> ,例如： <code>mkswap dev/sdb2</code></li>
</ul>
</li>
<li>（8）磁盘检查命令：<code>fsck –t ext4 /dev/sdc1</code>
<ul>
<li><code>badblocks /dev/sdb5</code></li>
</ul>
</li>
<li>（9）查看磁盘使用情况 <code>df</code>,或使用<code>df -h</code>输出更易于查看。</li>
</ul>
<p>上面的-t意思是参数TYPE的意思，后面接ext4()、vfat(FAT32)、ntfs()等，</p>
<h3 id="挂载文件系统mount">挂载文件系统：mount</h3>
<ul>
<li>1、 <strong>挂载硬盘分区：</strong>
<ul>
<li>步骤1：mkdir /usr/music</li>
<li>步骤2：mount /dev/sdc5 /usr/music</li>
</ul>
</li>
<li>2、 <strong>挂载光驱：</strong>
<ul>
<li>步骤1：mkdir /mnt/cdrom</li>
<li>步骤2：mount /dev/cdrom /mnt/cdrom</li>
</ul>
</li>
<li>3、 <strong>挂载U盘：</strong>
<ul>
<li>步骤1：mkdir /mnt/usb</li>
<li>步骤2：mount /dev/sdd1 /mnt/usb</li>
</ul>
</li>
<li>4、 <strong>挂载Windows下的C盘</strong> （FAT32格式）：
<ul>
<li>步骤1：mkdir /mnt/dosc</li>
<li>步骤2：mount -t vfat /dev/sda1 /mnt/dos</li>
</ul>
</li>
</ul>
<p><strong>注意：</strong> C盘必须已经被格式化为FAT32格式。</p>
<h3 id="显示系统内所有已经挂载的文件系统">显示系统内所有已经挂载的文件系统</h3>
<p><strong>mount</strong>
不带任何参数执行mount命令，则会显示当前系统中已经挂载的所有的文件系统列表。</p>
<h3 id="卸载设备umount">卸载设备：umount</h3>
<p>格式： umount &lt;设备名或挂载点&gt;</p>
<p>说明：卸载指定的设备，既可以使用设备名也可以使用挂载点。</p>
<p>举例： # umount /dev/cdrom</p>
<h3 id="自动挂载文件系统etcfstab">自动挂载文件系统：/etc/fstab</h3>
<p>每条记录由6个字段组成。</p>
<p>1.设备名称
2.设备挂载点
3.文件系统类型
4.挂载选项
5.是否备份
6.自检顺序</p>
<p>如果想要系统自动挂载/dev/sdc5分区，可在<code>/etc/fstab</code>文件添加下面这行：</p>
<p><code>/dev/sdc5 /usr/music ext4 defaults 0 0</code></p>
<p><strong>注意</strong>:由于fstab文件非常重要，如果这个文件有错误，就可能会造成系统不能正常启动。因此向fstab文件中添加数据时应非常小心。修改完该文件后务必使用<code>mount -a</code>命令测试有没有错误。</p>
<h3 id="磁盘配额">磁盘配额</h3>
<p>以sdb1为例</p>
<p>第一步：先配置sdb磁盘，然后挂载sdb1磁盘</p>
<p>第二步：使用quotaon /sdb1/生成aquota.group和aquota.user文件</p>
<p>第三步：对用户或用户组进行磁盘限制,例如：edquota -u user1，然后会进入一个文件，文件里的0表示禁用，在里面可以设置创建文件个数或文件大小的软限制、硬限制；</p>
<p>第四步：我们登录user1，在/sdb/目录下创建文件，使用 <code>db if=/dev/zero of=/sdb1/test/ bs=1k count=10</code>这条命令进行测试，这是一个写文件大小的命令，这样可以快速测试文件大小的软限制和硬限制；</p>
<p>第五步：子里面建文件，检验创建文件个数的软限制和硬限制；</p>
<p>第六步: 可以使用repquota -u查看目录的情况；</p>
<p>第七步：关闭磁盘匹配额，quotatoff /sdb1/</p>
<h2 id="linux编程">Linux编程</h2>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 10</div>
<h1 id="10微信小程序">10.微信小程序</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/10.%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a><p>附件</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">10.微信小程序 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%BE%AE%E4%BF%A1/">微信</a></li>
  </ul>
</div>
            </header>
<h1 id="基础知识">基础知识</h1>


<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b4-%E6%8B%93%E5%B1%95%E7%AC%94%E8%AE%B0/">B4-拓展笔记</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 11</div>
<h1 id="11哲学">11.哲学</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BF%83%E7%BB%8F/">心经</a><p>波若波多密的意思 波若：彼岸 波多：抵达（渡） 意思是抵达彼岸 波若波多密的方法 布施 财布施：用钱去帮助亲人或他人 法布施：如教师的职业，教授别人知识 无</p></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%AF%AD%E8%A8%80%E6%98%AF%E6%B2%A1%E6%9C%89%E8%BE%B9%E7%95%8C%E7%9A%84/">思想的边界</a><p>序言 我前几天看见篇文章说现在的一些科学是建立几句假设之上的，这几句假设就像悬空寺下的几个柱子，撑起了几百年的悬空寺，甚至在以后更长的时间里起</p></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E5%BA%84%E5%AD%90%E4%B9%8B%E9%81%93/">庄子之道</a><p>今天通过王德峰老师的视频课来进一步的了解《庄子》的哲学之道，推荐看曹楚基注释的《庄子》。 行无为而知避害，避害就是避开人为，像自然灾害不在道家</p></li>
<li><a href="./branch-bundle-1/11.%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a><p>一 从前的一切唯物主义（包括费尔巴哈的唯物主义）的主要缺点是：对对象、现实、感性，只是从客体的或者直观的形式去理解，而不是把它们当作感性的人的</p></li>
</ul>
<p>在我个人看来中国的哲学重在修心，探讨入世出世，为人处世的哲学问题，而相比于西方的哲学，我觉得中国的哲学更贴近与生活，人的内心变化影响着人的生活，西方哲学注重探讨自然界的规律。所以我有时也很能理解为什么科技革命发生在西方，而不是我们中国，西方哲学下的社会似乎总能带来一些新东西，有时候会让你感觉到它带来了不属于这个世界的新事物，最典型的就是科技的发展带来的一些新事物。但这样的看法看待中国哲学和西方哲学还是太片面了，在哲学的大集合里，哲学主要还是为人服务的“ <strong>工具</strong> ”，哪个顺手我就用哪一个，哪个能帮我与事物更好的打交道，我就用哪个。</p>
<p>学哲学是为了了解自己，看透世界，这就是当下我觉得学哲学的意义。</p>
<p>学中国的哲学不是为了出家，不是为了攀登看破红尘的高山。如果你不是很富有，家境也不怎么样，我劝你打消这个念头，父母辛苦把你养大，你跑去山里去修道？国家现在还没有富起来，你不投身于社会为祖国做贡献，幻想着修自己心中所谓的道？你能安心吗？我想学完中国哲学的人不应该是有这样的想法，而是有与社会权力打交道的巧招妙招，有为家为国做贡献的决心，有好好活下去的勇气。</p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">11.哲学 的子部分</h1>
          <article class="default">
            <header class="headline">
            </header>
<h1 id="心经">心经</h1>

<h2 id="波若波多密的意思">波若波多密的意思</h2>
<p>波若：彼岸
波多：抵达（渡）</p>
<p>意思是抵达彼岸</p>
<h2 id="波若波多密的方法">波若波多密的方法</h2>
<h3 id="布施">布施</h3>
<ul>
<li>财布施：用钱去帮助亲人或他人</li>
<li>法布施：如教师的职业，教授别人知识</li>
<li>无畏布施：例如医生的职业。救死扶伤；还有士兵。</li>
</ul>
<h3 id="持戒">持戒</h3>
<ul>
<li>律仪戒：</li>
<li>摄善法戒：行善戒。用权利与义务可以更好理解这个意思，权利告诉我们不可以做什么，做了就是侵犯别人的权利，义务就是告诉我们我们必须做什么。但也不要把这个意思理解死。</li>
<li>饶益有情戒：发现别人需要帮助并在自己力所能及的范围内去帮助别人。多方式帮助人或动物。</li>
</ul>
<h3 id="安忍">安忍</h3>
<ul>
<li>耐怨害忍：受到别人的伤害，诋毁等时要能忍。（这也是一种修行）需要辩证看待这件事</li>
<li>安受苦忍：人生是痛苦的，要能忍耐（又是一种修行）</li>
<li>谛察法忍：精研佛法</li>
</ul>
<h3 id="精进">精进</h3>
<p>勇猛精进，在佛学的修持上不畏惧、不退让、持之以恒</p>
<h3 id="禅定一种状态">禅定（一种状态）</h3>
<p>进入禅定这个状态，也叫缘（）缘起，无漏智，断烦恼，证真如；</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%84%91%E6%B4%9E/">脑洞</a></li>
  </ul>
</div>
            </header>
<h1 id="思想的边界">思想的边界</h1>

<h2 id="序言">序言</h2>
<p>我前几天看见篇文章说现在的一些科学是建立几句假设之上的，这几句假设就像悬空寺下的几个柱子，撑起了几百年的悬空寺，甚至在以后更长的时间里起立不到。这是让我比较惊讶的地方。科学是需要建立在假设之上并被证实的学科，一说到科学我们能想到严谨，严密等等，但在哲学上我认为不需要向科学那样的严谨，哲学对于我这样水平的人而言是天马行空的乐园，在一开始我觉得讲出来的东西是给人理解的，那么你讲的首先就要符合常识，违背基本常识的东西很难让人有兴趣或去理解，但假设往往不被我们常识说束缚，正是假设不被常识所束缚，它有了更多的可能，所以我在建立自己的“悬空寺”的时候，也需要这种不被束缚的假设，为此我会尽量讲人话，其实我也没有不讲人话的能力。</p>
<h2 id="解释世界还是改造世界">解释世界还是改造世界？</h2>
<p>“哲学家们只是以不同的方式解释世界，问题在于改变世界。”马克思在1842年加入莱茵报，最初作为撰稿人，后来在同年10月成为主编。在马克思的领导下，莱茵报开始关注政治和思想问题，尤其是言论自由和审查制度。</p>
<p>马克思曾在莱茵报上发表《关于林木盗窃法的辩论》一文，这篇文章反映了马克思对当时普鲁士法律和社会现实的深刻批判。文章的背景是普鲁士政府为了保护林木所有者的私人财产，提出了一项新的林木盗窃法案，该法案将捡拾枯枝的行为定性为盗窃，并规定了严厉的惩罚措施。</p>
<p>在当时的普鲁士，由于资本主义的发展，公共资源被私有化，普通民众的生活变得更加困难。捡拾枯枝对于许多贫苦农民来说是一种生存手段，但新法案的通过使得这一行为成为了犯罪。马克思在文章中强烈抨击了这种立法，他认为法律应该代表公众利益，而不是仅仅维护少数林木所有者的私人利益。</p>
<p>马克思在文章中指出，捡拾枯枝与盗窃林木在本质上是不同的行为。捡拾枯枝是自然赋予贫苦农民的权利，而盗窃林木则是对林木所有者财产的侵犯。他批评立法者忽视了这一区别，将两者混为一谈，从而使得法律成为了维护私人利益的工具。马克思进一步指出，法律的公正性和合理性被私人利益所侵蚀，这不仅损害了贫苦大众的利益，也违背了法律应有的公正精神。</p>
<p>马克思还在莱茵报上发表了如《评普鲁士最近的书报检查令》等文章，展示了他对言论自由的坚定支持。然而，莱茵报的激进立场引起了普鲁士政府的不满。政府认为莱茵报的文章威胁到了国家的稳定，特别是马克思对政府政策的批评和对民主自由的呼声。1843年3月31日，普鲁士政府最终决定查封莱茵报。</p>
<p>理论不能只停留在书本上，而是因该走到实践中去实现理论的价值，检验理论的真理性。即使马克思当时的理由在充分，也很难得到普鲁士政府的认同，因为他面对的是资本一方，在资本面前生产资料私有化，在这件事上普鲁士资本家们就像在经济危机中资本家一样，他们宁愿把牛奶导入河流，也不会把牛奶分给贫苦的人们，莱茵报的查封对马克思产生了深远的影响。它不仅标志着他与普鲁士政府的直接冲突，也促使他进一步深化了对资本主义社会和政治制度的批判。这一时期的经历，为马克思后来发展历史唯物主义和马克思主义理论奠定了基础。</p>
<p>解释世界为我们的言论提供了可靠的依据，然而仅仅有解释权似乎是远远不够的，因为世界是人的世界，社会是由人所主导的，由于人的活动而发展的，有人构建起来的社会影响着生活在这个时代的人的行为，他们的解释权也可能会被构建的社会说淹没，然而改变这一局面却也不是不可能，这为向马克思这样的伟人留下了通往改变世界的道路。</p>
<p>哥白尼的日心说起始于16世纪，这一理论的提出标志着天文学和科学史上的一个重大转折点。他在1543年出版的《天体运行论》（De revolutionibus orbium coelestium）中提出了日心说。在这本书中，哥白尼提出太阳是宇宙的中心，而地球和其他行星围绕太阳运行。这一理论挑战了当时普遍接受的地心说，即认为地球是宇宙的中心，其他天体围绕地球旋转。哥白尼解决了太阳和地球的是如何运动的问题，也得出太阳绕着地球转，这里在解释太阳实际运行的状况，解释这个太阳与地球运动是什么样子的，这就是解释世界。</p>
<p>哥白尼的日心说不但解释了世界，同时也在实践中实现了他的价值，但这或许与他的科学属性秘密相关，因为科学总要在实践中得到证实。但是我们生活在现实世界中往往不会像科学家那么做。</p>
<p>出自中国古典文学《列子》的《两小儿辩日》中讲述了有两个小孩争辩太阳大小、远近的故事，一个小孩认为早晨的太阳看起来更大，所以应该是更近的；另一个小孩则认为中午的太阳更热，所以应该是更近的。两个小孩各自通过视觉观察到的和自身感觉到的，做出了自己对不同时间段太阳大小、远近的理解，其实本质上是解释世界，但这部分没有改变世界的部分吗，答案是否定的，这样的经验主义在当时的社会或对现在的一部分的人而言是指导生活的方式。</p>
<p>两小儿辩日是一种经验主义，这种理解与改造世界的例子更贴近生活，在生活中我们不必追究太阳移向南回归线，还是移向北回归线，地球在自传，且还在绕着太阳公转等等问题，我们只凭借自己所能感觉到的，所能看到的理解世界，这是更为真实而更被大众所接收，并用来指导生活的一种行为。但是这种理解与改变世界的方式正在被慢慢的拆解与重构，这不意味着我们失去真实，反而是到达另一个高度。解释世界与改造世界的关系不是用“还是”来连接并把问题抛出，而是用“与”来连接，让你去理解与在这中理解下做出改变。</p>
<h2 id="如何破除前进道路山的弥瘴">如何破除前进道路山的弥瘴</h2>
<p><strong>众生皆有相</strong>，把这个相拿到掉你才能看众生的真面目，举一个简单的例子，你走在马路上，看到地上有一部iPhone的手机，在你面前它是一部手机，还是别的东西？你可能会回答就是一部手机啊，或者你会加一个条件它是比别的手机高一档的苹果手机，那么接下来你会捡起来占为己有（虽然对大部分人来说捡到占为己有也没有），还是寻找失主呢？iPhone手机的相就是——同样是手机他却有着别的手机所没有的诱惑力，把这个东西拿掉他与别的手机是一样的，甚至你可以说就是一部会发亮的电子产品。</p>
<p>前几天我在准备教资考试的时候，在图书馆学了一天，结果晚上回答宿舍的时候因为迷上B站上以为UP讲解的西游记视频，而看了一整晚，第二天没有精神所以就没有再去准备教资的考试，而是荒废了一天，那么我本是可以不看，按时睡觉然后第二天正常去学习的，那为什么们能实现呢？有人会说这不是你自律的问题嘛！这不是你自我约束力不够导致的嘛！我想也是，也不是，因为导致我们约束力不够的原因绝不是自己本身就先天决定的，而是后天造成的，基于这一点可以认为是所接受的事物引起的，那么这件事就必定有它的相，那么在这里的相是什么呢？在我看来相往往不是对比得出来的，因为我们遇到的事情大多都太复杂了，这相我们只能靠悟去了解，悟这种方式我也讲不了，但在前天这件事事上，我能悟的是视频是我前往教资上的弥瘴，而弥瘴的相是他的内容有我能get到的，有我一直想了解的，那怎么破除弥瘴呢？<strong>关键就在拿掉这个相，把内容拿掉，把感兴趣的拿掉，这视频还有，但是我却没有了，视频的内容它吸引我的点这些东西我肯定是没办法左右的，我能左右的只有视频映射到我内心的相</strong>。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/w1-%E5%8D%9A%E5%AE%A2%E6%96%87%E7%AB%A0/">W1-博客文章</a></li>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%93%B2%E5%AD%A6/">哲学</a></li>
    <li><a class="term-link" href="./tags/%E5%BA%84%E5%AD%90/">庄子</a></li>
  </ul>
</div>
            </header>
<h1 id="庄子之道">庄子之道</h1>

<p>今天通过王德峰老师的视频课来进一步的了解《庄子》的哲学之道，推荐看曹楚基注释的《庄子》。</p>
<p>行无为而知避害，避害就是避开人为，像自然灾害不在道家讨论的范围内。避害的方法有两个:</p>
<ul>
<li>一是天下的人为的事情辨认出来。</li>
<li>二是自己不参与任何人为的事情。不参与是一种人生态度。</li>
</ul>
<p><strong>一、如何辨别人为？</strong></p>
<p><strong>二、如何不参与人为之？</strong></p>
<p>庄子行于山中，见大木枝叶盛茂。伐木者止其旁而不取也。问其故，曰:“无所可用。”庄子曰:“此木以不材得终其天年。”夫子出于山。舍于故人之家。故人喜命竖子杀雁而烹之。竖子请曰:“其一能鸣，其一不能鸣，请奚杀?”主人曰:“杀不能鸣者。”明日弟子问于庄子曰:“昨日山中之木以不材得终其天年，今主人之雁以不材死，先生将何处?”庄子笑曰:“周将处夫材与不材之间。材与不材之间，似之而非也，故未免乎累。若夫乘道德<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>而浮游<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>则不然<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>。   <em>——《庄子山木篇》</em></p>
<p>全身避害，终究避不了害，怎么办呢？</p>
<p>列子有言：生非贵之所能存，生非爱之所能厚。</p>
<p>老子的给出的方法：贵以身为天下，若可寄天下;爱以身为天下，若可托天下<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>。</p>
<p>下面是原文： <strong>宠辱若惊，贵大患若身。</strong> 何谓宠辱若惊?宠为下，得之若惊，失之若惊，是谓宠辱若惊。何谓贵大患若身?吾所以有大患者，为吾有身，及吾无身，吾有何患?故贵以身为天下，若可寄天下;爱以身为天下，若可托天下。 ——《道德经》第十三章</p>
<hr>
<p>接下来讨论逍遥游与齐物论。前一篇将境界，后一篇讲道理，前一篇讲要达到哪一种境界，后一篇是如何讲达到这种境界。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-8cdbb443652547bccfb2e7242329166e" aria-controls="R-expandcontent-8cdbb443652547bccfb2e7242329166e" >
    <label class="expand-label" for="R-expand-8cdbb443652547bccfb2e7242329166e" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        《逍遥游》原文
    </label>
    <div id="R-expandcontent-8cdbb443652547bccfb2e7242329166e" class="expand-content">

<p>北冥有鱼，其名为鲲。鲲之大，不知其几千里也；化而为鸟，其名为鹏。鹏之背，不知其几千里也；怒而飞，其翼若垂天之云。是鸟也，海运则将徙于南冥。南冥者，天池也。《齐谐》者，志怪者也。《谐》之言曰：“鹏之徙于南冥也，水击三千里，抟扶摇而上者九万里，去以六月息者也。”野马也，尘埃也，生物之以息相吹也。天之苍苍，其正色邪？其远而无所至极邪？其视下也，亦若是则已矣。且夫水之积也不厚，则其负大舟也无力。覆杯水于坳堂之上，则芥为之舟；置杯焉则胶，水浅而舟大也。风之积也不厚，则其负大翼也无力。故九万里，则风斯在下矣，而后乃今培风；背负青天，而莫之夭阏者，而后乃今将图南。蜩与学鸠笑之曰：“我决起而飞，抢榆枋而止，时则不至，而控于地而已矣，奚以之九万里而南为？”适莽苍者，三餐而反，腹犹果然；适百里者，宿舂粮；适千里者，三月聚粮。之二虫又何知！小知不及大知，小年不及大年。奚以知其然也？朝菌不知晦朔，蟪蛄不知春秋，此小年也。楚之南有冥灵者，以五百岁为春，五百岁为秋；上古有大椿者，以八千岁为春，八千岁为秋。此大年也。而彭祖乃今以久特闻，众人匹之，不亦悲乎？</p>
<p>　　汤之问棘也是已：“穷发之北，有冥海者，天池也。有鱼焉，其广数千里，未有知其修者，其名为鲲。有鸟焉，其名为鹏，背若泰山，翼若垂天之云；抟扶摇羊角而上者九万里，绝云气，负青天，然后图南，且适南冥也。斥鷃笑之曰：‘彼且奚适也？我腾跃而上，不过数仞而下，翱翔蓬蒿之间，此亦飞之至也。而彼且奚适也？’”此小大之辩也。</p>
<p>　　故夫知效一官、行比一乡、德合一君、而征一国者，其自视也，亦若此矣。而宋荣子犹然笑之。且举世誉之而不加劝，举世非之而不加沮，定乎内外之分，辩乎荣辱之境，斯已矣。彼其于世，未数数然也。虽然，犹有未树也。夫列子御风而行，泠然善也，旬有五日而后反。彼于致福者，未数数然也。此虽免乎行，犹有所待者也。若夫乘天地之正，而御六气之辩，以游无穷者，彼且恶乎待哉？故曰：至人无己，神人无功，圣人无名。</p>
<p>尧让天下于许由，曰：“日月出矣，而爝火不息；其于光也，不亦难乎？时雨降矣，而犹浸灌；其于泽也，不亦劳乎？夫子立而天下治，而我犹尸之；吾自视缺然，请致天下。”许由曰：“子治天下，天下既已治也；而我犹代子，吾将为名乎？名者，实之宾也；吾将为宾乎？鹪鹩巢于深林，不过一枝；偃鼠饮河，不过满腹。归休乎君，予无所用天下为！庖人虽不治庖，尸祝不越樽俎而代之矣！”</p>
<p>　　肩吾问于连叔曰：“吾闻言于接舆，大而无当，往而不反。吾惊怖其言。犹河汉而无极也；大有径庭，不近人情焉。”连叔曰：“其言谓何哉？”曰：“藐姑射之山，有神人居焉。肌肤若冰雪，淖约若处子，不食五谷，吸风饮露，乘云气，御飞龙，而游乎四海之外；其神凝，使物不疵疠而年谷熟。吾以是狂而不信也。”连叔曰：“然。瞽者无以与乎文章之观，聋者无以与乎钟鼓之声。岂唯形骸有聋盲哉？夫知亦有之！是其言也犹时女也。之人也，之德也，将旁礴万物以为一，世蕲乎乱，孰弊弊焉以天下为事！之人也，物莫之伤：大浸稽天而不溺，大旱金石流，土山焦而不热。是其尘垢秕糠将犹陶铸尧舜者也，孰肯以物为事？”宋人资章甫而适诸越，越人断发文身，无所用之。尧治天下之民，平海内之政，往见四子藐姑射之山，汾水之阳，窅然丧其天下焉。</p>
<p>　　惠子谓庄子曰：“魏王贻我大瓠之种，我树之成，而实五石。以盛水浆，其坚不能自举也。剖之以为瓢，则瓠落无所容。非不呺然大也，吾为其无用而掊之。”庄子曰：“夫子固拙于用大矣。宋人有善为不龟手之药者，世世以洴澼絖为事。客闻之，请买其方百金。聚族而谋曰：‘我世世为洴澼絖，不过数金，今一朝而鬻技百金，请与之。’客得之，以说吴王。越有难，吴王使之将，冬，与越人水战，大败越人。裂地而封之。能不龟手一也，或以封，或不免于洴澼絖，则所用之异也。今子有五石之瓠，何不虑以为大樽，而浮于江湖，而忧其瓠落无所容？则夫子犹有蓬之心也夫！”</p>
<p>　　惠子谓庄子曰：“吾有大树，人谓之樗。其大本拥肿而不中绳墨，其小枝卷曲而不中规矩，立之涂，匠者不顾。今子之言大而无用，众所同去也。”庄子曰：“子独不见狸狌乎？卑身而伏，以候敖者；东西跳梁，不辟高下；中于机辟，死于罔罟。今夫斄牛，其大若垂天之云。此能为大矣，而不能执鼠。今子有大树，患其无用，何不树之于无何有之乡，广莫之野，彷徨乎无为其侧，逍遥乎寝卧其下。不夭斤斧，物无害者，无所可用，安所困苦哉！”</p>
</div>
</div>
<p>轻物重生————老子:反者道之动，以不变应万变————庄子:齐生死一物我</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>道德：事物的德性。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>浮游：即物物而不物于物。意思是说，做一件事情，不被这件事情所支配。&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>若夫乘道德而浮游则不然。按照事物的德性去做该做的事情，但又不被事物所支配。&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>看重自己的身体把它等同于看重天下，于是就可以把身体寄托于天下（这里这么说的原因是如果你爱惜自己的身体向把一艘船藏到山沟里一样，不让人发现，但第二天还是被人偷走了一样，如果你把船藏于天下，那么不管怎么样船都不会被偷走。）。爱惜自己身体等同于爱惜天下，于是可以把它寄托于天下。&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88/">费尔巴哈</a></li>
    <li><a class="term-link" href="./tags/%E9%A9%AC%E5%85%8B%E6%80%9D%E4%B8%BB%E4%B9%89%E5%93%B2%E5%AD%A6/">马克思主义哲学</a></li>
    <li><a class="term-link" href="./tags/%E5%93%B2%E5%AD%A6/">哲学</a></li>
  </ul>
</div>
            </header>
<h1 id="费尔巴哈提纲">费尔巴哈提纲</h1>

<p>一</p>
<p>　　从前的一切唯物主义（包括费尔巴哈的唯物主义）的主要缺点是：对对象、现实、感性，只是从客体的或者直观的形式去理解，而不是把它们当作感性的人的活动，当作实践去理解，不是从主体方面去理解。因此，和唯物主义相反，能动的方面却被唯心主义抽象地发展了，当然，唯心主义是不知道现实的、感性的活动本身的。费尔巴哈想要研究跟思想客体确实不同的感性客体：但是他没有把人的活动本身理解为对象性的［gegenständliche］活动。因此，他在《基督教的本质》中仅仅把理论的活动看作是真正人的活动，而对于实践则只是从它的卑污的犹太人的表现形式去理解和确定。因此，他不了解“革命的”、“实践批判的”活动的意义。</p>
<p>二</p>
<p>　　人的思维是否具有客观的［gegenständliche］真理性，这不是一个理论的问题，而是一个实践的问题。人应该在实践中证明自己思维的真理性，即自己思维的现实性和力量，自己思维的此岸性。关于思维——离开实践的思维——的现实性或非现实性的争论，是一个纯粹经院哲学的问题。</p>
<p>三</p>
<p>　　关于环境和教育起改变作用的唯物主义学说忘记了：环境是由人来改变的，而教育者本人一定是受教育的。因此，这种学说一定把社会分成两部分，其中一部分凌驾于社会之上。</p>
<p>　　环境的改变和人的活动或自我改变的一致，只能被看作是并合理地理解为革命的实践。</p>
<p>四</p>
<p>　　费尔巴哈是从宗教上的自我异化，从世界被二重化为宗教世界和世俗世界这一事实出发的。他做的工作是把宗教世界归结于它的世俗基础。但是，世俗基础使自己从自身中分离出去，并在云霄中固定为一个独立王国，这只能用这个世俗基础的自我分裂和自我矛盾来说明。因此，对于这个世俗基础本身应当在自身中、从它的矛盾中去理解，并在实践中使之革命化。因此，例如，自从发现神圣家族的秘密在于世俗家庭之后，世俗家庭本身就应当在理论上和实践中被消灭。</p>
<p>五</p>
<p>　　费尔巴哈不满意抽象的思维而喜欢直观；但是他把感性不是看作实践的、人的感性的活动。</p>
<p>六</p>
<p>　　费尔巴哈把宗教的本质归结于人的本质。但是，人的本质不是单个人所固有的抽象物，在其现实性上，它是一切社会关系的总和。</p>
<p>　　费尔巴哈没有对这种现实的本质进行批判，因此他不得不：</p>
<p>　　（１）撇开历史的进程，把宗教感情固定为独立的东西，并假定有一种抽象的——孤立的——人的个体。</p>
<p>　　（２）因此，本质只能被理解为“类”，理解为一种内在的、无声的、把许多个人自然地联系起来的普遍性。</p>
<p>七</p>
<p>　　因此，费尔巴哈没有看到，“宗教感情”本身是社会的产物，而他所分析的抽象的个人，是属于一定的社会形式的。</p>
<p>第八条</p>
<p>全部社会生活在本质上是实践的。凡是把理论引向神秘主义的神秘东西，都能在人的实践中以及对这个实践的理解中得到合理的解决。</p>
<p>九</p>
<p>直观的唯物主义，即不是把感性理解为实践活动的唯物主义至多也只能达到对单个人和市民社会的直观。</p>
<p>十</p>
<p>　　 旧唯物主义的立脚点是市民社会，新唯物主义的立脚点则是人类社会或社会的人类。</p>
<p>十一</p>
<p>　　哲学家们只是用不同的方式解释世界，问题在于改变世界</p>
<p>自我异化的解释</p>
<p>类力量：</p>
<p>肉体存在于感性存在
随地大小便是前者，上公厕表示后者</p>
<p>资本主义的三大作用
推动世界史的形成，
为人类的全面发展准备物质资料</p>
<p>人是人感性活动的产物，人类与自然界打交道
人的类存在基础是感性存在
感性的存在就是把自然的东西变成人的东西，就是变成社会的存在，就像美，美的感觉的</p>
<p>人不仅是感性的对象，还是感性的活动的产物</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">费尔巴哈提纲 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a></li>
  </ul>
</div>
            </header>
<h1 id="如何理解费尔巴哈提纲的主要含义">如何理解费尔巴哈提纲的主要含义？</h1>

<p>费尔巴哈的唯物主义：
费尔巴哈试图将宗教世界归结于其世俗基础，但他没有意识到世俗基础本身也存在问题。他试图通过直观的感性来理解世界，但没有将人的感性活动理解为实践的活动。费尔巴哈的唯物主义停留在了对感性客体的直观理解上，没有深入到人的实践活动和社会关系中去。</p>
<p>马克思的批判：
马克思在《关于费尔巴哈的提纲》中批判了费尔巴哈的唯物主义，指出其主要缺点在于没有从人的感性活动、即实践的角度去理解世界。马克思强调，人的本质不是抽象的、孤立的个体，而是一切社会关系的总和。他提出了历史唯物主义的观点，认为社会存在决定社会意识，物质生产方式是社会发展的基础。</p>
<p>实践的观点：
王德峰教授强调，马克思的实践观是其哲学的核心。实践不仅仅是物质生产活动，而是包括了人与人的社会关系建立和改变的活动。实践是社会生活的本质，是人与自然、人与社会相互作用的过程。通过实践，人们不仅创造物质财富，也在创造和改变社会关系。</p>
<p>真理的标准：
马克思认为，真理的标准不是理论的抽象推导，而是实践。人的思维是否具有客观的真理性，需要在实践中得到证明。实践是检验真理的唯一标准，这与旧唯物主义和唯心主义的观点形成了鲜明对比。</p>
<p>哲学的使命：
马克思提出，哲学家们不应该只是解释世界，而应该致力于改变世界。这表明，哲学不仅仅是理论的探讨，更重要的是要指导实践，推动社会的进步和变革</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 12</div>
<h1 id="12实战项目">12.实战项目</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/">贺青工程</a><p>志愿活动软件设计与开发设计一款可以参加志愿活动的小程序，其制作流程大致如下： 需求分析与规划 确定目标用户群体及其需求：考虑志愿者、活动组织者和</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/">毕业设计</a><p>运行环境 通信 ESP8266-01S上传数据到OneNet 参考视频 1.进入OneNet创建产品和设备（具体步骤待补充） 2.复制产品和设备的详细</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/">电赛</a><p>以下笔记皆基于HAL库。 新建STM32CubeMX工程步骤 创建工程中如果勾选MCO表示向外部输出时钟， 输出的是哪一个引脚可以查看，如下图。 外</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/">唛盟杯比赛详记</a><p>比赛说明 自己有幸参加这次唛盟杯的比赛，这次比赛流程如下： 一、报名时2024年1月1到31日本来是12月份但延期了。 二、培训时间，现在还不确定</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">12.实战项目 的子部分</h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 1</div>
<h1 id="贺青工程">贺青工程</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E5%B0%8F%E7%A8%8B%E5%BA%8Fui%E8%AE%BE%E8%AE%A1/">志愿活动软件设计与开发</a><p>设计一款可以参加志愿活动的小程序，其制作流程大致如下： 需求分析与规划 确定目标用户群体及其需求：考虑志愿者、活动组织者和管理员等不同角色的功能</p></li>
<li><a href="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/">验收问题</a><p>页面美化验收 1.登录页面 2.首页&mdash;将志愿活动和活动时长数据放到轮播图下面 3.我的页面优化了吗？ 4.点击找回密码后，页面颜色不够美</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">贺青工程 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
    <li><a class="term-link" href="./tags/%E5%BE%AE%E4%BF%A1/">微信</a></li>
  </ul>
</div>
            </header>
<h1 id="志愿活动软件设计与开发">志愿活动软件设计与开发</h1>

<p>设计一款可以参加志愿活动的小程序，其制作流程大致如下：</p>
<h2 id="需求分析与规划">需求分析与规划</h2>
<p>确定目标用户群体及其需求：考虑志愿者、活动组织者和管理员等不同角色的功能需求。</p>
<p><strong>志愿者：</strong></p>
<ul>
<li><strong>注册/登录</strong>：志愿者可以通过手机号、邮箱或第三方账号进行注册和登录。</li>
<li><strong>个人中心</strong>：查看并编辑个人信息，包括姓名、联系方式、服务时长、参与过的活动记录等。</li>
<li><strong>活动浏览</strong>：查看活动列表，搜索感兴趣的服务项目，支持按地区、时间、类型筛选。</li>
<li><strong>活动报名</strong>：选择感兴趣的志愿活动进行报名，填写相关报名表单，并能收到报名成功或失败的反馈信息。</li>
<li><strong>签到打卡</strong>：参加活动时通过GPS定位、二维码扫描等方式进行签到和签退，记录服务时长。</li>
<li><strong>互动交流</strong>：可在活动详情页留言评论，与其他志愿者交流心得，也可以对已完成的活动进行评价。</li>
<li><strong>积分系统</strong>：根据参与活动的情况获取积分，可用于兑换礼品或其他激励。</li>
</ul>
<p><strong>活动组织者：</strong></p>
<ul>
<li><strong>活动发布</strong>：创建新的志愿活动，填写活动名称、地点、时间、内容描述、所需志愿者数量、技能要求等详细信息。</li>
<li><strong>活动管理</strong>：查看已发布的活动状态，审核志愿者报名申请，确认志愿者名单，发送通知消息给志愿者。</li>
<li><strong>数据统计</strong>：查看各项活动的报名人数、实际参与人数、总服务时长等统计数据。</li>
<li><strong>评价反馈</strong>：查阅志愿者对活动的评价和建议，以便改进后续活动组织。</li>
<li><strong>资源管理</strong>：上传活动相关的文档、图片等资源，管理活动物料。</li>
</ul>
<p><strong>管理员：</strong></p>
<ul>
<li><strong>用户管理</strong>：审核志愿者注册信息，处理用户投诉与咨询，维护用户账户安全。</li>
<li><strong>权限管理</strong>：分配不同的角色权限，如设置哪些用户可以发布活动、审核报名等。</li>
<li><strong>活动审批</strong>：对于某些大型或重要的活动，可能需要经过管理员审核后才能正式发布上线。</li>
<li><strong>系统配置</strong>：设置全局参数，如积分规则、活动类别等基础数据的增删改查。</li>
<li><strong>数据分析</strong>：获取平台整体运营数据，分析用户行为、活跃度以及志愿服务的整体状况，为决策提供依据。</li>
</ul>
<h3 id="功能列表梳理">功能列表梳理</h3>
<h4 id="活动浏览报名参与签到打卡服务时长记录通知公告评价反馈积分兑换等功能模块">活动浏览、报名参与、签到打卡、服务时长记录、通知公告、评价反馈、积分兑换等功能模块。</h4>
<ul>
<li>数据结构设计：定义数据库表结构，包括但不限于用户信息、活动信息、报名记录等。</li>
</ul>
<h2 id="原型设计与uiux设计">原型设计与UI/UX设计</h2>
<ul>
<li>创建低保真或高保真原型，展示小程序的主要界面布局及交互流程。</li>
<li>设计符合用户体验的UI界面，确保简洁易用且美观大方。</li>
</ul>
<h2 id="技术选型与开发环境搭建">技术选型与开发环境搭建</h2>
<ul>
<li>根据团队技术栈选择合适的开发平台，如微信小程序、支付宝小程序、百度小程序等。</li>
<li>搭建开发环境，安装所需的IDE工具（如微信开发者工具）及相关依赖库。</li>
</ul>
<h2 id="后端服务器开发">后端服务器开发</h2>
<ul>
<li>设计并实现后端API接口，处理用户的注册登录、活动发布与管理、报名审核等操作。</li>
<li>开发数据库系统，用于存储用户信息、活动数据等内容。</li>
</ul>
<h2 id="前端小程序开发">前端小程序开发</h2>
<ul>
<li>根据原型图编写前端页面代码，使用各小程序平台提供的组件和API进行功能开发。</li>
<li>实现用户认证、活动详情展示、报名表单提交、状态更新等功能。</li>
</ul>
<h2 id="测试与优化">测试与优化</h2>
<ul>
<li>单元测试：对各个功能模块进行独立测试，确保逻辑正确无误。</li>
<li>集成测试：模拟真实场景，测试整个应用的完整流程是否顺畅。</li>
<li>性能测试：检查在大量并发请求下系统的响应速度和稳定性。</li>
<li>用户体验测试：邀请部分目标用户试用，并根据反馈进行迭代优化。</li>
</ul>
<h2 id="上线部署与版本管理">上线部署与版本管理</h2>
<ul>
<li>将完成开发和测试的小程序上传至对应平台进行审核发布。</li>
<li>制定版本更新策略，持续收集用户反馈，定期更新优化软件。</li>
</ul>
<h2 id="后期维护与运营">后期维护与运营</h2>
<ul>
<li>定期检查系统性能，及时修复已知问题和潜在隐患。</li>
<li>对接新的需求，不断丰富和完善产品功能。</li>
<li>进行数据分析，了解用户行为，以数据驱动产品迭代优化。</li>
</ul>
<p>这份文件是关于2024年全国大学生电子设计竞赛信息科技前沿专题赛（瑞萨杯）的通知。以下是比赛的主要信息和需要注意的事项：</p>
<ol>
<li>
<p><strong>组织领导</strong>：</p>
<ul>
<li>竞赛由全国大学生电子设计竞赛组委会组织。</li>
<li>分组委会负责实施、协调和宣传工作。</li>
<li>瑞萨公司提供技术支持和赛前培训。</li>
<li>采用“分区初选+全国决赛”的模式，分为东区、南区、西区和北区。</li>
</ul>
</li>
<li>
<p><strong>参赛学校与参赛队</strong>：</p>
<ul>
<li>报名采用“选拔+邀请”方式。</li>
<li>自动获得全国决赛资格的学校需在规定时间内上报参赛名单。</li>
<li>参赛学生必须是全日制在校本科生。</li>
<li>每支参赛队由3名学生组成，可配备1名指导教师。</li>
</ul>
</li>
<li>
<p><strong>命题与竞赛形式</strong>：</p>
<ul>
<li>主题为“物联网+数字经济”，涉及非图形图像信息处理及测控技术。</li>
<li>初选和决赛作品需基于指定的瑞萨公司硬件平台。</li>
<li>竞赛采用开放式，不限定竞赛场地。</li>
</ul>
</li>
<li>
<p><strong>竞赛时间安排</strong>：</p>
<ul>
<li>竞赛时间为2024年2月26日至7月31日。</li>
<li>报名截止日期为2024年3月15日。</li>
<li>分区初选和全国决赛的具体时间安排详见文件。</li>
</ul>
</li>
<li>
<p><strong>竞赛报名</strong>：</p>
<ul>
<li>报名需提交学校竞赛负责人、参赛学生名单和指导教师信息。</li>
<li>报名表需签字盖章后发送给各区联络员。</li>
<li>不收取报名费。</li>
</ul>
</li>
<li>
<p><strong>竞赛培训</strong>：</p>
<ul>
<li>组委会将联合瑞萨公司开展线上培训。</li>
<li>提供参赛学生在线交流论坛。</li>
<li>瑞萨开发套件及相关软件将在指定时间发放。</li>
</ul>
</li>
<li>
<p><strong>中期检查</strong>：</p>
<ul>
<li>组委会将在2024年6月中上旬进行中期检查和巡视。</li>
</ul>
</li>
<li>
<p><strong>竞赛评审</strong>：</p>
<ul>
<li>分区初选和全国决赛的评审工作由专家组完成。</li>
<li>评审要求包括作品简介、中英文设计报告和实物作品。</li>
<li>评审时间安排和具体要求详见文件。</li>
</ul>
</li>
<li>
<p><strong>评奖与颁奖</strong>：</p>
<ul>
<li>各区评审组评选一、二、三等奖。</li>
<li>全国评审专家组评选全国一、二、三等奖。</li>
<li>颁奖大会在评审结束后举行。</li>
</ul>
</li>
<li>
<p><strong>联系方式</strong>：</p>
<ul>
<li>提供了竞赛组委会秘书处、专题赛报名联络员以及各区联络员的联系方式。</li>
</ul>
</li>
</ol>
<p><strong>注意事项</strong>：</p>
<ul>
<li>确保参赛学生符合资格，且在竞赛期间保持在校状态。</li>
<li>按时完成报名和提交作品。</li>
<li>遵循评审要求，包括作品的提交格式和内容。</li>
<li>确保参赛作品的原创性，避免抄袭。</li>
<li>关注官方通知，以获取最新的培训、评审和颁奖信息。</li>
<li>妥善保管瑞萨开发套件，如有质量问题及时联系瑞萨公司更换。

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></li>
</ul>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
    <li><a class="term-link" href="./tags/%E5%BE%AE%E4%BF%A1/">微信</a></li>
  </ul>
</div>
            </header>
<h1 id="验收问题">验收问题</h1>

<h2 id="页面美化验收">页面美化验收</h2>
<ul>
<li><input disabled="" type="checkbox"> 1.登录页面</li>
<li><input disabled="" type="checkbox"> 2.首页&mdash;将志愿活动和活动时长数据放到轮播图下面</li>
<li><input disabled="" type="checkbox"> 3.我的页面优化了吗？</li>
<li><input disabled="" type="checkbox"> 4.点击找回密码后，页面颜色不够美观，该页面应符合小程序主色调</li>
<li><input disabled="" type="checkbox"> 5.首页&mdash;-为你推荐的志愿活动适当放大活动名称字体，调整活动名称下面的显示信息，请适当调整字体大小、行距、间距。</li>
<li><input disabled="" type="checkbox"> 6.贺院学子一直在行动调整这个模块数字、志愿活动、志愿者等字段的字体大小，现在看起来感觉数字和文字很随意，请适当调整。</li>
<li><input disabled="" type="checkbox"> 7.让“无权限”字段直接显示在页面上，字体背景设置为透明，而不是像现在这样看起来像一个按键。</li>
<li><input disabled="" type="checkbox"> 8.我的组织页面中，显示的组织之间间距太近，请适当调整。</li>
</ul>
<h2 id="小程序功能验收">小程序功能验收</h2>
<ul>
<li><input disabled="" type="checkbox"> 1.不同的登录方式有问题吗？</li>
<li><input disabled="" type="checkbox"> 2.<strong>签到开始时间为活动开始前半小时</strong>，（现在是没到签到时间不可以签到，精确度很高）</li>
<li><input disabled="" type="checkbox"> 3.活动结束后不能进行签退，但是活动发起者可以对其进行补签，补签时长可以自定，自定义时长不能超过该志愿者从开始签到至活动结束的时长。</li>
<li><input disabled="" type="checkbox"> 4.服务时长为签到签退时间差吗？</li>
<li><input disabled="" type="checkbox"> 5.签到签退需要在活动地点三公里以内才能进行。</li>
<li><input disabled="" type="checkbox"> 6.活动发起者发布活动后或得四位数数字密码，该密码在志愿者点击签到或签退时弹出小弹窗，输入密码后实现签到签退。</li>
<li><input disabled="" type="checkbox"> 7.当成员加入活动时，活动发起者能够一键通过成员的审核</li>
<li><input disabled="" type="checkbox"> 8.发现页面上方，将日期和距离归纳在一个板块“排序”</li>
<li><input disabled="" type="checkbox"> 9.当我登录后点击返回，返回到的页面是上一次的登录页面，需要一步一步返回，请设置为登陆成功后直接跳转到我的页面。</li>
<li><input disabled="" type="checkbox"> 10.</li>
<li><input disabled="" type="checkbox"> 11.</li>
</ul>
<p><strong>今晚检查有三，目前都没问题，如下</strong>：</p>
<ul>
<li>签到签退，</li>
<li>上传、查看、删除pdf和图片，</li>
<li>部分页面正常显示，</li>
</ul>
<p><strong>一些小问题</strong> ：</p>
<ul>
<li>
<p>后台修改开始时间和截止时间后，虽然能正常显示，但修改后不起效果，假设报名时间为12：00，过了12点整后修改为13：00，那么活动还是无法参与。</p>
</li>
<li>
<p>组织详情页不显示所写简介
<a href="#R-image-c927cf2cf9912f71013479210ef7a4a0" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c927cf2cf9912f71013479210ef7a4a0"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image.png" alt="alt text" class="lightbox-image        " loading="lazy"></a> <a href="#R-image-726c7c1426c00e5907fc6f17d3b3b25d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-726c7c1426c00e5907fc6f17d3b3b25d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
</li>
<li>
<p>参与人次之前说是等于组织活动参与人数之和，但是我这边看了好像与组织成员相等，并不是活动人数之和，而是总的组织成员人数，你们那边也看看吧。</p>
</li>
</ul>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/onenet/">OneNet</a></li>
  </ul>
</div>
            </header>
<h1 id="毕业设计">毕业设计</h1>

<h2 id="运行环境">运行环境</h2>
<h2 id="通信">通信</h2>
<h3 id="esp8266-01s上传数据到onenet">ESP8266-01S上传数据到OneNet</h3>
<p><a href="https://www.bilibili.com/video/BV1jS421A7Bk/?spm_id_from=333.337.search-card.all.click&amp;vd_source=8b3841f9fc62479f11b65d83945326a7" target="_blank">参考视频</a></p>
<p>1.进入OneNet创建产品和设备（具体步骤待补充）</p>
<p>2.复制产品和设备的详细信息（备份）</p>
<p>目的是为了方便使用AT指令以及代码编写。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">设备名称</span>(clientlD) <span style="color:#f92672">:</span> test
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">产品</span>ID (username) <span style="color:#f92672">:</span> F1AVyfXw7l
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>password: version<span style="color:#f92672">=</span><span style="color:#ae81ff">2018</span><span style="color:#f92672">-</span><span style="color:#ae81ff">10</span><span style="color:#f92672">-</span><span style="color:#ae81ff">31</span><span style="color:#f92672">&amp;</span>res<span style="color:#f92672">=</span>products<span style="color:#f92672">%</span><span style="color:#ae81ff">2FF</span><span style="color:#ae81ff">1</span>AVyfXw71<span style="color:#f92672">%</span><span style="color:#ae81ff">2F</span>devices<span style="color:#f92672">%</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2F</span>test<span style="color:#f92672">&amp;</span>et<span style="color:#f92672">=</span><span style="color:#ae81ff">2810313321</span><span style="color:#f92672">&amp;</span>method<span style="color:#f92672">=</span>md5<span style="color:#f92672">&amp;</span>sign<span style="color:#f92672">=</span>EfJtPPxHwMX6iWWf3YksbA<span style="color:#f92672">%</span><span style="color:#ae81ff">3</span>D<span style="color:#f92672">%</span><span style="color:#ae81ff">3</span>D.urI:mqtts.heclouds.com
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">端口号</span><span style="color:#f92672">:</span><span style="color:#ae81ff">1883</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">订阅</span><span style="color:#f92672">:</span> <span style="color:#960050;background-color:#1e0010">$</span>sys<span style="color:#f92672">/</span>F1AVyfXw7I<span style="color:#f92672">/</span>test<span style="color:#f92672">/</span>thing<span style="color:#f92672">/</span>property<span style="color:#f92672">/</span>post<span style="color:#f92672">/</span>reply发布: <span style="color:#960050;background-color:#1e0010">$</span>sys<span style="color:#f92672">/</span>F1AVyfXw7l<span style="color:#f92672">/</span>test<span style="color:#f92672">/</span>thing<span style="color:#f92672">/</span>property<span style="color:#f92672">/</span>post
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">设备密钥</span><span style="color:#f92672">:</span> cjFZSWRwUGNrazdRR2d6eTJ4Tm9YNXN5bTNuMGpMTIE<span style="color:#f92672">=</span>access key: vclTl19loOn7mcfdtT39l1eRfVffM6FfH8U<span style="color:#f92672">/</span>U3HhUQc<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>res:products<span style="color:#f92672">/</span>F1AVyfXw7l<span style="color:#f92672">/</span>devices<span style="color:#f92672">/</span>test
</span></span><span style="display:flex;"><span>et:<span style="color:#960050;background-color:#1e0010">时间戳</span></span></span></code></pre></div><h4 id="收藏的一些资料">收藏的一些资料</h4>
<p><a href="https://open.iot.10086.cn/console/product/own" target="_blank">OneNet云平台</a>
<a href="#R-image-e453c38bd224e0d8f74a48ece64a542f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-2.png" alt="OneNet云平台" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e453c38bd224e0d8f74a48ece64a542f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-2.png" alt="OneNet云平台" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="https://www.beijing-time.org/shijianchuo/" target="_blank">2.时间戳</a>
<a href="#R-image-6fe78fe6d78a55e1e4cf0e7d1bca90ba" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image.png" alt="时间戳" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6fe78fe6d78a55e1e4cf0e7d1bca90ba"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image.png" alt="时间戳" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="https://open.iot.10086.cn/doc/v5/develop/detail/639" target="_blank">OneNet文档中心</a>
<a href="#R-image-66633481a1073fafcbb21da3ae25ee5f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-1.png" alt="OneNet文档中心" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-66633481a1073fafcbb21da3ae25ee5f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-1.png" alt="OneNet文档中心" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="最终的操作结果">最终的操作结果</h4>
<p><a href="#R-image-a899d66b4f923a6e8a0d4502c0a9384d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-3.png" alt="结果" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a899d66b4f923a6e8a0d4502c0a9384d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/image-3.png" alt="结果" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="esp32esp8266-12e连接onenet参考资料">ESP32&amp;&amp;ESP8266-12E连接ONeNet参考资料</h3>
<ul>
<li><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/1007" target="_blank">云平台调试错误码</a></li>
<li><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/922" target="_blank">设备之间数据交换实战项目</a></li>
<li><a href="https://github.com/arduino-libraries/WiFi" target="_blank">wifi.h库</a></li>
<li><a href="https://blog.csdn.net/qq_40700822/article/details/116640694" target="_blank">参考文档</a></li>
</ul>
<p>代码部分唯一不同的是引用的库函数不同，</p>
<p>ESP8266使用的是</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span></span></span></code></pre></div><p>ESP32使用的是</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;WiFi.h&gt;</span></span></span></code></pre></div><p>在使用时需要注意引用的库函数，如果库函数不匹配，可能会导致编译失败，这部分的代码以放在附件中。</p>
<ul>
<li><strong>ESP-12EConnectONenet</strong>是ESP8266-12E连接ONeNet；</li>
<li><strong>ESP32ConnectONenet</strong> 是ESP8266-12E连接ONeNet。</li>
</ul>
<h3 id="app连接onenet">APP连接ONeNet</h3>
<ul>
<li><a href="https://blog.csdn.net/m0_57523637/article/details/134110774" target="_blank">1.内含demo</a></li>
<li><a href="https://www.bilibili.com/video/BV1Sx42127ni/?spm_id_from=333.337.search-card.all.click&amp;vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" target="_blank">2.新版视频地址</a></li>
<li><a href="https://www.json.cn/json2java/" target="_blank">3.json格式化网站</a></li>
<li><a href="https://blog.csdn.net/NakajimaFN/article/details/109074166" target="_blank">4.Android Okhttp3的使用（很全面，包含Post提交字符串、键值对、表单、上传文件、无参请求和Get有参无参请求，还有自动添加token）</a></li>
<li><a href="https://blog.csdn.net/weixin_46323814/article/details/124662664" target="_blank">从json中取出数据,结合第一点看</a></li>
<li><a href="https://open.iot.10086.cn/doc/v5/fuse/detail/1007" target="_blank">5.云平台调试错误码</a></li>
</ul>
<p>在B站上学习OKHTTP3，我把主要的核心代码放在附件里，分别是get和post的同步和异步请求，返回的结果和视频地址2里讲的一样。</p>
<ul>
<li><a href="https://www.bilibili.com/video/BV1Kr4y1b7Kw?p=2&amp;vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" target="_blank">视频地址1</a>,</li>
<li><a href="https://www.bilibili.com/video/BV1Z8411i7Yo/?p=70&amp;spm_id_from=333.880.my_history.page.click&amp;vd_source=5e8e4e9e284af3291f1a3addff3fc2c3" target="_blank">视频地址2</a></li>
</ul>
<p>在编写HTTPS网络请求（post）时需要上传一些数据，这些数据有一定的上传格式，下面的网址汇总了上传格式content参数</p>
<ul>
<li><a href="https://www.runoob.com/http/http-content-type.html" target="_blank">HTTP的content格式汇总网址</a></li>
</ul>
<h3 id="stm32电脑模拟esp32esp8266通信">STM32+电脑(模拟ESP32)+ESP8266通信</h3>
<p>STM32————电脑：串口1（PA 9  PA10）,手机连接指定热点，连接成功后等待一段时间把摄像头的网址发给单片机，单片机通过串口2发给ESP8266.ESP8266再传到OneNet上。</p>
<p><strong>注意</strong>：在用ESP8266最小系统通信的时，需要给板子单独供电，否则通信可能失败，原因我想可能是因为电压不够。</p>
<h3 id="通信过程中遇到的问题">通信过程中遇到的问题</h3>
<ul>
<li>
<p>keil5中一点击下载就闪退或点击debug中的setting就闪退。<a href="https://blog.csdn.net/wcanon/article/details/129645304" target="_blank">参照文章</a></p>
</li>
<li>
<p>Keil5编程之warning: #223-D: function “xxx“ declared implicitly.<a href="https://blog.csdn.net/weixin_45714385/article/details/114965914" target="_blank">参考链接</a></p>
</li>
</ul>
<h3 id="这一部分所用到的资料下载地址">这一部分所用到的资料下载地址</h3>
<ul>
<li><a href="http://www.openedv.com/docs/modules/iot/atk-esp.html" target="_blank">正点原子AKT-ESP-Fwifi模块</a></li>
<li></li>
</ul>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
      <li><a href="./branch-bundle-1/12.%e5%ae%9e%e6%88%98%e9%a1%b9%e7%9b%ae/%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1/index.files/ESP-12ConnectOnenet.c">ESP-12ConnectOnenet.c</a> (0 B)</li>
      <li><a href="./branch-bundle-1/12.%e5%ae%9e%e6%88%98%e9%a1%b9%e7%9b%ae/%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1/index.files/ESP32ConnectOnenet%20.c">ESP32ConnectOnenet .c</a> (0 B)</li>
      <li><a href="./branch-bundle-1/12.%e5%ae%9e%e6%88%98%e9%a1%b9%e7%9b%ae/%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1/index.files/https.java">https.java</a> (2 KB)</li>
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b3-%E6%AF%95%E4%B8%9A%E8%AE%BE%E8%AE%A1/">B3-毕业设计</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/stm32%E5%AD%A6%E4%B9%A0/">STM32学习</a></li>
  </ul>
</div>
            </header>
<h1 id="电赛">电赛</h1>

<hr>
<p><strong>以下笔记皆基于HAL库。</strong></p>
<h2 id="新建stm32cubemx工程步骤">新建STM32CubeMX工程步骤</h2>
<p><a href="#R-image-bcfcfe521518c64f52cb1a19b1894dd0" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image.png" alt="步骤" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bcfcfe521518c64f52cb1a19b1894dd0"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image.png" alt="步骤" class="lightbox-image        " loading="lazy"></a></p>
<p>创建工程中如果勾选MCO表示向外部输出时钟，
<a href="#R-image-4a5760e4a1e343ed98b38c587aa2e1aa" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-1.png" alt="打钩" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4a5760e4a1e343ed98b38c587aa2e1aa"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-1.png" alt="打钩" class="lightbox-image        " loading="lazy"></a>
输出的是哪一个引脚可以查看，如下图。
<a href="#R-image-3654dae81280f771ed9fb08cdcd52888" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-2.png" alt="PA8" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3654dae81280f771ed9fb08cdcd52888"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-2.png" alt="PA8" class="lightbox-image        " loading="lazy"></a></p>
<p>外部时钟设置
<a href="#R-image-9c05e84ca5f722de09a74b240d7936ff" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-3.png" alt="时钟" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9c05e84ca5f722de09a74b240d7936ff"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-3.png" alt="时钟" class="lightbox-image        " loading="lazy"></a></p>
<p>工程设置
<a href="#R-image-7b5e16a20b8e57a4e4cf0db3c04b7da8" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-4.png" alt="项目设置" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7b5e16a20b8e57a4e4cf0db3c04b7da8"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-4.png" alt="项目设置" class="lightbox-image        " loading="lazy"></a></p>
<p>如果Application Structure设置为Basic，那么会把下面的两个文件分开放
<a href="#R-image-ee96f2bda77d5f841a1c75f262625029" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-5.png" alt="xx " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ee96f2bda77d5f841a1c75f262625029"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-5.png" alt="xx " class="lightbox-image        " loading="lazy"></a>
否则项目会把两个文件放在一个文件夹里，如Core</p>
<p>最后还需要设置Code Generator，如下：
<a href="#R-image-b6fbe865fca4d469c5fbee3cc3028cd2" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-6.png" alt="Code Generator" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b6fbe865fca4d469c5fbee3cc3028cd2"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-6.png" alt="Code Generator" class="lightbox-image        " loading="lazy"></a></p>
<h2 id="时钟">时钟</h2>
<p>1.初识时钟周期</p>
<p>2.时钟树
<a href="#R-image-f3211a6b4fbf49c9608c07fa4bb9ce2d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-7.png" alt="时钟树" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f3211a6b4fbf49c9608c07fa4bb9ce2d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-7.png" alt="时钟树" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-053d75b37db8576c54778b4ce9bdfb53" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-8.png" alt="时钟树1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-053d75b37db8576c54778b4ce9bdfb53"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-8.png" alt="时钟树1" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-809f73ba6decd7f8e0b11a4a7b4d2189" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-9.png" alt="时钟树2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-809f73ba6decd7f8e0b11a4a7b4d2189"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-9.png" alt="时钟树2" class="lightbox-image        " loading="lazy"></a></p>
<p>3.时钟配置步骤
<a href="#R-image-c3a9cd77c2fbe6be848e572bbd2cc69b" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-10.png" alt="步骤" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c3a9cd77c2fbe6be848e572bbd2cc69b"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-10.png" alt="步骤" class="lightbox-image        " loading="lazy"></a></p>
<p>4.外设时钟使能和失能</p>
<p>5.sys_stm32_cloc_init()函数</p>
<ul>
<li>
<p>HAL_RCC_OscConfig()</p>
<ul>
<li>HSE高速外设振荡器</li>
<li>LSE</li>
<li>RC振荡器，随着电压的变化而变化，所以需要一个检验值</li>
<li>PLL锁相环</li>
</ul>
</li>
<li>
<p>HAL_RCC_ClockConfig()
<a href="#R-image-558cfb21031414121faf21c521ab8fbe" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-12.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-558cfb21031414121faf21c521ab8fbe"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-12.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-7c172f38cc0b1fe4519d94b05b2184c7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-11.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7c172f38cc0b1fe4519d94b05b2184c7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-11.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>第一个参数
<ul>
<li>结构体中的第一个参数里的HCLK是指AHB总线、PCLK1是指APB1总线、PCLK2是指APB2总线，这个配置表示要配那条总线的时钟。</li>
</ul>
</li>
<li>第二个形参
<a href="#R-image-3e52e409d7a52eeb8aa7dbf34eaed8f9" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3e52e409d7a52eeb8aa7dbf34eaed8f9"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<ul>
<li>F1系统时钟72MHz,如果使用72MHz访问闪存（Flash）那么是需要等待的，因为闪存的允许最大时钟频率是42MHz,所以需要等待，等待多少个周期需要下图
<a href="#R-image-8b020c4f3b2a20dea1fe86308749be9b" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-13.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8b020c4f3b2a20dea1fe86308749be9b"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-13.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p>6.SYSTEN文件夹</p>
<ul>
<li>sys文件夹
<a href="#R-image-6b2f7a642543cfda3b40c4a9e415547b" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-15.png" alt="sys表" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6b2f7a642543cfda3b40c4a9e415547b"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-15.png" alt="sys表" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="nvic介绍">NVIC介绍</h3>
<h4 id="中断基本概念">中断基本概念</h4>
<p><a href="#R-image-8f5b373fac70756550a1e81aa1250e9d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-17.png" alt="概念" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f5b373fac70756550a1e81aa1250e9d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-17.png" alt="概念" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-fe94551c2a59abe2ab3e3c1f219e1c29" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-18.png" alt="中断表" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fe94551c2a59abe2ab3e3c1f219e1c29"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-18.png" alt="中断表" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="中断向量表">中断向量表</h4>
<p><a href="#R-image-6cfec3309814b7553cd3c0a59c3e7d82" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-16.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6cfec3309814b7553cd3c0a59c3e7d82"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-16.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="文件里的中断在哪里呢">文件里的中断在哪里呢？</h4>
<p>在文件<strong>startup_stm32f10x_hd.s</strong>中这里列出内部中断，外部中断就在内部中断之下，这里不再列出。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>__Vectors       DCD     __initial_sp               ; Top of Stack
</span></span><span style="display:flex;"><span>                DCD     Reset_Handler              ; Reset Handler
</span></span><span style="display:flex;"><span>                DCD     NMI_Handler                ; NMI Handler
</span></span><span style="display:flex;"><span>                DCD     HardFault_Handler          ; Hard Fault Handler
</span></span><span style="display:flex;"><span>                DCD     MemManage_Handler          ; MPU Fault Handler
</span></span><span style="display:flex;"><span>                DCD     BusFault_Handler           ; Bus Fault Handler
</span></span><span style="display:flex;"><span>                DCD     UsageFault_Handler         ; Usage Fault Handler
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     SVC_Handler                ; SVCall Handler
</span></span><span style="display:flex;"><span>                DCD     DebugMon_Handler           ; Debug Monitor Handler
</span></span><span style="display:flex;"><span>                DCD     <span style="color:#ae81ff">0</span>                          ; Reserved
</span></span><span style="display:flex;"><span>                DCD     PendSV_Handler             ; PendSV Handler
</span></span><span style="display:flex;"><span>                DCD     SysTick_Handler            ; SysTick Handler</span></span></code></pre></div><h4 id="中断寄存器">中断寄存器</h4>
<p><a href="#R-image-b9e8760f58457ce9a3f3321feee67ecb" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-20.png" alt="中断寄存器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b9e8760f58457ce9a3f3321feee67ecb"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-20.png" alt="中断寄存器" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="中断原理">中断原理</h4>
<p><a href="#R-image-f210e64c17f699b2bf457d7fd5e61143" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-21.png" alt="原理" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f210e64c17f699b2bf457d7fd5e61143"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-21.png" alt="原理" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="中断优先级">中断优先级</h3>
<p><a href="#R-image-3df09142d2c934a7348be77e9ed151ae" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-22.png" alt="优先级" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3df09142d2c934a7348be77e9ed151ae"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-22.png" alt="优先级" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-a2a507896b852944f6a7d005b95cbc0c" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-23.png" alt="优先级" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a2a507896b852944f6a7d005b95cbc0c"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-23.png" alt="优先级" class="lightbox-image        " loading="lazy"></a>
响应优先级又叫子优先级</p>
<p><strong>中断的抢占优先级由AICR寄存器的后三位控制，而响应优先级由IPRx寄存器的后四位控制</strong>，最终分配结果参考下面的表格
<a href="#R-image-bbe299cfa5e0e80d605c418b84d5638f" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-24.png" alt="表" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bbe299cfa5e0e80d605c418b84d5638f"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-24.png" alt="表" class="lightbox-image        " loading="lazy"></a></p>
<p>中断一般只设置一次，设置多次可能会导致中断紊乱，一般以最后一次的中断设置为准，详细说明参考手册4.4.5</p>
<p>中断执行的顺序：抢占优先级（先执行数值小的）————响应优先级（先执行数值小的）————自然优先级（先执行数值大的）</p>
<h3 id="nvic-的使用">NVIC 的使用</h3>
<hr>
<p><strong>以下笔记皆基于标准库。</strong></p>
<h2 id="标准库中额中断">标准库中额中断</h2>
<p><a href="#R-image-4188a97ba54ccfb5d161a93846c39109" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-25.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4188a97ba54ccfb5d161a93846c39109"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-25.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="extiextern-interrupt外部中断">EXTI（Extern Interrupt）外部中断</h3>
<p>EXTI可以监测指定GPIO口的电平信号，当其指定的GPIO口产生电平变化时，EXTI将立即向NVIC发出中断申请，经过NVIC裁决后即可中断CPU主程序，使CPU执行EXTI对应的中断程序</p>
<p>简而言之，gpio电平发生变化时，申请外部中断。</p>
<ul>
<li><strong>支持的触发方式</strong>：上升沿/下降沿/双边沿/软件触发（<em>引脚没有发生变化，执行一段代码就申请中断</em>）</li>
<li><strong>支持的GPIO口</strong>：所有GPIO口，但相同的Pin不能同时触发中断（<em>如PA1，PB1，PC1不能同时触发中断</em>）</li>
<li><strong>通道数</strong>：16个GPIO_Pin，外加PVD输出、RTC闹钟、USB唤醒、以太网唤醒</li>
<li><strong>触发响应方式</strong>：中断响应/事件响应（<em>事件响应不会触发中断。而是触发别的外设操作。属于外设之间的联合工作</em>）</li>
</ul>
<h3 id="afio复用io口">AFIO复用IO口</h3>
<p>主要用于引脚复用功能的选择和重定义</p>
<p>在STM32中，AFIO主要完成两个任务：</p>
<ul>
<li>复用功能引脚重映射</li>
<li>中断引脚选择
<a href="#R-image-263c0c1503dcb869a8157c4b7753c86d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-26.png" alt="GPIO口中断申请图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-263c0c1503dcb869a8157c4b7753c86d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-26.png" alt="GPIO口中断申请图" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="exti实现代码">EXTI实现代码</h3>
<p>这段代码的中断端口是GPIOB_Pin14，所以需要将相关的传感器接到PB14这个端口</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">CountSensor_Init</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//配置RCC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB2PeriphClockCmd</span>(RCC_APB2Periph_GPIOB,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//AFIO、
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB2PeriphClockCmd</span>(RCC_APB2Periph_AFIO,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//EXTI、一直打开着不用配置打开时钟
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#75715e">//NVIC  一直打开着不用配置打开时钟
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	GPIO_InitTypeDef GPIO_InitStructure;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Mode<span style="color:#f92672">=</span>GPIO_Mode_IPU;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Pin<span style="color:#f92672">=</span>GPIO_Pin_14;
</span></span><span style="display:flex;"><span>	GPIO_InitStructure.GPIO_Speed<span style="color:#f92672">=</span>GPIO_Speed_50MHz;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">GPIO_Init</span>(GPIOB,<span style="color:#f92672">&amp;</span>GPIO_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">GPIO_EXTILineConfig</span>(GPIO_PortSourceGPIOB,GPIO_PinSource14);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//EXTI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	EXTI_InitTypeDef EXTI_InitStructure;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Line<span style="color:#f92672">=</span>EXTI_Line14;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_LineCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Mode<span style="color:#f92672">=</span>EXTI_Mode_Interrupt;
</span></span><span style="display:flex;"><span>	EXTI_InitStructure.EXTI_Trigger<span style="color:#f92672">=</span>EXTI_Trigger_Falling;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">EXTI_Init</span>(<span style="color:#f92672">&amp;</span>EXTI_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//NVIC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	NVIC_InitTypeDef NVIC_InitStructure;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannel<span style="color:#f92672">=</span>EXTI15_10_IRQn;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelSubPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">NVIC_Init</span>(<span style="color:#f92672">&amp;</span>NVIC_InitStructure);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">EXTI15_10_IRQHandler</span>(<span style="color:#66d9ef">void</span>){<span style="color:#75715e">//中断函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">EXTI_GetITStatus</span>(EXTI_Line14)<span style="color:#f92672">==</span> SET){
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">EXTI_ClearITPendingBit</span>(EXTI_Line14);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="定时器">定时器</h2>
<h3 id="timtimer定时器">TIM（Timer）定时器</h3>
<p>定时器可以对输入的时钟进行计数，并在计数值达到设定值时触发中断</p>
<p>16位计数器、预分频器、自动重装寄存器的时基单元，在72MHz计数时钟下可以实现最大59.65s的定时
不仅具备基本的定时中断功能，而且还包含内外时钟源选择、输入捕获、输出比较、编码器接口、主从触发模式等多种功能
根据复杂度和应用场景分为了高级定时器、通用定时器、基本定时器三种类型</p>
<h3 id="使用内部时钟源实现中断标准库中">使用内部时钟源实现中断（标准库中）</h3>
<p>在编写代码前先看看定时器的实现原理图</p>
<ul>
<li>基本定时器
<a href="#R-image-e54d51eea9fc5dcaff0407378f85df22" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-27.png" alt="基本定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e54d51eea9fc5dcaff0407378f85df22"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-27.png" alt="基本定时器" class="lightbox-image        " loading="lazy"></a></li>
<li>通用定时器
<a href="#R-image-3dda0f4337696d547b6e0f5f97310236" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-28.png" alt="通用定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3dda0f4337696d547b6e0f5f97310236"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-28.png" alt="通用定时器" class="lightbox-image        " loading="lazy"></a></li>
<li>高级定时器（红色框出来的部分是高级定时器独有的）
<a href="#R-image-abde81107815dcfe623bfd412d62f6d1" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-29.png" alt="高级定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-abde81107815dcfe623bfd412d62f6d1"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-29.png" alt="高级定时器" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>此处主要参考通用计时器的结构图，下面是基于内部时钟RCC的定时器。</p>
<p>在 <strong>stm32f103xxx_rcc.c</strong> 文件对 <strong>RCC_APB1PeriphClockCmd</strong> 这样的介绍：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">/**
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * @brief  Enables or disables the High Speed APB (APB2) peripheral clock.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  * @param  RCC_APB2Periph: specifies the APB2 peripheral to gates its clock.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *   This parameter can be any combination of the following values:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  *     @arg RCC_APB2Periph_AFIO, RCC_APB2Periph_GPIOA, 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  ……
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  ……
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  ……+
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">  */</span></span></span></code></pre></div><p>specifies the APB2 peripheral to gates its clock.即：指定APB 2外围设备到其时钟门。而这里的时钟门代码里选择了TIM2。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Timer_Init</span>(<span style="color:#66d9ef">void</span>){
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//1.RCC 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">RCC_APB1PeriphClockCmd</span>(RCC_APB1Periph_TIM2,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//2.选择时基单元时钟源，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">TIM_InternalClockConfig</span>(TIM2);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//3.时基单元
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitTypeDef TIM_TimeBaseInitStructure;
</span></span><span style="display:flex;"><span>	TIM_TimeBaseInitStructure.TIM_ClockDivision<span style="color:#f92672">=</span>TIM_CKD_DIV1;		<span style="color:#75715e">//时钟分频，这里是1分频
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_CounterMode<span style="color:#f92672">=</span>TIM_CounterMode_Up;	<span style="color:#75715e">//计数方式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_Period<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;					<span style="color:#75715e">//自动重装值，计数达到这个值后触发中断，然后重新开始计数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_Prescaler<span style="color:#f92672">=</span><span style="color:#ae81ff">7200</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;				<span style="color:#75715e">//预分频，计数频率，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>																	<span style="color:#75715e">//假设计数为1s则自动重装值可设置为10000，预分频可设置为7200，公式为秒数=27MHz/PSC/ARR
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	TIM_TimeBaseInitStructure.TIM_RepetitionCounter<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;				<span style="color:#75715e">//重复计数数器高级定时器才有，这里设置为0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">TIM_TimeBaseInit</span>(TIM2,<span style="color:#f92672">&amp;</span>TIM_TimeBaseInitStructure);				<span style="color:#75715e">//时基单元设置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">TIM_ITConfig</span>(TIM2,TIM_IT_Update,ENABLE);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//4.中断输出控制 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	<span style="color:#a6e22e">NVIC_PriorityGroupConfig</span>(NVIC_PriorityGroup_2);					<span style="color:#75715e">//抢占优先级,0-3， 响应优先级0-3，一个工程只设置一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">//5.NVIC
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>	NVIC_InitTypeDef  NVIC_InitStructure;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannel<span style="color:#f92672">=</span>TIM2_IRQn;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelCmd<span style="color:#f92672">=</span>ENABLE;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>	NVIC_InitStructure.NVIC_IRQChannelSubPriority<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">NVIC_Init</span>(<span style="color:#f92672">&amp;</span>NVIC_InitStructure);
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">TIM_Cmd</span>(TIM2,ENABLE);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">TIM2_IRQHandler</span>(<span style="color:#66d9ef">void</span>){
</span></span><span style="display:flex;"><span>	 <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">TIM_GetITStatus</span>(TIM2,TIM_IT_Update) <span style="color:#f92672">==</span> SET){
</span></span><span style="display:flex;"><span>		Num<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#a6e22e">TIM_ClearITPendingBit</span>(TIM2,TIM_IT_Update);
</span></span><span style="display:flex;"><span>	 }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><h2 id="实现输出比较">实现输出比较</h2>
<h3 id="ocoutput-compare输出比较">OC（Output Compare）输出比较</h3>
<ul>
<li>
<p>输出比较可以通过比较CNT与CCR寄存器值的关系，来对输出电平进行置1、置0或翻转的操作，用于输出一定频率和占空比的<strong>PWM波形</strong></p>
</li>
<li>
<p>每个高级定时器和通用定时器都拥有4个输出比较通道</p>
</li>
<li>
<p>高级定时器的前3个通道额外拥有死区生成和互补输出的功能</p>
</li>
<li>
<p>OC：<strong>输出比较</strong></p>
</li>
<li>
<p>IC：<strong>输入比较</strong></p>
</li>
<li>
<p>CC：<strong>输入/输出比较</strong></p>
</li>
</ul>
<h3 id="pwm波形">PWM波形</h3>
<ul>
<li>PWM（Pulse Width Modulation）脉冲宽度调制，广泛应用于各种电子和电气系统中，用于控制功率转换、电机速度、信号传输等</li>
<li>在具有<a href="%E6%83%AF%E6%80%A7%E7%9A%84%E7%B3%BB%E7%BB%9F">^1</a>中，可以通过对一系列脉冲的宽度进行调制，来等效地获得所需要的模拟参量，常应用于电机控速等领域
<a href="%E4%BE%8B%E5%A6%82%E7%94%B5%E6%9C%BA%E8%BD%AC%E5%8A%A8%E6%9A%82%E5%81%9C%E5%90%8E%E4%B8%8D%E4%BC%9A%E9%A9%AC%E4%B8%8A%E5%81%9C%E6%AD%A2%EF%BC%8C%E8%80%8C%E6%98%AF%E8%BF%87%E4%B8%80%E6%AE%B5%E6%97%B6%E9%97%B4%E6%89%8D%E4%BC%9A%E5%81%9C%E6%AD%A2%E3%80%82">^1</a></li>
<li>PWM参数：
<ul>
<li>频率 = 1 / TS</li>
<li>占空比 = TON / TS</li>
<li>分辨率 = 占空比变化步距
<a href="#R-image-fd18bae84c259cebc06728a5c861f822" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-31.png" alt="PWM" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fd18bae84c259cebc06728a5c861f822"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-31.png" alt="PWM" class="lightbox-image        " loading="lazy"></a>
一些电平变化图可以等效为图中的虚线。
<a href="#R-image-7159c0d368744b540a97e124d2cf87e7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-30.png" alt="信息" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7159c0d368744b540a97e124d2cf87e7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-30.png" alt="信息" class="lightbox-image        " loading="lazy"></a></li>
</ul>
</li>
</ul>
<p><a href="#R-image-d643083dd855ac74361fca4bc1420388" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-33.png" alt="通用定时器结构图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d643083dd855ac74361fca4bc1420388"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-33.png" alt="通用定时器结构图" class="lightbox-image        " loading="lazy"></a>
上图框出来的部分具体如下图：
<a href="#R-image-bd51305b4ade7c3fcd18e3aca80485f6" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-32.png" alt="捕获/比较通道的输出部分" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bd51305b4ade7c3fcd18e3aca80485f6"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-32.png" alt="捕获/比较通道的输出部分" class="lightbox-image        " loading="lazy"></a></p>
<p>在信号通过比较后输出到CC1P，然后再输出到输出使用电路，输出使用电路的OC1可以查看<strong>引脚定义表</strong></p>
<p>在上图中需要注意的一些引文缩写：</p>
<ul>
<li><strong>REF</strong> 是reference的缩写。意思是 <strong>参考信号</strong></li>
</ul>
<h3 id="输出比较的设置">输出比较的设置</h3>
<p>设置的函数为</p>
<p><a href="#R-image-7209dcf8d66024664b55b4ab05807adb" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-34.png" alt="模式" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7209dcf8d66024664b55b4ab05807adb"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-34.png" alt="模式" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="pwm基本结构">PWM基本结构</h3>
<p>配置PWM的时候可以参考下面的图，
<a href="#R-image-12beeac6064d0a4f933dc24d0eb1dd4d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-35.png" alt="结构图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-12beeac6064d0a4f933dc24d0eb1dd4d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-35.png" alt="结构图" class="lightbox-image        " loading="lazy"></a>
图中的参考坐标系图红色线表示CCR的值，蓝色线表示CNT的值，黄色线表示自动重装载值即ARR。
了解了这点后我们再看看PWM的是如何计算的，如下公式</p>
<p><strong>PWM频率：</strong>
[ \text{Freq} = \frac{CKPSC}{(PSC + 1) \times (ARR + 1)} ]
可以看出PWM的频率等于CNT的更新频率</p>
<p><strong>PWM占空比：</strong>
[ \text{Duty} = \frac{CCR}{(ARR + 1)} ]</p>
<p><strong>PWM分辨率：</strong>
[ \text{Reso} = \frac{1}{(ARR + 1)} ]</p>
<h3 id="代码编写">代码编写</h3>
<p><a href="#R-image-15c1803ddeb701a98d5c346b40b841c9" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-36.png" alt="高级定时器" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-15c1803ddeb701a98d5c346b40b841c9"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E7%94%B5%E8%B5%9B/image-36.png" alt="高级定时器" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b5-%E6%AF%94%E8%B5%9B/">B5-比赛</a></li>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%90%8E%E7%AB%AF/">后端</a></li>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
  </ul>
</div>
            </header>
<h1 id="唛盟杯比赛详记">唛盟杯比赛详记</h1>

<h2 id="比赛说明">比赛说明</h2>
<p>自己有幸参加这次唛盟杯的比赛，这次比赛流程如下：</p>
<p>一、报名时2024年1月1到31日本来是12月份但延期了。</p>
<p>二、培训时间，现在还不确定，不过也是可以肯定是年后的事了。</p>
<p>三、项目制作时间3-5月，不知道后面会不会改。</p>
<p>四、项目环境及操作流程</p>
<p>（一）、开发工具</p>
<p>1、要求使用唛盟低代码平台作为开发项目模板<a href="https://gitee.com/maimengcloud/mdp-lcode-ui-web" target="_blank">唛盟低代码平台链接</a>；</p>
<p>2、要求使用唛盟研发管理系统（唛盟xm）进行软件研发项目管理<a href="https://maimengcloud.com/xm/m1/#/login" target="_blank">唛盟研发管理系统链接</a>;</p>
<p>（二）、唛盟xm操作流程</p>
<pre><code>1、先在唛盟xm中建立一个产品，产品名称为“知识产权流程管理系统”；
2、细化产品需求；
3、由产品派生一个项目，构建项目团队；
4、由需求派生项目任务，并确定任务执行人、计划完成时间等；
5、编制测试用例，建立测试计划，执行测试；
6、出具项目报告，提交结项申请。
</code></pre>
<p>（三）、代码提交</p>
<p>官方提供代码库链接，我们下载后，在该代码库基础上进行开发、提交代码。</p>
<h2 id="比赛题目">比赛题目</h2>
<h3 id="一项目主题">一、项目主题</h3>
<p>知识产权流程管理系统</p>
<p>二、项目描述</p>
<p>该系统用于知识产权项目申报的全过程跟踪管理，其功能包括：</p>
<ul>
<li>客户下单、</li>
<li>提交申请、</li>
<li>申请反馈、</li>
<li>订单查询、</li>
<li>订单详情、</li>
<li>文档查阅下载等六大部分。</li>
</ul>
<p>该系统分为客户端和管理端两个子系统。客户端对客户开放，主要功能包括：</p>
<ul>
<li>客户下单、</li>
<li>付款、</li>
<li>订单查询、</li>
<li>订单进度消息推送（推送到公众号、网站内部消息）、</li>
<li>文档查阅下载等。</li>
</ul>
<p>管理端对管理人员开放，不对客户开放，负责订单管理、文档上传（批量上传）等。</p>
<h3 id="三项目需求">三、项目需求</h3>
<p>（一）、用户端</p>
<p>个人中心模块：</p>
<p>1、订单查询</p>
<p>分为我的订单（综合查询）及商标、专利、版权、科技项目四大子类查询，订单查询按全部业务下单时间顺列。</p>
<p>订单查询功能大致效果图：
<a href="#R-image-2782e4b4c442de392bc0b4cd9d09e2e2" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image.png" alt="订单查询" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2782e4b4c442de392bc0b4cd9d09e2e2"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image.png" alt="订单查询" class="lightbox-image        " loading="lazy"></a></p>
<p>2、订单详细</p>
<p>可根据订单详情按钮跳转到对应的订单详情。
<a href="#R-image-521d7a36c39f0a7eac2bec9cb65cf06c" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-1.png" alt="订单详细" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-521d7a36c39f0a7eac2bec9cb65cf06c"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-1.png" alt="订单详细" class="lightbox-image        " loading="lazy"></a>
订单详情页展示图：
<a href="#R-image-c2913eccdd03c877b9420f77d81cd19a" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-2.png" alt="订单详情页" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c2913eccdd03c877b9420f77d81cd19a"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-2.png" alt="订单详情页" class="lightbox-image        " loading="lazy"></a></p>
<p>（二）、管理端</p>
<p>订单管理模块：</p>
<p><strong>1、订单查询</strong></p>
<p>查询订单，展示列表。</p>
<p><strong>2、订单详细</strong></p>
<p>在订单列表中点击某个订单，进入订单详情。</p>
<p><strong>3、文档上传</strong></p>
<p>在订单详情页，点击文档上传，选中本地文件，上传本地文件到服务器，支持批量、单文件上传。</p>
<h2 id="注册唛盟账号">注册唛盟账号</h2>
<h3 id="队长和队员注册账号">队长和队员注册账号</h3>
<p>一、扫描一级部门的二维码</p>
<p>这一部分只建议参加了比赛的网友查看。本次是组队参加，一队3-5人，队长要在他们的官方网页端注册号团队（二级部门），方便后面的项目管理，然后再通过一级部门添加自己的团队，首先是扫描官方给的二维码，扫这个二维码后注册就会在一级部门下，这也是要注册在一级部门之下的办法，</p>
<p>二、授权登录成功后，跳转到提示页面，点击“首页”</p>
<p><a href="#R-image-5b82c6c1cd6f20e27f34a78101066c13" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-3.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5b82c6c1cd6f20e27f34a78101066c13"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-3.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-835ea4577f966ee2b6b3d22e5d6ec52b" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-4.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-835ea4577f966ee2b6b3d22e5d6ec52b"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-4.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>三、进入低代码平台首页，按照提示，点击“账户明细”</p>
<p>四、按照提示，输入姓名，并提交</p>
<p>五、点击唛盟低代码平台官网，选择微信扫码登录</p>
<p>唛盟低代码平台官网：https://maimengcloud.com/lcode/m1/#/login</p>
<p>六、看到用户名称是自己的即报名成功</p>
<h3 id="队长注册团队">队长注册团队</h3>
<h4 id="1要求">1要求</h4>
<pre><code>1.构建每个参赛团队的独立部门
2.将参赛队员拉入部门
3.给每个参赛队员设置好岗位
</code></pre>
<h4 id="2相关环境">2相关环境</h4>
<p><a href="https://maimengcloud.com/lcode/m1/" target="_blank">唛盟账户系统</a></p>
<h4 id="3操作步骤">3操作步骤</h4>
<p>3.1 在一级部门，即总部下建立子部门</p>
<p>进入【部门管理】，点击【添加下级】</p>
<p>3.2输入部门信息</p>
<ul>
<li>部门名称要求：以参赛团队名称作为部门名称</li>
<li>上级领导选：一级部门</li>
<li>部门负责人：选参赛团队组长</li>
<li>部门性质：技术部门</li>
<li>协作类型：内部组织</li>
</ul>
<p>其它字段不填</p>
<p>（如果你不是第一届比赛的同学，那这个不需要关注，可能每年都不一样）</p>
<p>3.3保存提交</p>
<p>3.4把岗位挂接到部门上</p>
<p>【部门管理】中找到刚才建立的部门，点击【岗位】按钮弹出以下岗位选择框：</p>
<p>选择左边需要绑定的岗位，移动到右边，点击【提交】按钮即完成岗位绑定（如果没有显示岗位，多次刷新，或者退出重新登录，这个知识第一届遇到此问题解决的方案）</p>
<p>3.5把用户拉入部门</p>
<p>打开【用户管理】菜单，先把自己的搜索出来，如果不是通过一级部门的二维码注册的，会搜不到的哦。找到需要拉入的队友，点击【部门/岗位】</p>
<p>弹出以下部门岗位选择界面：</p>
<p>在弹出的界面中左边选中归属的部门，右边选中岗位，再【提交】即可</p>
<p>这部分本来也不想记了，毕竟没什么用了，可能下一届又不一样了，但想想自己记一下当作回忆也可以。</p>
<h2 id="安装git和nodejs">安装git和nodejs</h2>
<p>在安装前我们通过这个链接<code>https://gitee.com/maimengcloud/mdp-lcode-ui-web</code>去看看这个项目的介绍，</p>
<p><a href="#R-image-dbd0686f952704a49a2c0a080e090821" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dbd0686f952704a49a2c0a080e090821"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>大概浏览一下，然后往下拉根据导航直接跳到 <strong>快速开始</strong></p>
<p><a href="#R-image-b8d25ab0c265872f074ec7a31049ac61" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-7.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b8d25ab0c265872f074ec7a31049ac61"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-7.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>这里并不是说其他的不重要，只是说对于一个项目而言如果不是涉及本地启动的话不必花费时间去纠结，等你能让项目在本地启动后再回来看看也不迟，当然这也有弊端，可能会错一些细节哈。</p>
<p>在快速开始的地方提到：</p>
<hr>
<p>注意：该项目使用 <a href="mailto:element-ui@2.3.0">element-ui@2.3.0</a>+ 版本，所以最低兼容 <a href="mailto:vue@2.5.0">vue@2.5.0</a>+ nodejs版本v14.16.1</p>
<hr>
<p>所以我们安装的时候要注意版本的问题尽量不要选太高的，如果你已经安装了一部分或全部，而且版本很高或很低，这样也不必太担心（大不了删掉重新安装，哈哈），下面是我的一些经验，希望帮到你。</p>
<h3 id="git的安装">git的安装</h3>
<p>这部分没有太多可讲的，网上有很多的教程，讲的也很好，这里需要你记住的一条命令是：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git"> git clone &lt;远程仓库地址&gt;  &lt;本地存放目录&gt;</code></pre></div><p>这里举个例子，就比如这次比赛用到的这个项目,我们建一个文件夹装要下载的项目，比如是mdp文件夹，然后右键，win11选显示更多，在弹出的选项选择： <strong>git bash here</strong></p>
<p><a href="#R-image-142696a23dc3caf945c9d91d47e7f89d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-142696a23dc3caf945c9d91d47e7f89d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>然后复制下面的内容回车就可以了。</p>
<hr>
<p>git clone <a href="https://gitee.com/maimengcloud/mdp-lcode-ui-web.git" target="_blank">https://gitee.com/maimengcloud/mdp-lcode-ui-web.git</a>  mdp-lcode-ui-web/</p>
<hr>
<p>但是有的时候也会因为网速的问题，导致无法下载，比如回车后报错，如下:</p>
<hr>
<p><a href="#R-image-7a2283311f8df011023d47194b5f5e18" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-13.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7a2283311f8df011023d47194b5f5e18"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-13.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
Cloning into &lsquo;mdp-lcode-ui-web&rsquo;&hellip;
fatal: unable to access &lsquo;<a href="https://gitee.com/maimengcloud/mdp-lcode-ui-web.git/%27" target="_blank">https://gitee.com/maimengcloud/mdp-lcode-ui-web.git/'</a>: Failed to connect to 127.0.0.1 port 26501 after 2017 ms: Couldn&rsquo;t connect to server</p>
<hr>
<p>简单翻译理解就是这个远程仓库无法访问，其实这也是使用让我比较烦恼的问题，这里的原因我可能没办法给你讲清楚（你有时间可以去琢磨哈），但有个软件可以分享给你，帮你解决这个问题，即 <strong>watt toolkit</strong> ,而且这个软件在微软软件商城就有。</p>
<p><a href="#R-image-6ea005c41618512496bd322ead526b07" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6ea005c41618512496bd322ead526b07"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>下载后选github，然后点击一键加速。</p>
<p><a href="#R-image-3983a4047cdc72ea725926c79ec2da24" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-10.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3983a4047cdc72ea725926c79ec2da24"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-10.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-78594de8580224523ee2e269304a6382" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-11.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-78594de8580224523ee2e269304a6382"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-11.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>然我们再回到git base here，再次输入刚才的命令回车，</p>
<p><a href="#R-image-119e0b8aff2b8cadb0750b6e6b429809" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-12.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-119e0b8aff2b8cadb0750b6e6b429809"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-12.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>发现刚才的代码仓库已经下载到本地了。</p>
<p><a href="#R-image-67e1709827bb9b8d8974fb63be08e899" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-67e1709827bb9b8d8974fb63be08e899"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>如果你使用上面的软件还是无法下载远程的仓库，那你需要根据报错信息在网上查考相关的信息，这里提供上面报错的可能解决方案，只是针对上面的问题哦！<a href="https://cloud.tencent.com/developer/article/2108855" target="_blank">参照文章</a></p>
<h3 id="安装node">安装node</h3>
<p>网上可能称为nodejs都是一个工具，这个工具的简介还请参照官方，这里我们有做过多的了解哦。在安装node之前我们要先安装nvm。这是一个管理node的工具，这里安装的主要目的是 <strong>升高或降低node版本</strong>，简单就是想安装哪个版本（已发布且可下载的版本）的可以用这个工具来实现。</p>
<p>nvm是否要安装取决于你的情况，除了nvm，此次项目还需要安装工具node，vue，mvn。</p>
<p>方案一：为防止版本过高过低影响运行，以后可能还需要，最好是下载nvm管理node，然后也要了解升级或降低vue版本的方法，最后下载mvn；</p>
<p>方案二：自己不管安装还是没安装，直接安装node，vue，mvn，本次项目用到的node，vue，mvn都在package.json文件里定义写好了，运行后会根据里面去下载，似乎对项目没太大影响（因为我工具处于最高版本，或是相对低一点的版本，使用相同的命令，报错都是一个，基于这点你可以尝试。）</p>
<h2 id="方案一">方案一</h2>
<h3 id="安装nvm">安装nvm</h3>
<p><a href="https://blog.csdn.net/HuangsTing/article/details/113857145" target="_blank">参照文档</a> 关于文章的几点说明：</p>
<ul>
<li>登录github的时候记得开watt toolket;</li>
<li>如果nvm下载不了要刷新或者退出重新进入，多试几次；</li>
<li>基于本次的项目我们只看文章的一——四，五往后有时间就了解一下就好了；</li>
</ul>
<p>里面的 <strong>三、配置路径和下载源</strong>我们需要把淘宝镜像改为如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>    node_mirror: https://cdn.npmmirror.com/binaries/node/
    npm_mirror: https://cdn.npmmirror.com/binaries/npm/</code></pre></div><p>这是因为淘宝的镜像换了。</p>
<p>接着<a href="https://blog.csdn.net/ZHANGYANG_1109/article/details/121229581" target="_blank">参照文章</a>，目的是node还要做一些配置，主要node的环境变量设置，还有目录<code>node_cache</code>和目录<code>node_global</code>的一些设置。从文章的下图开始看，关于node的下载就不看了。
<a href="#R-image-76d13d1df86ad0405b7bf6ca42b095b5" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-15.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-76d13d1df86ad0405b7bf6ca42b095b5"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-15.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>注意在设置目录<code>node_cache</code>和目录<code>node_global</code>时，</p>
<hr>
<p>npm config set prefix &ldquo;&lt;自己的文件目录&gt;\node_global&rdquo;
npm config set cache &ldquo;&lt;自己的文件目录&gt;\node_cache&rdquo;</p>
<hr>
<p>这两个路径时要记得把它改成自己安装的路径：</p>
<h3 id="安装指定的vue版本">安装指定的vue版本</h3>
<h4 id="情况一你没安装过vue">情况一：你没安装过vue</h4>
<p>首先你要先安装好node，然后用node的npm工具安装vue。</p>
<p>使用命令查看可安装版本：</p>
<hr>
<p>要查看的vue版本是1.x和2.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">view</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span> <span style="color:#a6e22e">versions</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">json</span></span></span></code></pre></div><hr>
<p>要查看的vue版本是3.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">view</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span> <span style="color:#a6e22e">versions</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">json</span></span></span></code></pre></div><p><strong>安装vue指定的版本</strong>：</p>
<hr>
<p>安装的vue版本是1.x和2.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">install</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">add</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span></span></span></code></pre></div><hr>
<p>要查看的vue版本是3.x的</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span>    <span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">install</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">add</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span><span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">版本号</span></span></span></code></pre></div><p><strong>第一次安装要去配环境变量。</strong></p>
<h4 id="情况二你安装过vue">情况二：你安装过vue</h4>
<p>卸载已经安装的Vue Cli</p>
<hr>
<p>卸载 3.x 或 4.x 版本的Vue Cli</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">uninstall</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">remove</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">vue</span><span style="color:#f92672">/</span><span style="color:#a6e22e">cli</span></span></span></code></pre></div><hr>
<p>卸载 1.x 或 2.x 版本的Vue Cli</p>
<hr>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-vue" data-lang="vue"><span style="display:flex;"><span><span style="color:#a6e22e">npm</span> <span style="color:#a6e22e">uninstall</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span> <span style="color:#f92672">-</span><span style="color:#a6e22e">g</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">yarn</span> <span style="color:#a6e22e">global</span> <span style="color:#a6e22e">remove</span> <span style="color:#a6e22e">vue</span><span style="color:#f92672">-</span><span style="color:#a6e22e">cli</span></span></span></code></pre></div><p>重复情况一的步骤，然后打开cmd，输入：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>vue -V</span></span></code></pre></div><p>显示安装的版本则说明安装完成。</p>
<p><a href="https://blog.csdn.net/milijiangjun/article/details/108004669" target="_blank">原文章链接</a></p>
<h3 id="安装mvnmaven工具">安装mvn（Maven）工具</h3>
<p>直接参照<a href="https://blog.csdn.net/u012660464/article/details/114113349" target="_blank">这个文章</a>就好了。</p>
<h2 id="方案二">方案二</h2>
<h2 id="安装node和vue">安装node和vue</h2>
<p><a href="https://blog.csdn.net/zhouyan8603/article/details/109039732" target="_blank">参照文章</a>，同样的里面涉及到镜像文件的设置要注意换掉：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>    node_mirror: https://cdn.npmmirror.com/binaries/node/
    npm_mirror: https://cdn.npmmirror.com/binaries/npm/</code></pre></div><p>除此之外在设置目录<code>node_cache</code>和目录<code>node_global</code>这两个路径时要记得把它改成自己安装的路径：</p>
<hr>
<p>npm config set prefix &ldquo;&lt;自己的文件目录&gt;\node_global&rdquo;
npm config set cache &ldquo;&lt;自己的文件目录&gt;\node_cache&rdquo;</p>
<hr>
<h2 id="安装mvn">安装mvn</h2>
<p>直接参照<a href="https://blog.csdn.net/u012660464/article/details/114113349" target="_blank">这个文章</a>就好了。</p>
<p>至此工具就就安装完了，接着我们就要去启动项目了。</p>
<h2 id="本地启动项目">本地启动项目</h2>
<p>本次使用的系统是win11和code应用程序，如果你用的不是这个系统和应用程序情况可能不一样哈。</p>
<h3 id="根据项目的简介开始运行项目">根据项目的简介开始运行项目</h3>
<p>这里我使用的是code应用程序（你如果用的是别的应用程序另说咯），点击文件夹用code打开后，根据项目文档执行命令：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code>    npm install</code></pre></div><p>结果…………………………报错啦（我就知道没这么简单）！！！错误如下：</p>
<p><a href="#R-image-ec76863993b5d8a2c66082111ef0e527" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/d997475b8182542e064b2551579b0f2.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ec76863993b5d8a2c66082111ef0e527"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/d997475b8182542e064b2551579b0f2.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>上面的报错意思是：在尝试安装项目依赖时，npm遇到了依赖冲突问题。具体来说，babel-loader需要webpack的版本在2、3或4之间，但是你的项目中已经安装了webpack的5.90.1版本。这导致了peer依赖冲突，因为babel-loader期望的webpack版本与实际安装的版本不匹配，</p>
<p><strong>解决办法如下：</strong></p>
<p>1.查看自己的node版本；</p>
<pre><code>```
node -v
```
</code></pre>
<p><a href="#R-image-8f0ccaedeefee1ac3cdf1fdedffd82e7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-16.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8f0ccaedeefee1ac3cdf1fdedffd82e7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-16.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>2.修改&quot;package.json&quot;，在&quot;devDependencies&quot;中增加&quot;node&quot;: &ldquo;^21.6.1&quot;依赖；</p>
<pre><code>```
&quot;node&quot;:&quot;^21.6.1&quot;,
```
</code></pre>
<p><a href="#R-image-df350310b14f467fe3d90f4bc85a1e7d" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-17.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-df350310b14f467fe3d90f4bc85a1e7d"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-17.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>3.npm install -s <a href="mailto:node-sass@4.14.1">node-sass@4.14.1</a>;</p>
<p>4.npm install &ndash;save &ndash;legacy-peer-deps;</p>
<pre><code>结果……………………报错啦！！！！！
</code></pre>
<p><a href="#R-image-557c54135dd5808216c4b07862ca00b1" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-18.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-557c54135dd5808216c4b07862ca00b1"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-18.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>修改&quot;package.json&quot;，原来的改为&quot;node&quot;: &quot;^13.14.0&quot;依赖；

再次运行结果没报错。
</code></pre>
<p>5.npm install &ndash;registry=https://cdn.npmmirror.com</p>
<pre><code>接着我们运行如下代码 `npm install --registry=https://cdn.npmmirror.com`
</code></pre>
<p>6.npm run dev</p>
<pre><code>运行npm run dev，结果还是报错了……
</code></pre>
<p><a href="#R-image-141381c2e7a769769457f63274d7b4e7" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-19.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-141381c2e7a769769457f63274d7b4e7"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-19.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>这里的错误说vue-template-compiler的版本为2.7.16，那我们就去&quot;package.json&quot;找到vue，

原来的vue版本：
</code></pre>
<p><a href="#R-image-3f5e89fba30e85fff276fae9e98913e9" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-20.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3f5e89fba30e85fff276fae9e98913e9"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-20.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>把上面的修改为`&quot;vue&quot;:&quot;^2.7.16&quot;,`

这时候要重新运行 `npm install --save --legacy-peer-deps`,然后再次运行 `npm run dev`;

结果还是报错，如下：
</code></pre>
<p><a href="#R-image-d41c4dbbd48aec7cf7df2498a707e2b6" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-21.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d41c4dbbd48aec7cf7df2498a707e2b6"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-21.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>大概意思是没有找到ajv这个包，那么我们在&quot;package.json&quot;里的 **&quot;dependencies&quot;** 添加`&quot;ajv&quot;: &quot;^8.12.0&quot;,`
然后重复`npm install --save --legacy-peer-deps`, `npm run dev`操作就可以了。

显示如下：
</code></pre>
<p><a href="#R-image-72b1813d18cee837c185c52b396c28f6" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-22.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-72b1813d18cee837c185c52b396c28f6"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-22.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>我们再看看页面，页面如下：
</code></pre>
<p><a href="#R-image-7ec302062a8d2697dfa4f2cce9d0ff43" class="lightbox-link"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-23.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7ec302062a8d2697dfa4f2cce9d0ff43"><img src="./branch-bundle-1/12.%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE/%E5%94%9B%E7%9B%9F%E6%9D%AF%E9%A1%B9%E7%9B%AE%E9%94%99%E8%AF%AF%E8%AE%B0%E5%BD%95/image-23.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<pre><code>到这里说明没问题了。
</code></pre>
<p>从上面我们可以了解到一点，自己安装的版本似乎并不会影响项目的运行，所以选择方案二来进行安装似乎更简单，但从往长远的看方案一更更好，他可以随时换版本，更为方便。</p>
<p><a href="https://www.cnblogs.com/happyfuns/p/16774117.html" target="_blank">原文章链接</a></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b5-%E6%AF%94%E8%B5%9B/">B5-比赛</a></li>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 13</div>
<h1 id="13计算机组成原理">13.计算机组成原理</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%BF%87%E5%B9%B4/">过年</a><p></p></li>
<li><a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/">计算机组成原理-复习</a><p>1 计算机系统概论 计算机的分类 计算机总体上分为：电子模拟计算机1和电子数字计算机。二者区别如下表 比较内容 电子数字计算机 电子模拟计算机 数据表示方</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">13.计算机组成原理 的子部分</h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 1</div>
<h1 id="过年">过年</h1>


<ul class="children children-li children-sort-">
	
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/r-%E8%BD%AF%E7%A1%AC%E4%BB%B6/">R-软硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="计算机组成原理-复习">计算机组成原理-复习</h1>

<h2 id="1-计算机系统概论">1 计算机系统概论</h2>
<h3 id="计算机的分类">计算机的分类</h3>
<p>计算机总体上分为：电子模拟计算机<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>和电子数字计算机。二者区别如下表</p>
<table>
<thead>
<tr>
<th>比较内容</th>
<th>电子数字计算机</th>
<th>电子模拟计算机</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据表示方法</td>
<td>0或1</td>
<td>电压</td>
</tr>
<tr>
<td>计算方式</td>
<td>数字计算</td>
<td>电压组合和测量值</td>
</tr>
<tr>
<td>控制方式</td>
<td>程序控制</td>
<td>盘上连线</td>
</tr>
<tr>
<td>精度</td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td>数据存储量</td>
<td>大</td>
<td>小</td>
</tr>
<tr>
<td>逻辑计算能力</td>
<td>强</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="计算机的五代变化">计算机的五代变化</h3>
<ul>
<li>第一代1946~1957年， <strong>数据处理</strong> 得到应用；</li>
<li>第二代1958~1964年， <strong>工业控制</strong> 开始得到应用；</li>
<li>第三代1965~1971年， <strong>小型计算机</strong>开始出现；</li>
<li>第四代1972~1990年， <strong>微型计算机</strong> 开始出现；</li>
<li>第五代1991年开始， <strong>单片机</strong> 开始出现</li>
</ul>
<h3 id="计算机的性能指标">计算机的性能指标</h3>
<p><strong>处理机字长</strong> 指处理机运算其中一次能工处理的二进制数运算的位数，例如32位，64位。
<strong>存储器带宽</strong> 单位时间内从存储器独处的二进制数信息量，一般用 <strong>字节数/秒</strong>表示。</p>
<h2 id="2-运算方法和运算器">2 运算方法和运算器</h2>
<p><strong>注：</strong></p>
<ol>
<li>掌握各进制之间的转换；</li>
<li>掌握小数点之间的二进制与十进制之间的转换；</li>
</ol>
<h3 id="二进制纯小数或纯整数表示方法">二进制纯小数或纯整数表示方法</h3>
<ul>
<li>二进制纯小数： <strong>0.10101</strong> 或 <strong>1.10101</strong>，0或1表示正负号，在正负号后面，在实际中计算机并不存储小数点；</li>
<li>二进制纯整数： <strong>10101.</strong>，同样纯整数也用0或1区分正负号。
用Xn-1表示二进制数的个数，Xn表示符号位，如下：
<table>
<thead>
<tr>
<th style="text-align:center">Xn</th>
<th style="text-align:center">Xn-1……X0</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">符号</td>
<td style="text-align:center">量值（尾数）</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>纯小数表示范围： <strong>
<span class="math align-center">$0<=|x|<=1-2^{-n} $</span></strong>
纯整数表示范围： <strong>
<span class="math align-center">$0<=|x|<=2^{-n} - 1$</span></strong></p>
<h3 id="浮点数表示方法">浮点数表示方法</h3>
<p>电子质量(克)： 9×10^28 = 0.9×10^27
太阳质量(克)： 2×10^33 = 0.2×10^34</p>
<p>任意十进制数 <strong>N</strong> 可以表示为：</p>

<span class="math align-center">$$N=10^E \cdot M$$</span><p>同样在二进制中也有这样类似的表达：</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>在二进制浮点数表达中：</p>
<ul>
<li>尾数：M，是一个纯小数；</li>
<li>比例因子：e，表示指数，常用整数表示，也称为 <strong>阶码</strong> ；</li>
<li>基数：式子中的2</li>
</ul>
<p>二进制浮点数格式：</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$E_s$</span></th>
<th style="text-align:center">
<span class="math align-center">$E_m-1…E_1 E_0$</span></th>
<th style="text-align:center">
<span class="math align-center">$M_s$</span></th>
<th style="text-align:center">
<span class="math align-center">$M_m-1…M_1 M_0$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">阶符</td>
<td style="text-align:center">阶码</td>
<td style="text-align:center">数符</td>
<td style="text-align:center">尾数</td>
</tr>
</tbody>
</table>
<p><strong>IEEE754标准</strong>格式表示浮点数</p>
<p><strong>知识储备：</strong> 
<span class="math align-center">$\frac{1}{2^0}=1$</span>,
<span class="math align-center">$\frac{1}{2^1}=0.5$</span>,
<span class="math align-center">$\frac{1}{2^2}=0.25$</span>,
<span class="math align-center">$\frac{1}{2^3}=0.125$</span>,
<span class="math align-center">$\frac{1}{2^4}=0.0625$</span>,
<span class="math align-center">$\frac{1}{2^5}=0.03125$</span></p>
<p>浮点数表示：</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>浮点数所占位数：</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$S$</span></th>
<th style="text-align:center">
<span class="math align-center">$E$</span></th>
<th style="text-align:center">
<span class="math align-center">$M$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">
<span class="math align-center">$31$</span></td>
<td style="text-align:center">
<span class="math align-center">$30 \gets 23$</span></td>
<td style="text-align:center">
<span class="math align-center">$22 \gets 0$</span></td>
</tr>
</tbody>
</table>
<ul>
<li>基数R=2，基数固定，采用隐含方式来表示它。</li>
<li>32位的浮点数：
<ul>
<li>S数的符号位，1位，在最高位，“0”表示正数，“1”表示负
数。</li>
<li>M是尾数， 23位，在低位部分，采用纯小数表示,不对小数点进行存储；</li>
<li>E是阶码，8位，也就是说阶码最大不超过255，但阶码采用移码表示
<span class="math align-center">$E=2^{7}+e=127+e$</span>，原因是移码比较大小方便。</li>
<li>规格化： 若不对浮点数的表示作出明确规定，同一个浮点数的表示就不是惟一的，所以一般都会规定这个浮点数的位数
<ul>
<li>尾数域最左位(最高有效位)总是1， 故这一位经常不予存储，而认为隐藏在小数点的左边。</li>
<li>采用这种方式时，将浮点数的指数真值e变成阶码E时，应将指数e加上一个固定的偏移值127(01111111)，即E=e+127。如果是二进制转真值就E=e-127</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>下面举两个例子进行说明：</p>
<p><strong>例1：二进制转十进制</strong>若浮点数x的754标准存储格式为(41360000)16，求其浮点数的十进制数值。</p>
<p>解：将16进制数展开后，可得二制数格式为</p>
<p>0 100 00010 011 0110 0000 0000 0000 0000</p>
<p>符号S=0</p>
<p>阶码E=100 00010</p>
<p>尾数M=011 0110 0000 0000 0000 0000</p>
<p>指数e=E-127=10000010-01111111=00000011=
<span class="math align-center">$(3)_10$</span>，故有</p>
<p>1.M=1.011 0110 0000 0000 0000 0000=1.011011</p>
<p>于是有</p>

<span class="math align-center">$x=(-1)S \times 1.M \times 2^e=+(1.011011)  \times 2^3=+1011.011=(11.375)_10$</span>
<p><strong>问：</strong> 0.011怎么转成0.375？</p>
<p>根据上面的知识储备有
<span class="math align-center">$ \frac{1}{2^0}\times 0 + \frac{1}{2^1}\times 1 +\frac{1}{2^2}\times 1=0+0.25+0.125=0.375 $</span></p>
<p><strong>例2：十进制转二进制</strong>若浮点数为
<span class="math align-center">$(28.8125)_10$</span>，求其浮点数的IEEE754标准存储格式的二进制数值。</p>
<p>解：
<span class="math align-center">$(28.8125)_10$</span>=
<span class="math align-center">$(11100.1101)_2$</span></p>
<p>格式化表示为：
<span class="math align-center">$(11100.1101)_2=1.11001101 \times 2^4$</span></p>
<p>于是有</p>
<p>e=4</p>
<p>E=e+127=4+127=131=
<span class="math align-center">$(1000 0011)_2$</span></p>
<p>M=1100 1101 0000 0000 0000 000（去掉小数点和小数点前的1，而且有23位，不够补0）</p>
<p>S=0</p>
<p>IEEE754标准的32为存储数据位：0 1000 0011 1100 1101 0000 0000 0000 000</p>
<h3 id="数的机器码表示">数的机器码表示</h3>
<p>计算机进行运算时，会把符号位和数字一起编码表示为相应的数，这些数可以用不同的方法表示，例如：原码、补码、移码、反码；</p>
<p>为了区别一般写的数（比如-12，+3等）和机器中的编码（比如 <em><strong>0</strong></em> 1100,<strong>1</strong> 0011），通常前者称之为 <strong>真值</strong>，后者称为 <strong>机器数</strong> 或 <strong>机器码</strong> 。</p>
<p>
<span class="math align-center">$[x]_原$</span>表示机器数，x表示真值。</p>
<p>例如：</p>
<p>
<span class="math align-center">$x=+0011$</span>，
<span class="math align-center">$[x]{_原}=\textbf{0}0011$</span></p>
<p>
<span class="math align-center">$x=-0011$</span>，
<span class="math align-center">$[x]{_原}=\textbf{1}0011$</span>，</p>
<p>原码机器中有“+0”“-0”之分，固有两种形式：例如：
<span class="math align-center">$[x]{_原}$</span>与
<span class="math align-center">$\textbf{1}0011$</span>表达的意思一样。</p>
<p>数学上把类似于
<span class="math align-center">$-3=+9 (mod12)$</span>的式成为 <strong>同余式</strong>。</p>
<h4 id="原码反码补码移码">原码、反码、补码、移码</h4>
<p>对原码、反码、补码、移码的简单说明，已知计算机为4位，x=-3.</p>
<table>
<thead>
<tr>
<th style="text-align:center">例子</th>
<th style="text-align:center">表示方法</th>
<th style="text-align:center">二进制</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">原码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_原}$</span>=<strong>0</strong>0011</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">反码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_反}$</span>=<strong>0</strong>1100</td>
<td style="text-align:center">按位取反</td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">补码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_补}$</span>=<strong>0</strong>1101</td>
<td style="text-align:center">反码最低位加1，注意这个时候符号还是1</td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">移码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_移}$</span>=<strong>1</strong>,1101</td>
<td style="text-align:center">
<span class="math align-center">$[e]{_移}=2^{k}+e=2^4-0011=0,1101$</span></td>
</tr>
</tbody>
</table>
<p>对于正数来说，前三个都一样，重点说明移码：</p>
<p>定点整数定义 
<span class="math align-center">$[e]{_移}=2^{k}+e,  2^k >e≥-2^k$</span></p>
<p>上面的表达式中，
<span class="math align-center">$[e]{_移}$</span>表示机器码，e为真值，
<span class="math align-center">$2^k$</span>表示固定偏移常量。</p>
<p>已知e=+0011,k=4，
<span class="math align-center">$[e]{_移}=2^{k}+e=2^{4}+0011=1,0011$</span></p>
<p>已知e=-0011,k=4，
<span class="math align-center">$[e]{_移}=2^{k}+e=2^{4}-0011=0,1101$</span></p>
<p>移码中的逗号不是小数点，而是表示左边一位是符号位，显然移码中符号位与前三者的表示相反（<strong>详见P21</strong>）。</p>
<p>下面请看例题：</p>
<p>已知计算机是8位的，请分别写出纯整数125，-110，纯小数+0.125，-0.375；二进制数x=11011,y=-01010的原码、反码、补码、移码。（注意格式，要对齐）</p>
<table>
<thead>
<tr>
<th style="text-align:center">表示方法</th>
<th style="text-align:center"></th>
<th style="text-align:center">表示方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+125=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">-110=<strong>1</strong>0011 1011</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>0011 1011</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>1100 0100</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>1100 0101</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1100 0100</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">+0.125=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">-0.357=<strong>1</strong>.0110 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>.0110 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>.1001 1111</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>.1010 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1010 0000</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">x=11011</td>
<td style="text-align:center"></td>
<td style="text-align:center">-110=-01010</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>0000 1010</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>1111 0101</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>1111 0111</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1111 0111</td>
</tr>
</tbody>
</table>
<h3 id="定点加法减法运算">定点加法、减法运算</h3>
<p><strong>公式</strong>
补码加法：任意两数补码之和等于两数之和的补码，
<span class="math align-center">$[x]{_补}+[y]{_补}=[x+y]{_补}$</span></p>
<p>补码减法：
<span class="math align-center">$[x-y]{_补}=[x]{_补}-[y]{_补}=[x]{_补}+[-y]{_补}$</span></p>
<p>从
<span class="math align-center">$[y]{_补}$</span>求
<span class="math align-center">$[-y]{_补}$</span>的法则是对
<span class="math align-center">$[y]{_补}$</span>包括符号位在内求反，最低位加1得到表达式为：</p>

<span class="math align-center">$[-y]{_补}=\rightharpoondown [y]{_补}+2^{-n}$</span>
<p>其中，符号
<span class="math align-center">$\rightharpoondown$</span>表示对
<span class="math align-center">$[y]{_补}$</span>作求反操作，包括正负号在内，
<span class="math align-center">$2^{-n}$</span>表示末位（最低位）加1.</p>
<p>下面举例加以理解运算过程：</p>
<p>（ <strong>详见P29</strong> ）</p>
<h3 id="溢出概念与检验方法">溢出概念与检验方法</h3>
<p>在定点整数机器中，运算过程中出现大于字长绝对值的现象称为 <strong>溢出</strong>，溢出分正、负溢出两种，用两位符号位表示， <strong>00</strong>、<strong>11</strong>分别表示整数和负数，<strong>01</strong>表示正溢出，<strong>10</strong> 表示负溢出。</p>
<p><strong>详细说明原理：</strong> 假设x表示二进制数，用
<span class="math align-center">$2^{-n}<x<2^{+n}$</span>表示二进制数的范围，当n=4时，说明二进制最多4为，两个4位二进制运算结果如果为5位则说明溢出，要判断是什么溢出参照上面的方法。</p>
<h3 id="定点乘法运算">定点乘法运算</h3>
<p>乘法运算拆分来看主要有算术运算加法，逻辑运算异或，还有移位操作。</p>
<p>四位二进制数x,y，两数进行乘法运算，符号位不参与数值位分开运算，一开始y的最低位与x的每一位进行异或并输出结果，下一次y的次高位与x的每一位进行异或运算，结果输出并左移次高位的位数，假设次高位是2，那么左移两位输出结果。</p>
<p>举个例子，如下：</p>
<p><a href="#R-image-06cfe34e1a76d2dddd349b59f917ca6e" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE1.png" alt="图1.png" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-06cfe34e1a76d2dddd349b59f917ca6e"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE1.png" alt="图1.png" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="定点数除法运算">定点数除法运算</h3>
<p>定点数除法运算这里提供两种方法：</p>
<ol>
<li>恢复余数法</li>
</ol>
<p>这种方法是手工计算，而非机器计算，如下图：
定点原码一位除法实现方案（手工）０．１００１０／０．１０１１
<a href="#R-image-835e9a422b77535a3cbe215351d9e609" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE2.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-835e9a422b77535a3cbe215351d9e609"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE2.png" alt="tu" class="lightbox-image        " loading="lazy"></a>
2. 加减交替法（不恢复余数法）</p>
<p>在这之前我们先简单了解并行除法器，如下图：</p>
<p><a href="#R-image-20d96d74de409db07aeb13537f6b4d96" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE3.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-20d96d74de409db07aeb13537f6b4d96"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE3.png" alt="tu" class="lightbox-image        " loading="lazy"></a></p>
<p>被除数 
<span class="math align-center">$0.x{_6}x{_5}x{_4}x{_3}x{_2}x{_1}$</span></p>
<p>(双倍长)</p>
<p>除数 
<span class="math align-center">$0.y{_3}y{_2}y{_1}$</span></p>
<p>商数 
<span class="math align-center">$0.q{_3}q{_2}q{_1}$</span></p>
<p>余数 
<span class="math align-center">$0.r{_6}r{_5}r{_4}r{_3}r{_2}r{_1}$</span></p>
<p>除数右移</p>
<p>例题：ｘ＝0.101001, ｙ＝0.111, 求
<span class="math align-center">${x}\div{y}$</span></p>
<p><a href="#R-image-39c4b4d0acc6d0dfa88ba95b1d5ffcce" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE4.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-39c4b4d0acc6d0dfa88ba95b1d5ffcce"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE4.png" alt="tu" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="浮点运算方法浮点运算器">浮点运算方法，浮点运算器</h3>
<p>再次我们在此复习浮点数的表示方法</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>以及32位IEEE754标准格式</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$S$</span></th>
<th style="text-align:center">
<span class="math align-center">$E$</span></th>
<th style="text-align:center">
<span class="math align-center">$M$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">
<span class="math align-center">$31$</span></td>
<td style="text-align:center">
<span class="math align-center">$30 \gets 23$</span></td>
<td style="text-align:center">
<span class="math align-center">$22 \gets 0$</span></td>
</tr>
</tbody>
</table>
<h4 id="浮点运算步骤">浮点运算步骤</h4>
<ul>
<li>0操作数检查。一般就是检查运算数是否为0，不卸载步骤中</li>
<li>比较阶码（E）并完成对阶（小阶向大阶对齐）</li>
<li>尾数（M）求和运算</li>
<li>结果规格化，把运算结果写成1.M的格式</li>
<li>检查上溢出或下溢出（-127&lt;=x&lt;=127,x在这个范围就表示没有溢出,如果溢出需要通过 <strong>变形补码</strong> 来判断是正溢出（01），还是负溢出（10））</li>
<li>舍入处理。写出要求需要的有效位，并用十进制检验是否正确
<a href="#R-image-e7526fa516c8bd5561fd5e96dafeda1b" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE5.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e7526fa516c8bd5561fd5e96dafeda1b"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE5.png" alt="tu" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>例题：设
<span class="math align-center">$x=0.5{_10},y=0.4375{_10}$</span>,假设尾数有效位为4位，用二进制求
<span class="math align-center">$(x+y){_浮}$</span></p>
<p>把x和化为1.M的格式

<span class="math align-center">$x=0.5{_10}=0.1{_2}=0.1{_2}\cdot 2^0=1.000{_2}\cdot 2^{-1}$</span>

<span class="math align-center">$x=-0.4375{_10}=-0.0111{_2}=-0.0111{_2}\cdot 2^0=-1.000{_2}\cdot 2^{-2}$</span></p>
<p>在这里需要对上面的转换进行说明，说明前我们先看
<span class="math align-center">$0.2\cdot10^{0}$</span>,如果现在想写成2，那上面的式子该怎么改呢？</p>
<p>修改如下：

<span class="math align-center">$0.2\cdot10^{0}=2\cdot10^{-1}$</span></p>
<p>也就是要让式子的左右相等，所以后面10的次方就不一样，理解了上面这个我们再来看
<span class="math align-center">$-0.1{_2}\cdot 2^0=-1.000{_2}\cdot 2^{-1}$</span>就会更好理解。</p>
<p>下面是具体的步骤：</p>
<ol>
<li>对阶，由上可知y的阶小，向x的看齐

<span class="math align-center">$-1.000{_2}\cdot 2^2=-0.100{_2}\cdot 2^{-1}$</span></li>
<li>尾数相加，

<span class="math align-center">$1.000{_2}\cdot 2^{-1}+(-0.100{_2}\cdot 2^{-1})=0.001{_2}\cdot 2^{-1}$</span></li>
<li>规格化：把结果把x和化为1.M的格式

<span class="math align-center">$0.001{_2}\cdot 2^{-1}=1.0000{_2}\cdot 2^{-4}$</span></li>
<li>检验上溢或下溢
由于指数-4用移码表示，-127&lt;=-4&lt;=127,-4在这个范围即没有溢出</li>
<li>舍入操作
根据题目要求
<span class="math align-center">$(x+y){_浮}=1.0000{_2}\cdot 2^{-4}=0.0625{_10}$</span>
十进制检验结果x+y=0.5-0.4375=0.0625</li>
</ol>
<h3 id="浮点数乘除法运算">浮点数乘除法运算</h3>
<p>乘除运算分为四步</p>
<ul>
<li>0操作数检查</li>
<li>阶码加减操作</li>
<li>尾数乘除操作</li>
<li>结果规格化和舍入处理</li>
</ul>
<p>流程与浮点数乘除法类似，但也有不同的地方，下面以乘法运算为例子详细说明具体步骤：</p>
<ol>
<li>将两数的指数部分相加（前提是你要把两数规格化为1.M的形式）</li>
<li>将被乘数和乘数的尾数相乘</li>
<li>规格化于溢出检测</li>
<li>舍入操作</li>
<li>确定乘积的符号（同号为正，异号为负）</li>
</ol>
<h2 id="存储系统">存储系统</h2>
<h3 id="存储系统的层次结构">存储系统的层次结构</h3>
<p>目前存储器的特点是：</p>
<p>• 速度快的存储器价格贵，容量小；
• 价格低的存储器速度慢，容量大。</p>
<ul>
<li>高速缓冲存储器简称<strong>cache</strong>，它是计算机系统中的一个高速小容量半导体存储器。</li>
<li>主存储器简称 <strong>主存</strong>，是计算机系统的主要存储器，用来存放计算机运行期间的 <strong>大量程序</strong> 和 <strong>数据</strong> 。</li>
<li>外存储器简称 <strong>外存</strong>，它是大容量辅助存储器。
<a href="#R-image-b5a0c84eda284e0e141a753aa3692dd3" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu6.png" alt=" tu6" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b5a0c84eda284e0e141a753aa3692dd3"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu6.png" alt=" tu6" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="存储系统分类">存储系统分类</h3>
<ul>
<li>按 <strong>存储介质</strong> 分类：磁表面/半导体存储器</li>
<li>按 <strong>存取方式</strong> 分类：随机/顺序存取（磁带）</li>
<li>按 <strong>读写功能</strong> 分类：ROM，RAM
<ul>
<li>RAM，<strong>随机存取存储器</strong> ：双极型/MOS</li>
<li>ROM，<strong>只读存储器</strong> ：MROM/一次可编程只读存储器PROM/可擦除EPROM/电可擦除EEPROM</li>
</ul>
</li>
<li>按信息的可保存性分类：永久性和非永久性的</li>
<li>按存储器系统中的作用分类：主/辅/缓/控</li>
</ul>
<h3 id="存储器的编制和端模式">存储器的编制和端模式</h3>
<ul>
<li>字存储单元：存放一个机器字的存储单元，相应的单元地址叫字地址。</li>
<li>字节存储单元：存放一个字节的单元，相应的地址称为字节地址。</li>
<li>端模式：一个存储字内部的多字节排列方式。
<ul>
<li>大端 big-endian</li>
<li>小端 little-endian</li>
</ul>
</li>
</ul>
<h3 id="存储器技术">存储器技术</h3>
<ul>
<li><strong>存储容量：</strong> 指一个存储器中可以容纳的存储单元总数。存储容量越大，能存储的信息就越多。</li>
<li><strong>存取时间</strong> 又称存储器访问时间：指一次读操作命令发出到该操作完成，将数据读出到数据总线上所经历的时间。通常取写操作时间等于读操作时间，故称为存储器存取时间。</li>
<li><strong>存储周期：</strong> 指连续启动两次读操作所需间隔的最小时间。通常，存储周期略大于存取时间，其时间单位为ns。</li>
<li><strong>存储器带宽：</strong> 单位时间里存储器所存取的信息量，通常以位/秒或字节/秒做度量单位。
记住：
<span class="math align-center">$1KB=2^{10}B，1MB=2^{20}B，1GB=2^{30}B，1TB=2^{40}B$</span></li>
</ul>
<h3 id="sram存储器">SRAM存储器</h3>
<ul>
<li>主存（内部存储器）是半导体存储器。根据信息存储的机理不同可以分为两类：
<ul>
<li>静态读写存储器(SRAM)：存取速度快</li>
<li>动态读写存储器(DRAM)：存储密度和容量比SRAM大。</li>
</ul>
</li>
</ul>
<p>三组信号线：
 地址线:n条地址线，确定存储单元（地址）的个数，或说有2^n个存储单元。
 数据线：决定字的长度（位数）。6条地址线，4条数据线，没那么有64*4个存储位元的总数。
 行线
 列线
 控制线：控制读/写，读写不会同时进行
例如一台计算机数据线有4条，那么它就是4位的计算机。
<a href="#R-image-b01fe7877e84ed10a36fa3f4e4b7b97e" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu7.png" alt="tu7" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b01fe7877e84ed10a36fa3f4e4b7b97e"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu7.png" alt="tu7" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="存储容量的扩充">存储容量的扩充</h4>
<p>1、字长位数扩展
字节不变，即给的地址线不变，改变数据线让芯片容量符合设计要求。</p>
<p>芯片个数d=设计要求的存储器容量/选择芯片存储器容量</p>
<p>[例2] 利用1M×4位的SRAM芯片，设计一个存储容量
为1M×8位的SRAM存储器。</p>
<p>解：所需芯片数量=(1M×8)/(1M×4)=2片</p>
<p>2、字存储容量扩展</p>
<p>位不变，即数据线不变，通过增加芯片改变地址线使其符合设计要求。</p>
<p>芯片个数d=设计要求的存储器容量/选择芯片存储器容量</p>
<p>[例3]利用1M×8位的DRAM芯片设计2M×8位的DRAM存储
器
解：所需芯片数d=（2M×8）/（1M×8）=2(片)</p>
<p>3、字节扩展</p>
<p>先进行位扩展（数据线bite），字节扩展（字节扩展Byte）</p>
<h3 id="动态随机存取存储器">动态随机存取存储器</h3>
<h4 id="工作原理图">工作原理图</h4>
<p><a href="#R-image-ee431f0b12cf06fc3a1cebe63a1594e5" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu8.png" alt="tu8" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ee431f0b12cf06fc3a1cebe63a1594e5"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu8.png" alt="tu8" class="lightbox-image        " loading="lazy"></a>
原理图上的刷新本质上是给mos管充电。</p>
<h4 id="动态随机存取存储器的刷新操作">动态随机存取存储器的刷新操作</h4>
<p>刷新的目的是为了保存存储器的存储信息。
注：读出1才会刷新，读出0不会刷新。
当前主流的DRAM器件的刷新周期间隔时间为64秒</p>
<ul>
<li>集中式刷新。先工作最后在进行充电，假设DRAM有1024行，刷新周期为8ms（这里假设是8ms）</li>
<li>分散式刷新。边工作边刷行，假设DRAM有1024行，由8ms（这里假设是8ms）除以1024=7.4us,所以刷新周期为7.4us</li>
</ul>
<h3 id="只读存储器">只读存储器</h3>
<p>ROM叫做只读存储器。顾名思义，只读的意思是
在它工作时只能读出，不能写入。然而其中存储的原
始数据，必须在它工作以前写入。只读存储器由于工
作可靠，保密性强，在计算机系统中得到广泛的应用。</p>
<p>主要有两类：</p>
<ul>
<li>掩模ROM：掩模ROM实际上是一个存储内容固定的ROM，由生产厂家提供产品。</li>
<li>可编程ROM：用户后写入内容，有些可以多次写入。
<ul>
<li>一次性编程的PROM</li>
<li>多次编程的EPROM和E2PROM。</li>
</ul>
</li>
</ul>
<h4 id="掩模rom">掩模ROM</h4>
<p>1、掩模ROM的阵列结构和存储元
<a href="#R-image-a588d473f1de01ca87c0ccfef17ea0ac" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu9.png" alt="tu9" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a588d473f1de01ca87c0ccfef17ea0ac"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu9.png" alt="tu9" class="lightbox-image        " loading="lazy"></a></p>
<p>2、可编程ROM</p>
<p> EPROM叫做 <em><strong>光擦除可编程可读存储器</strong></em>。它的存储内容可以根据需要写入，当需要更新时将原存储内容抹去，再写入新的内容。
 现以浮栅雪崩注入型MOS管为存储元的EPROM为例进行说明，结构如下图所示。</p>
<p>E2PROM存储元</p>
<p>EEPROM，叫做电擦除可编程只读存储器。其存储元是一个具有两个栅极的NMOS管，如图(a)和(b)所示，G1是控制栅，它是一个浮栅，无引出线；G2是抹去栅，它有引出线。在G1栅和漏极D之间有一小面积的氧化层，其厚度极薄，可产生隧道效应。如图(c)所示，当G2栅加20V正脉冲P1时，通过隧道效应，电子由衬底注入到G1浮栅，相当于存储了1”。利用此方法可将存储器抹成全“1”状态。
<a href="#R-image-d678acb17726466471fb51075f241c4a" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu10.png" alt=" tu10" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d678acb17726466471fb51075f241c4a"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu10.png" alt=" tu10" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="flash">FLASH</h4>
<p>FLASH存储器也翻译成闪速存储器，它是高密度非失易失性的读/写存储器。高密度意味着它具有巨大比特数目的存储容量。非易失性意味着存放的数据在没有电源的情况下可以长期保存。总之，它既有RAM的优点，又有ROM的优点，称得上是存储技术划时代的进展。</p>
<p><strong>FLASH存储器的基本操作</strong> 编程操作、读取操作、擦除操作。</p>
<h3 id="并行存储器">并行存储器</h3>
<p>并行存储器的作用：提高读写效率</p>
<h4 id="双端口与存储器">双端口与存储器</h4>
<p>1、双端口存储器的逻辑结构</p>
<p>双端口存储器由同一个存储器具有两组 <strong>相互独立的读写控制电路</strong> 而得名。由于进行并行的独立操作，因而是一种高速工作的存储器，在科研和工程中非常有用。 举例说明，双端口存储器IDT7133的逻辑框图 。如下图：
<a href="#R-image-28c9f54977f8b3f774306a82f3dd67c3" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu11.png" alt="tu11" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-28c9f54977f8b3f774306a82f3dd67c3"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu11.png" alt="tu11" class="lightbox-image        " loading="lazy"></a></p>
<p>2、无冲突读写控制</p>
<p>当两个端口的地址不相同时，在两个端口上进行读写操作，一定不会发生冲突。当任一端口被选中驱动时，就可对整个存储器进行存取，每一个端口都有自己的片选控制(CE)和输出驱动控制(OE)。读操作时，端口的OE(低电平有效)打开输出驱动器，由存储矩阵读出的数据就出现在I/O线上。</p>
<p>3、有冲突读写控制</p>
<p>当两个端口同时存取存储器同一存储单元时，便发生读写冲突。为解决此问题，特设置了BUSY标志。在这种情况下，片上的判断逻辑可以决定对哪个端口优先进行读写操作，而对另一个被延迟的端口置BUSY标志(BUSY变为低电平)，即暂时关闭此端口。</p>
<h4 id="多模块交叉存储器">多模块交叉存储器</h4>
<p>1、存储器的模块化组织
一个由若干个模块组成的主存储器是线性编址的。这些地址在各模块中如何安排，有两种方式：</p>
<ul>
<li>一种是 <strong>顺序方式</strong> ，</li>
<li>一种是 <strong>交叉方式</strong> 。
<a href="#R-image-dbb6b9f154dfb3cef4637a50bead79bd" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu12.png" alt="tu12" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dbb6b9f154dfb3cef4637a50bead79bd"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu12.png" alt="tu12" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h5 id="顺序方式">顺序方式</h5>
<p>[例]M0－M3共四个模块，则每个模块8个字</p>
<p>顺序方式：</p>
<p>M0：0—7
M1：8－15
M2：16－23
M3：24－31</p>
<ul>
<li>5位地址组织如下： X X X X X</li>
<li>高位选模块，低位选块内地址</li>
<li>特点：某个模块进行存取时，其他模块不工作，优点是某一模块出现故障时，其他模块可以照常工作，通过增添模块来扩充存储器容量比较方便。缺点是各模块串行工作，存储器的带宽受到了限制。</li>
</ul>
<h5 id="交叉方式">交叉方式</h5>
<ul>
<li>
<p>M0：0，4,&hellip;除以4余数为0</p>
</li>
<li>
<p>M1：1，5,&hellip;除以4余数为1</p>
</li>
<li>
<p>M2：2，6,&hellip;除以4余数为2</p>
</li>
<li>
<p>M3：3，7,&hellip;除以4余数为3</p>
</li>
<li>
<p>5位地址组织如下： X X X X X</p>
</li>
<li>
<p>高位选块内地址，低位选模块</p>
</li>
<li>
<p>特点：连续地址分布在相邻的不同模块内，同一个模块内的地址都是不连续的。优点是对连续字的成块传送可实现多模块流水式并行存取，大大提高存储器的带宽。使用场合为成批数据读取。</p>
</li>
</ul>
<p><strong>多模块交叉存储器的基本结构</strong> 下图为四模块交叉存储器结构框图。主存被分成4个相互独立、容量相同的模块M0，M1，M2，M3，每个模块都有自己的读写控制电路、地址寄器和数据寄存器，各自以等同的方式与CPU传送信息。在理想情况下，如果程序段或数据块都是连续地在主存中存取，那么将大大提高主存的访问速度。
!p<a href="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu13.png">tu13</a></p>
<ul>
<li>通常在一个存储器周期内，n个存储体必须分时启动，则各个存储体的启动间隔为
<span class="math align-center">$t=\frac{T}{n}$</span>（n为交叉存取度）</li>
<li>整个存储器的存取速度有望提高n倍

<span class="math align-center">$t{_顺序}=xT$</span>

<span class="math align-center">$t{_交叉}=T\frac{x+n-1}{n}$</span></li>
</ul>
<h3 id="cache-基本原理">cache 基本原理</h3>
<p>为了解决CPU和主存之间速度不匹配而采取的一种重要技术。</p>
<ul>
<li>一般采用高速的SRAM构成。</li>
<li>CPU和主存之间的速度差别很大采用两级或多级Cache系统</li>
<li>早期的一级Cache在CPU内，二级在主板上</li>
<li>现在的CPU内带L1 Cache和L2 Cache</li>
<li>全由硬件调度，对用户透明
<a href="#R-image-69c339f6e86c19d15c3f6fbb4d365f33" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu14.png" alt="tu14" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-69c339f6e86c19d15c3f6fbb4d365f33"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu14.png" alt="tu14" class="lightbox-image        " loading="lazy"></a>
cpu与缓存之间数据交换是以字节为单位，而缓存与主存之间的数据交换以块为单位，一个块有若干组成，是定长的。</li>
</ul>
<p>从CPU来看，增加一个cache的目的，就是在性能上使主存的平均读出时间尽可能接近cache的读出时间。为了达到这个目的，在所有的存储器访问中由cache满足CPU需要的部分应占很高的比例，即cache的命中率应接近于1。由于程序访问的局部性，实现这个目标是可能的。</p>
<p>命中率：CPU访问cache且需要获取的文件在cache里，即为命中，公示如下：

<span class="math align-center">$h=\frac{N{_c}}{N{_c}+N{_m}}$</span></p>
<p>
<span class="math align-center">$N{_c}$</span>:cache完成存取的总次数（访问cache的总次数）；</p>
<p>
<span class="math align-center">$N{_m}$</span>:主存完成存取的总次数。</p>
<h3 id="主存与cache的地址映射">主存与cache的地址映射</h3>
<p>无论选择那种映射方式，都要把主存和cache划分为同样大小的“块”。下面介绍三种一映射方式：</p>
<p>1、全相联的映射方式（一对多，一是指缓存，多是指主存里的数据块）</p>
<p>（1）将地址分为两部分（块号和字），在内存块写入Cache时，同时写入块号标记；
（2）CPU给出访问地址后，也将地址分为两部分（块号和字），比较电路块号与Cache 表中的标记进行比较，相同表示命中，访问相应单元；如果没有命中访问内存，CPU 直接访问内存，并将被访问内存的相对应块写入Cache。
<a href="#R-image-c97d774c68356950ee732157f255f9dd" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu16.png" alt=" tu15" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c97d774c68356950ee732157f255f9dd"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu16.png" alt=" tu15" class="lightbox-image        " loading="lazy"></a></p>
<p>1、全相联映射方式</p>
<p>特点：</p>
<ul>
<li>优点：冲突概率小，Cache的利用高。</li>
<li>缺点：比较器电路难实现，适用于小容量的Cache</li>
</ul>
<h3 id="直接映射方式">直接映射方式</h3>
<p>2、直接映射方式（一对多）：</p>
<ul>
<li>i= j mod m</li>
<li>m为cache中的总行数</li>
<li>主存第j块内容拷贝到Cache的i行</li>
<li>一般I和m都是2^N级
<a href="#R-image-d606c347bf4cb740e2c61f97154ca185" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu15.png" alt="tu15" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d606c347bf4cb740e2c61f97154ca185"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu15.png" alt="tu15" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>[例]cache容量16字，主存容量256字，则地址2，18，34…..242等都存放在cache的地址2内，如果第一次2在cache中，下次访问34内容，则不管cache其他位置的内容访问情况，都会引起2块内容的替换。</p>
<p>特点</p>
<ul>
<li>优点：比较电路少m倍线路，所以硬件实现简单，Cache地址为主存地址的低几位，不需变换。</li>
<li>缺点：冲突概率高（抖动）</li>
<li>适合大容量Cache</li>
</ul>
<h3 id="组相联映射方式">组相联映射方式</h3>
<p>前两者的组合</p>
<ul>
<li>Cache分组，组间采用直接映射方式，组内采用全相联的映射方式</li>
<li>Cache分组U，组内容量V</li>
<li>映射方法（一对多）
<ul>
<li>q= j mod u</li>
<li>主存第j块内容拷贝到Cache的q组中的某行</li>
</ul>
</li>
<li>地址变换
<ul>
<li>设主存地址x，看是不是在cache中，先y= x mod u，则在y组中一次查找</li>
</ul>
</li>
</ul>
<p>分析：比全相联容易实现，冲突低</p>
<ul>
<li>v=1，则为直接相联映射方式</li>
<li>u=1，则为全相联映射方式</li>
<li>v的取值一般比较小， 一般是2的幂，称之为v路组相联cache。
<a href="#R-image-80de3e2db3beed1ee7552f0c27b4127d" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu17.png" alt="tu17" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-80de3e2db3beed1ee7552f0c27b4127d"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu17.png" alt="tu17" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="cache替换策略">cache替换策略</h3>
<ul>
<li>LFU（最不经常使用 ）：每行有一个计数器，被访问的行计数器增加1，哪一行的值小，就换值小的行，不能反映近期cache的访问情况，</li>
<li>LRU（近期最少使用） ：被访问的行计数器置0，其他的计数器增加1，哪一行的值大，换值大的行，符合cache的工作原理</li>
<li>随机替换：随机替换策略实际上是不要什么算法，从特定的行位置中随机地选取一行换出即可。这种策略在硬件上容易实现，且速度也比前两种策略快。
<ul>
<li>缺点：随意换出的数据很可能马上又要使用，从而降低命中率和cache工作效率。</li>
<li>优点：但这个不足随着cache容量增大而减小。随机替换策略的功效只是稍逊于前两种策略。</li>
</ul>
</li>
</ul>
<p>由于cache的内容只是主存部分内容的拷贝，它应当 <strong>与主存内容保持一致</strong>。而CPU对cache的写入更改了cache的内容。如何与主存内容保持一致，可选用如下三种写操作策略。</p>
<ul>
<li>写回法：换出时，对行的修改位进行判断，决定是写回还是舍掉。当主存数据传向缓存而缓存满的时候，缓存就要进行替换，只有这个时候才将数据写回主存。</li>
<li>全写法：写命中时，Cache与内存一起写，也就是主存和缓存一起更改；</li>
<li>写一次法：与写回法一致，第一次Cache命中时采用全写法，也就是这个时候要把数据写回主存，因为第一次命中的时候CPU会在总线上启动一个存储写周期，其他cache即可监听到该消息，选择复制或丢弃该数据，以便委会系统全部cache的一致性。</li>
</ul>
<h2 id="4-指令系统">4 指令系统</h2>
<h3 id="指令系统基本概念">指令系统基本概念</h3>
<p>指令：就是要计算机执行某种操作的命令。从计算机组成的层次结构来说，计算机的指令有微指令、机器指令和宏指令之分。</p>

<span class="math align-center">$指令=\begin{cases}微指令\\机器指令\\宏指令\end{cases}$</span>
<ul>
<li><strong>微指令</strong> 是微程序级的命令，它属于硬件；</li>
<li><strong>宏指令：</strong> 由若干条机器指令组成的软件指令，它属于软件；</li>
<li><strong>机器指令：</strong> 介于微指令与宏指令之间，通常简称为指令，每一条指令可完成一个独立的算术运算或逻辑运算操作。</li>
</ul>
<p><strong>本小节介绍的就是机器指令。</strong></p>
<h3 id="指令系统的性能要求">指令系统的性能要求</h3>
<ul>
<li>完备性</li>
<li>规整性</li>
<li>有效性</li>
<li>兼容性</li>
</ul>
<p>低级语言与高级语言的关系
<a href="#R-image-a72b451fa4d2f4bea4f2429ab3aedaf7" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu18.png" alt="tu18" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a72b451fa4d2f4bea4f2429ab3aedaf7"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu18.png" alt="tu18" class="lightbox-image        " loading="lazy"></a></p>
<p>机器程序员看到的计算机属性就是指令系统体系结构，简称 <strong>ISA</strong>。</p>
<h3 id="指令格式">指令格式</h3>
<table>
<thead>
<tr>
<th>操作字段OP</th>
<th>地址码字段A</th>
</tr>
</thead>
<tbody>
<tr>
<td>表示进行什么性质的操作，如+、-等</td>
<td>存储操作数的地址</td>
</tr>
</tbody>
</table>
<p>不同的指令用操作码字段的不同编码来表示，每一种编码代表一种指令。</p>
<p>根据一条指令中有几个操作数地址，可将该指令称为几操作数指令或几地址指令。</p>
<ul>
<li>三地址指令</li>
<li>二地址指令</li>
<li>单地址指令</li>
<li>零地址指令
<table>
<thead>
<tr>
<th>地址码名称</th>
<th>操作码</th>
<th>地址块1</th>
<th>地址块2</th>
<th>地址块3</th>
</tr>
</thead>
<tbody>
<tr>
<td>三地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A_1$</span></td>
<td>
<span class="math align-center">$A_2$</span></td>
<td>
<span class="math align-center">$A_3$</span></td>
</tr>
<tr>
<td>二地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A_1$</span></td>
<td>
<span class="math align-center">$A_2$</span></td>
<td></td>
</tr>
<tr>
<td>一地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A$</span></td>
<td></td>
<td></td>
</tr>
<tr>
<td>零地址指令</td>
<td>OP码</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="三地址指令">三地址指令</h4>
<table>
<thead>
<tr>
<th>三地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A_1$</span></th>
<th>
<span class="math align-center">$A_2$</span></th>
<th>
<span class="math align-center">$A_3$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>被操作数或源操作数地址</td>
<td>操作数或终点操作数地址</td>
<td>存放结果操作数地址</td>
</tr>
</tbody>
</table>
<ul>
<li>功能描述：
<ul>
<li>(A1) op(A2)→A3（把A1A2的结果存放到A3中）</li>
<li>(PC) +1→PC（PC加1）</li>
</ul>
</li>
</ul>
<p>这种格式虽然省去了一个地址，但指令长度仍比较长，所以只在字长较长的大、中型机中使用，而小型、微型机中很少使用。</p>
<h4 id="二地址指令双操作数指令">二地址指令（双操作数指令）</h4>
<table>
<thead>
<tr>
<th>二地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A_1$</span></th>
<th>
<span class="math align-center">$A_2$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>第一操作数</td>
<td>第二操作数</td>
</tr>
</tbody>
</table>
<ul>
<li>功能描述：
<ul>
<li>(A1) op(A2)→A1</li>
<li>(PC)+1→PC</li>
</ul>
</li>
<li>二地址指令在计算机中得到了广泛的应用，但是在使用时有一点必须注意：指令执行之后，A1中原存的内容已经被新的运算结果替换了。</li>
</ul>
<p>二地址地址根据操作数的物理位置分为：</p>
<ul>
<li>SS 存储器-存储器类型</li>
<li>RS 寄存器-存储器类型</li>
<li>RR 寄存器-寄存器类型
RR到RS再到SS，指令执行会越来越慢，也就是说指令执行从内存某个单元到内存的另一个单元比较慢。</li>
</ul>
<h4 id="一地址指令">一地址指令</h4>
<table>
<thead>
<tr>
<th>一地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>操作数</td>
</tr>
</tbody>
</table>
<p>功能描述：</p>
<ul>
<li>(AC) op(A1) →A1</li>
<li>(PC)+1→PC</li>
<li>单操作数运算指令，如“+1”、“-1”、“求反”</li>
<li>指令中给出一个源操作数的地址</li>
</ul>
<h4 id="零地址指令">零地址指令</h4>
<table>
<thead>
<tr>
<th>零地址指令</th>
<th>OP码</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
</tr>
</tbody>
</table>
<p>功能：“停机”、“空操作”、“清除”等控制类指令。</p>
<h4 id="指令字长度">指令字长度</h4>
<p>概念</p>
<ul>
<li>指令字长度（一个指令字包含二进制代码的位数）</li>
<li>机器字长：计算机能直接处理的二进制数据的位数。</li>
<li>单字长指令</li>
<li>半字长指令</li>
<li>双字长指令</li>
</ul>
<p>多字长指令的优缺点</p>
<ul>
<li>
<p>优点提供足够的地址位来解决访问内存任何单元的寻址问题 ；</p>
</li>
<li>
<p>缺点必须两次或多次访问内存以取出一整条指令，降低了CPU的运算速度，又占用了更多的存储空间。</p>
</li>
<li>
<p>指令系统中指令采用 <strong>等长指令</strong> 的优点：各种指令字长度是相等的，指令字结构简单，且指令字长度是不变的 ；</p>
</li>
<li>
<p>采用 <strong>非等长指令</strong> 的的优点：各种指令字长度随指令功能而异，结构灵活，能充分利用指令长度，但指令的控制较复杂 。</p>
</li>
</ul>
<h4 id="指令助记符">指令助记符</h4>
<table>
<thead>
<tr>
<th>零地址指令</th>
<th>OP码</th>
<th>OP码</th>
</tr>
</thead>
<tbody>
<tr>
<td>加法</td>
<td>ADD</td>
<td>001</td>
</tr>
<tr>
<td>减法</td>
<td>SUB</td>
<td>010</td>
</tr>
<tr>
<td>传送</td>
<td>MOV</td>
<td>011</td>
</tr>
<tr>
<td>跳转</td>
<td>JMP</td>
<td>100</td>
</tr>
<tr>
<td>转子</td>
<td>JSR</td>
<td>101</td>
</tr>
<tr>
<td>存数</td>
<td>STO</td>
<td>110</td>
</tr>
<tr>
<td>取数</td>
<td>LAD</td>
<td>111</td>
</tr>
</tbody>
</table>
<h3 id="操作数类型">操作数类型</h3>
<ul>
<li>地址数据:地址实际上也是一种形式的数据。（ <strong>类似指针</strong> ）</li>
<li>数值数据:计算机中普遍使用的三种类型的数值数据。</li>
<li>字符数据:文本数据或字符串，目前广泛使用ASCII码。</li>
<li>逻辑数据:一个单元中有几位二进制bit项组成，每个bit的值可以是1或0。当数据以这种方式看待时，称为逻辑性数据。（类似布尔型）</li>
</ul>
<h3 id="指令和数据的寻址方式">指令和数据的寻址方式</h3>
<p>
<span class="math align-center">$指令寻址方式=\begin{cases}顺序寻址\\跳跃寻址\end{cases}$</span>
此处的跳跃寻址包含了选择和循环。</p>
<h3 id="操作数基本寻址方式">操作数基本寻址方式</h3>
<p>1、隐含寻址</p>
<p><a href="#R-image-9e3e9e8994f4e283fb78bef1dc08f173" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu20.png" alt="tu20" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9e3e9e8994f4e283fb78bef1dc08f173"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu20.png" alt="tu20" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>指令中隐含着操作数的地址，比如隐藏累加器的地址，当该指令被执行时会执行累加器，但累加器的地址是没有表现在该指令上的。</li>
<li>如某些运算，隐含了累加器AC作为源和目的寄存器</li>
<li>如8086汇编中的STC指令，设置标志寄存器的C为1</li>
</ul>
<p>2、立即寻址</p>
<p><a href="#R-image-bb9bd2db9e7b42c09a945348e19fea7e" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu21.png" alt="tu21" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-bb9bd2db9e7b42c09a945348e19fea7e"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu21.png" alt="tu21" class="lightbox-image        " loading="lazy"></a></p>
<p>指令的地址指出的不是操作数地址，而是操作数本身。比如</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>,y<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> z<span style="color:#f92672">=</span>x<span style="color:#f92672">+</span>y;</span></span></code></pre></div><p>在上面这个例子中，执行加法的时候x,y不是6和7的地址，而是6和7本身；</p>
<p>3、直接寻址</p>
<p><a href="#R-image-c0bf864002f032eb212bab788df2f931" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu22.png" alt="tu22" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c0bf864002f032eb212bab788df2f931"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu22.png" alt="tu22" class="lightbox-image        " loading="lazy"></a></p>
<p>在指令格式中的地址上指出操作数在内存中的地址。其实这很像数组，例如</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1&#39;</span>;<span style="color:#75715e">//地址为5673
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> cha[]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;x&#39;</span>};<span style="color:#75715e">//地址为2341
</span></span></span></code></pre></div><p>我们在使用cha[0]的时候,地址2341指向的就是1的地址5673，一个地址指向另一个地址。</p>
<p>4、间接寻址</p>
<p><a href="#R-image-4ba1fb666808f03c679225711022352f" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu23.png" alt="tu23" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4ba1fb666808f03c679225711022352f"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu23.png" alt="tu23" class="lightbox-image        " loading="lazy"></a></p>
<p>类似二维数组</p>
<p>5、寄存器寻址</p>
<p><a href="#R-image-a086ee1a669e97b18f4dae37e1ea9ad0" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu24.png" alt="tu24" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a086ee1a669e97b18f4dae37e1ea9ad0"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu24.png" alt="tu24" class="lightbox-image        " loading="lazy"></a></p>
<p>当操作数不在内存而是在CPU的寄存器中时使用这个寻址方式</p>
<p>6、寄存器简介寻址</p>
<p><a href="#R-image-f4b93eadf0b4719b5856aad2119e127f" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu25.png" alt="tu25" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f4b93eadf0b4719b5856aad2119e127f"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu25.png" alt="tu25" class="lightbox-image        " loading="lazy"></a></p>
<p>操作数不在寄存器中，而是在寄存器地址所知的位置，比如内存（类似二维数组）</p>
<p>7、偏移寻址</p>
<p><a href="#R-image-cf54417ef951861f92b1699af8d46e98" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu26.png" alt="tu26" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cf54417ef951861f92b1699af8d46e98"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu26.png" alt="tu26" class="lightbox-image        " loading="lazy"></a></p>
<p>类似于数组中，数组下标的变化会对应不同的地址上的值，下标的变化可以理解为加了某一个偏移量而产生改变。</p>
<p>下面介绍三种不同的偏移寻址，他们的不同我觉得就是使用的寄存器不一样，本质上都是地址加了偏移量后找到第二个地址，再通过第二个地址上的值进行操作。</p>
<p>7.1 相对寻址</p>
<p>使用的是程序计数器（CP），CP作为原始地址，EA=A+（CP）</p>
<p>7.2 基址寻址</p>
<p><a href="#R-image-28484b383f5fe6d52d47eeed790402cb" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu28.png" alt="tu27" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-28484b383f5fe6d52d47eeed790402cb"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu28.png" alt="tu27" class="lightbox-image        " loading="lazy"></a></p>
<p>使用存储器地址，作为原始地址，</p>
<p>7.3 变址寻址</p>
<p><a href="#R-image-50337d24fcdecc21d8580eefafba0825" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu29.png" alt="tu28" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-50337d24fcdecc21d8580eefafba0825"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu29.png" alt="tu28" class="lightbox-image        " loading="lazy"></a></p>
<p>就是将指令的地址码部分给出的基准地址A与CPU内某特定的变址寄存器Rx中的内容相加，以形成操作数的有效地址。</p>
<p>8、分寄存器堆栈、存储器堆栈以先进后出原理存储数据
<a href="#R-image-4b6a9d5d6a7741716030f842fe7da084" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu27.png" alt="tu27" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4b6a9d5d6a7741716030f842fe7da084"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu27.png" alt="tu27" class="lightbox-image        " loading="lazy"></a></p>
<p>9、段寻址方式</p>
<p>存储空间划分为多段
<a href="#R-image-9b848794098d50c8a92072c4ecbeabdb" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu30.png" alt="tu30" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9b848794098d50c8a92072c4ecbeabdb"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu30.png" alt="tu30" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="典型的指令">典型的指令</h3>
<ul>
<li>数据处理</li>
<li>数据存储</li>
<li>数据传送</li>
<li>程序控制</li>
</ul>
<ol>
<li>数据传送指令</li>
<li>算术运算指令</li>
<li>逻辑运算指令</li>
<li>程序控制指令</li>
<li>输入输出指令</li>
<li>字符串处理指令</li>
<li>特权指令</li>
</ol>
<h2 id="中央处理器">中央处理器</h2>
<p>冯诺一曼机的运算器与控制器是分开的，二现今这两个是设计在同一块芯片上，成为 <strong>CPU</strong> ，而单片机就是 <strong>CPU+存储器</strong>。</p>
<h3 id="cpu的功能和组成">CPU的功能和组成</h3>
<h4 id="cpu的功能">CPU的功能</h4>
<p>取指令，执行指令</p>
<ul>
<li>指令控制。程序的<strong>顺序控制</strong> 。</li>
<li>操作控制。控制指令的取出与执行。</li>
<li>时间控制。对操作实施时间上的定时。</li>
<li>数据加工。例如算数运算和逻辑运算</li>
</ul>
<h4 id="cpu的组成">CPU的组成</h4>
<p><a href="#R-image-f0dcea01e6c634641cc5bb88e062e838" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu31.png" alt="tu31" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f0dcea01e6c634641cc5bb88e062e838"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu31.png" alt="tu31" class="lightbox-image        " loading="lazy"></a>
中央处理器CPU = 运算器 + cache + 控制器</p>
<h5 id="运算器">运算器</h5>
<ul>
<li>ALU：算术逻辑运算单元</li>
<li>通用寄存器：R0～R3</li>
<li>数据缓冲寄存器：DR</li>
<li>程序状态字寄存器：PSWR</li>
</ul>
<h5 id="控制器">控制器</h5>
<p>程序计数器、指令寄存器、时序发生器、操作控制寄存器；</p>
<ul>
<li>程序计数器PC(Programming Counter)
<ul>
<li>用来存放正在执行的指令的地址或接着将要执行的下一条指令的地址。</li>
<li><strong>顺序执行</strong> 时，每执行一条指令，PC的值应 <strong>加1</strong></li>
<li>要改变程序执行顺序的情况时，一般由转移类指令将转移目标地址送往PC ，可实现程序的转移。</li>
</ul>
</li>
<li>指令寄存器IR(Instruction Register)
<ul>
<li>指令寄存器用来存放从存储器中 <strong>取出的待执行的指令</strong>。</li>
<li>在执行该指令的过程中，指令寄存器的内容不允许发生变化，以保证实现指令的全部功能。</li>
</ul>
</li>
</ul>
<h3 id="重要的寄存器">重要的寄存器</h3>
<ul>
<li>数据缓冲寄存器（DP）：暂时存放ALU（算术逻辑运算单元）运算结果，或或有数据寄存器读出的数据字，或外部接口的数据字。
<a href="#R-image-1cc647347fdbd3aa3ce0ab5e0f48e0e1" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu32.png" alt="tu32" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1cc647347fdbd3aa3ce0ab5e0f48e0e1"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu32.png" alt="tu32" class="lightbox-image        " loading="lazy"></a></li>
<li>指令寄存器(IR)：用来保存当前正在执行的第一条指令</li>
<li>程序计数器(PC)：总是保持将要执行的下一条指令，绝大多数是顺序程序，所以修改过程中通常是简单的PC加1.</li>
<li>数据地址寄存器(AR)用来保存当前CPU所访问的数据存储单元的地址。</li>
<li>通用寄存器(R0～R3)：存常用的指令，</li>
<li>状态字寄存器(PSW)：保存有算术运算或逻辑运算或测试结果产生的更重条件代码，简而言之就是存储一些运算的结果，比如进位、溢出、零标志、负标志等</li>
</ul>
<h3 id="指令周期">指令周期</h3>
<p><a href="#R-image-f175fa889a58a4d75348be120a78e2e9" class="lightbox-link"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu33.png" alt="tu23" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f175fa889a58a4d75348be120a78e2e9"><img src="./branch-bundle-1/13.%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu33.png" alt="tu23" class="lightbox-image        " loading="lazy"></a>
指令周期由若干个CPU周期数表示，CPU周期又称为机器周期，在一些系统中称机器周期为时钟周期。</p>
<p>指令周期又分为取指令周期与执行指令周期</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>也被称为电脑，或者电子计算机。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
    <li><a class="term-link" href="./categories/z-%E4%B8%93%E4%B8%9A%E8%AF%BE/">Z-专业课</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 14</div>
<h1 id="14电子电路">14.电子电路</h1>

<p>模拟电子技术知识。

<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/">模拟电子技术基础笔记</a><p>常用半导体器件 本征半导体 半导体：介于导体与绝缘体之间的 本征半导体： 载流子 3.1 本征激发 3.2 自由电子，带负电 3.3 空穴，带正电 自由电子和空穴都能到点。 3.4</p></li>
</ul></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">14.电子电路 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%A8%A1%E7%94%B5/">模电</a></li>
  </ul>
</div>
            </header>
<h1 id="模拟电子技术基础笔记">模拟电子技术基础笔记</h1>

<h2 id="常用半导体器件">常用半导体器件</h2>
<h3 id="本征半导体">本征半导体</h3>
<ol>
<li>
<p>半导体：介于导体与绝缘体之间的</p>
</li>
<li>
<p>本征半导体：
<a href="#R-image-6fa437cb30abd89bdd310c3c67aa2ff0" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image.png" alt="图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6fa437cb30abd89bdd310c3c67aa2ff0"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image.png" alt="图" class="lightbox-image        " loading="lazy"></a></p>
</li>
<li>
<p>载流子
3.1 本征激发
<a href="#R-image-4f035762829ed3abac90b8c90d7f9fbe" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-1.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4f035762829ed3abac90b8c90d7f9fbe"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-1.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>
3.2 自由电子，带负电
3.3 空穴，带正电
自由电子和空穴都能到点。
3.4 复合：与本真激发相反的过程</p>
</li>
<li>
<p>本征半导体的导电能力与载流子的浓度有关：此时处于动态平衡，本证激发与复合的速度一样。</p>
<p>从工程的角度看，只加热温度让导电能力增加不实际，还好它具有掺杂别的东西让导电能力增加。</p>
</li>
</ol>
<h3 id="杂质半导体">杂质半导体</h3>
<h4 id="概念">概念</h4>
<p>掺杂<strong>少量</strong> 的杂志元素。</p>
<h4 id="n型半导体">N型半导体</h4>
<p>掺杂P元素（5价元素），本征半导体的导电能力增加，自由电子是多子，空穴是少子；</p>
<p>温度对多子影响小，因为多子本身就多，但对少子浓度的影响大，因为少子的量少；</p>
<p><a href="#R-image-ad02899f1e52b72c89d8471abc20009f" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-2.png" alt="N型半导体" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad02899f1e52b72c89d8471abc20009f"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-2.png" alt="N型半导体" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="p型半导体">P型半导体</h4>
<p>掺杂硼元素（3价元素），本征半导体的导电能力增加，自由电子是少子，空穴是多子；</p>
<h3 id="pn结半导体">PN结半导体</h3>
<p><a href="#R-image-f3f448718818b2b6107e8ae1a86daed8" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-3.png" alt="PN结半导体" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f3f448718818b2b6107e8ae1a86daed8"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-3.png" alt="PN结半导体" class="lightbox-image        " loading="lazy"></a></p>
<p>1.扩散运动：在浓度梯度的作用下，浓度高的地方向浓度低的地方扩散；</p>
<p>2.空间电荷区（耗尽层、PN结），这里举个例子，就右边空间电荷区的正电荷而言，从电场线出发，两边平衡我们可以理为正电荷发出的电场阻止了左边的空穴移动，而对于负电荷他也有这样的特性，所以两边达到平衡的状态。</p>
<p>虽然中间有空间电荷区形成势垒（由电压形成）组织了两遍的多子运动，但是这样的势垒能百分之百阻止多子向两边运动吗？</p>
<p>答案是不完全，还是有一小部分的多子冲破避雷向两边运动。下面是一张简单的图。</p>
<p>3.漂移运动：两边少子的运动称之为漂移运动</p>
<p>4.对称结与不对称结：由上面的图可以看出两边宽度一样，原因是掺杂的浓度一样，如果不一样？那么两边就不对称了，这时候称之为不对称结。</p>
<h4 id="加外电压的pn结半导体">加外电压的PN结半导体</h4>
<p>加正电压（P流向N，空间电荷区被削弱）
<a href="#R-image-d5aecff1bbe9e8555e94fda037172119" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-4.png" alt="PN结加外电压" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d5aecff1bbe9e8555e94fda037172119"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-4.png" alt="PN结加外电压" class="lightbox-image        " loading="lazy"></a></p>
<p>加反向电压（，空间电荷区增加）
<a href="#R-image-68564b144353e65d0ef0238f40342725" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-5.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-68564b144353e65d0ef0238f40342725"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-5.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>这个时候的漂移运动是增加的，但漂移运动是由少子形成的所以他的影响是很小的，值得注意的是漂移运动对 <strong>温度</strong> 是很敏感的。</p>
<h3 id="pn结的电流方程">PN结的电流方程</h3>
<p><a href="#R-image-1976b40d518255d2949aed7589f437fa" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-6.png" alt="伏安特性" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1976b40d518255d2949aed7589f437fa"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-6.png" alt="伏安特性" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-dffc4d7cd81fbb0c494504785d1557de" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-7.png" alt="方程" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dffc4d7cd81fbb0c494504785d1557de"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-7.png" alt="方程" class="lightbox-image        " loading="lazy"></a>

<span class="math align-center">$i=I_s(e^{U/U{_T}}-1),其中V_T=26V$</span></p>
<p>锗：0.2-0.3V
硅：0.6-0.7V</p>
<h4 id="特性">特性</h4>
<ol>
<li>正向特性</li>
<li>反向特性
2.1雪崩击穿（掺杂浓度低，温度越高，击穿电压越高，因为粒子需要加速）
2.2齐纳击穿（掺杂浓度高，温度越高，击穿电压越低，因为）</li>
</ol>
<h4 id="pn结的电容效应">PN结的电容效应</h4>
<p>当正负极两边的电压变化时，中间的电量发生改变；</p>
<p>1.势垒电容
<a href="#R-image-7982dfddd5cc7b04b0e16b746762873c" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-9.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7982dfddd5cc7b04b0e16b746762873c"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-9.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>2.扩散电容：非平衡少子形成
<a href="#R-image-2e84729f4f0ac090943a9003dde5f991" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-8.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2e84729f4f0ac090943a9003dde5f991"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-8.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>电压增高为2线，浓度增高，电压减小为3，浓度降低；</p>
<h3 id="半导体二极管">半导体二极管</h3>
<p><a href="#R-image-e0b379fa48a93f348445e101a2ff7fdd" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-10.png" alt="二极管" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e0b379fa48a93f348445e101a2ff7fdd"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-10.png" alt="二极管" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="常见结构">常见结构</h4>
<p><a href="#R-image-e71f88f73c98997c5c797ff366d3f223" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-11.png" alt="结构" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e71f88f73c98997c5c797ff366d3f223"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-11.png" alt="结构" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="伏安特性">伏安特性</h4>
<p><a href="#R-image-10ea77952acd82d938860b974a50c193" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-12.png" alt="二极管伏安特性" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-10ea77952acd82d938860b974a50c193"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-12.png" alt="二极管伏安特性" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>体电阻的存在，电流的PN结小；</li>
<li>反向电流大一些；</li>
</ul>
<h4 id="温度的影响">温度的影响</h4>
<p>正向电流：温度升高，本证激发，粒子热运动增加，所以电压固定的时候，温度高的电流可定大，所以曲线往上走；</p>
<p>反向电流：温度升高，对少子影响大，饱和电流增加，所以曲线往下走；</p>
<h3 id="二极管作用">二极管作用</h3>
<ul>
<li>单向导电性，规定电流流向，做整流器件；也可以稳压，但一般用反向的稳压</li>
<li>反向的饱和电流，简单的温度传感器；</li>
<li>反向截止电流，稳压二极管；</li>
</ul>
<p><strong>问：为什么稳压电路不用正向的电压稳压</strong>？</p>
<h3 id="二极管的主要参数">二极管的主要参数</h3>
<ul>
<li>IF：工作的时候电流的最大流过电流，</li>
<li>UR：最高反向电压，</li>
<li>IR：反向电流（未击穿时），</li>
<li>FM：最高频率（选高频电路的时候需要参考），</li>
</ul>
<h3 id="二极管的等效电路">二极管的等效电路</h3>
<p><a href="#R-image-439f548606ca3f01fd5e78b5dbc2951a" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-13.png" alt="伏安特性等效化" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-439f548606ca3f01fd5e78b5dbc2951a"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-13.png" alt="伏安特性等效化" class="lightbox-image        " loading="lazy"></a>
1.上图a为理想的等效电路</p>
<p>2.b图为常用的等效模型</p>
<p>上面三张图的<a href="#R-image-52ad026b9883cf4542e9b1883a00e3bb" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-15.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-52ad026b9883cf4542e9b1883a00e3bb"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-15.png" alt="alt text" class="lightbox-image        " loading="lazy"></a>中间没有一杠，这是与普通二极管的区别。</p>
<p>下面我们看二级管的几个应用：</p>
<ol>
<li><strong>整流</strong>电路
<a href="#R-image-785d69e27079253064c562e1e17690b2" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-16.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-785d69e27079253064c562e1e17690b2"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-16.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></li>
</ol>
<p>在上面的这个电路中我们假设交流电10mV，要想在
<span class="math align-center">$u_R$</span>中测量出变化的电流那么需要加一个直流电压，将交流电抬高，曲线图如下：</p>
<p><a href="#R-image-73c0acfd32b7d64c9c2f0ec5663d0980" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-18.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-73c0acfd32b7d64c9c2f0ec5663d0980"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-18.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>上图B点的电压10mV升到A点，它们的关系是：
<span class="math align-center">$U_A=U_B+V$</span>,那么此时就可以测量出
<span class="math align-center">$u_R$</span>两端的变化的电流了。具体电路图如下：</p>
<p><a href="#R-image-83aee8650846bf2297d9b5baa88bb1c0" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-14.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-83aee8650846bf2297d9b5baa88bb1c0"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-14.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>最后得到的波形图是去掉Y轴的负半轴的正弦三角函数图像，也就是整流电路。</p>
<ol start="2">
<li><strong>限幅</strong>电路</li>
</ol>
<p><a href="#R-image-961dc938cd521079746d4f2e861127d1" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-19.png" alt="alt text" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-961dc938cd521079746d4f2e861127d1"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-19.png" alt="alt text" class="lightbox-image        " loading="lazy"></a></p>
<p>在分析这个电路时，要先判断正向导通和反向截止。</p>
<ul>
<li>当
<span class="math align-center">$U_S-U_1<=Uon$</span>的时候截止</li>
<li>当
<span class="math align-center">$U_S-U_1>=Uon$</span>的时候导通</li>
</ul>
<p>这时候的三角函数上半边会被割掉如下图：</p>
<p><a href="#R-image-c870a600991660ac19124b00c4596494" class="lightbox-link"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-20.png" alt="结果" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c870a600991660ac19124b00c4596494"><img src="./branch-bundle-1/14.%E7%94%B5%E5%AD%90%E7%94%B5%E8%B7%AF/%E6%A8%A1%E6%8B%9F%E7%94%B5%E5%AD%90%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80%E7%AC%94%E8%AE%B0/image-20.png" alt="结果" class="lightbox-image        " loading="lazy"></a></p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E6%8B%93%E5%B1%95%E7%AC%94%E8%AE%B0/">B1-拓展笔记</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 15</div>
<h1 id="15外语类">15.外语类</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/15.%E5%A4%96%E8%AF%AD%E7%B1%BB/%E8%8B%B1%E8%AF%AD/">英语</a><p>听力相关 ： Cues 这里是关键词和提示。 Notes 有声书。 视频学习： ted， comedy，stand up. 1.看原文； 2.看中英； 3.看原文； 4.记笔记； 5.关</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">15.外语类 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%8B%B1%E8%AF%AD/">英语</a></li>
    <li><a class="term-link" href="./tags/%E8%8B%B1%E8%AF%AD%E8%AF%8D%E6%B1%87/">英语词汇</a></li>
  </ul>
</div>
            </header>
<h1 id="英语">英语</h1>

<p><strong>听力相关</strong> ：</p>
<link rel="stylesheet" href="./css/cornell-notes.css">  <div class="cornell-notes">    <div class="cues">
<h2 id="cues">Cues</h2>
<ul>
<li>这里是关键词和提示。</li>
</ul>
</div>
<div class="notes">
<h2 id="notes">Notes</h2>
<ul>
<li>
<p><a href="https://www.loyalbooks.com/" target="_blank">有声书</a>。</p>
</li>
<li>
<p>视频学习：
ted， comedy，stand up.
1.看原文；
2.看中英；
3.看原文；
4.记笔记；
5.关闭字母。</p>
</li>
<li>
<p>podcast：</p>
<p><a href="https://learningenglish.voanews.com/podcasts" target="_blank">音频链接</a></p>
<p><a href="https://www.bbc.co.uk/learningenglish/features" target="_blank">音频链接2</a></p>
</li>
</ul>
</div>
<div class="summary">
<h2 id="summary">Summary</h2>
<ul>
<li>这里是笔记的摘要。</li>
</ul>
</div>
</div>
<p><strong>阅读相关</strong> ：</p>
<link rel="stylesheet" href="./css/cornell-notes.css">  <div class="cornell-notes">    <div class="cues">
<h2 id="cues1">Cues1</h2>
<ul>
<li>单词、词汇。</li>
<li>英语阅读</li>
<li>阅读方法</li>
</ul>
</div>
<div class="notes">
<h2 id="notes1">Notes1</h2>
<ul>
<li>make time for reading.坚持每天都花一点时间阅读10分钟也可以；</li>
<li>使用浏览器搜索自己感兴趣的话题，推bing.com国际版;</li>
<li>ask questions as you read.试着带着问题去阅读；</li>
<li>read it again.</li>
<li>read a variety of texts.阅读丰富的文章。</li>
<li>Don&rsquo;t worry about looking words up as you&rsquo;re reading.
在查词的过程中把陌生词添加到自己的单词本中；</li>
</ul>
<p>上面是一些阅读方法，下面介绍如何找到自己的水平，找到适合自己水平的题材。</p>
<p>如何阅读，如果自己的四六级英语水平是三百多及一下，推荐这个网站</p>
<ul>
<li><strong>The news</strong> ：<a href="https://breakingnewsenglish.com/" target="_blank">breaking news english</a></li>
<li><strong>Articles</strong> :<a href="https://lingua.com/" target="_blank">Lingua</a> and the <a href="https://www.britishcouncil.org/english-assessment/eltons" target="_blank">British</a></li>
<li><strong>Stories</strong> :<a href="">English for Students</a></li>
</ul>
<p>如果还是看不懂上面的文章推荐去这个网站：<a href="https://learnenglishkids.britishcouncil.org/" target="_blank">English for Kids</a>。</p>
<p>四级过了但六级没过推荐下面的网站:</p>
<ul>
<li>
<p><a href="https://learnenglish.britishcouncil.org/general-english/magazine-zone" target="_blank">british council magazine</a> and <a href="https://ga01000549.schoolwires.net/site/default.aspx" target="_blank">Smithsonian Twen Tribune</a>,the <a href="https://www.mentalfloss.com/" target="_blank">Mental Floss</a></p>
</li>
<li>
<p><a href="https://www.leonardoenglish.com/" target="_blank">Leonardo English Blog</a></p>
</li>
<li>
<p>Reading:</p>
<p>ManyBooks</p>
<p>Librivox</p>
<p>Authorama</p>
<p>Project Gutenberg</p>
<p>Internatonal Children&rsquo;s Digital Library</p>
<p>Read Print</p>
<p>Archive.org</p>
</li>
</ul>
</div>
<div class="summary">
<h2 id="summary1">Summary1</h2>
<ul>
<li>renre:题材，体裁。</li>
<li>linguists:语言学家</li>
</ul>
</div>
</div>
<p><strong>名词解释</strong> ：</p>
<link rel="stylesheet" href="./css/cornell-notes.css">  <div class="cornell-notes">    <div class="cues">
<h2 id="cues3">Cues3</h2>
<ul>
<li>名词解释</li>
<li>英文术语</li>
</ul>
</div>
<div class="notes">
<h2 id="notes3">Notes3</h2>
<p>College VS. university.</p>
</div>
<div class="summary">
<h2 id="summary3">Summary3</h2>
<ul>
<li>这里是笔记的摘要。</li>
</ul>
</div>
</div>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/y1-%E5%A4%96%E8%AF%AD/">Y1-外语</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 16</div>
<h1 id="16考试类">16.考试类</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/">教资 小学</a><p>科目一： 教育观与职业道德 教育与社会的发展 点击查看流程图 考题 简述教育对生产力的关系（制约作用）？ 教育与人的发展 点击查看流程图 教育制度 理解记住教</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">16.考试类 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%95%99%E8%B5%84/">教资</a></li>
  </ul>
</div>
            </header>
<h1 id="教资-小学">教资 小学</h1>

<p><strong>科目一</strong>：</p>
<p><a href="%E7%A7%91%E7%9B%AE%E4%B8%80.html">教育观与职业道德</a></p>
<h2 id="教育与社会的发展">教育与社会的发展</h2>
<p><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/./markmap_index.html">点击查看流程图</a></p>
<h2 id="考题">考题</h2>
<p>简述教育对生产力的关系（制约作用）？</p>
<h2 id="教育与人的发展">教育与人的发展</h2>
<p><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/./markmap_index.html">点击查看流程图</a></p>
<h2 id="教育制度">教育制度</h2>
<ul>
<li>理解记住教育制度的概念，尤其是狭义教育制度；</li>
<li>理解并记住建立学制的依据</li>
<li>理解教育制度的发展</li>
<li>理解我国教育制度的沿革</li>
<li>理解并记住现代教育的改革和发展</li>
<li>理解并记住义务教育的特性</li>
</ul>
<h3 id="教育制度概念">教育制度概念</h3>
<p>1.教育制度的概念</p>
<p>2.教育学制的依据</p>
<p>可能需要考虑的因素可能有哪些呢？请思考思考。</p>
<ul>
<li>城乡地域因素</li>
<li>经济因素</li>
<li>国家性质因素&mdash;社会主义</li>
<li>文化因素</li>
<li>人口因素</li>
</ul>
<p>3.教育学制的形式发展</p>
<p><a href="./branch-bundle-1/16.%E8%80%83%E8%AF%95%E7%B1%BB/%E6%95%99%E8%B5%84-%E5%B0%8F%E5%AD%A6/./markmap_index.html">点击查看流程图</a></p>
<p><strong>科目二</strong> ：
<a href="%E7%A7%91%E7%9B%AE%E4%BA%8C--%E6%95%99%E8%82%B2%E6%95%99%E5%AD%A6.html">教育观与职业道德</a></p>
<p>测试文字</p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/j1-%E6%95%99%E5%B8%88%E8%B5%84%E6%A0%BC%E8%80%83%E8%AF%95/">J1-教师资格考试</a></li>
  </ul>
</div>
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">教资 小学 的子部分</h1>
          </section>
          </section>
          </section>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="二小--说">二、小  说</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./textbook/6.%E5%88%98%E4%B8%B0%E4%B8%89%E9%83%8E/">刘丰三郎</a><p>高考在即，在收到学校放假的通知后，我于第二日乘班车回了家。 在隔壁县读书的我，每次回家都要乘上4-5小时的班车，回家的路上能见到一片又一片的砂</p></li>
<li><a href="./textbook/5.%E7%99%BD%E9%AA%A8%E5%A4%AB%E5%A6%87/">草屋夫妇</a><p>胡冲村被一条蜿蜒的河道所包围，河道流向东边与其他支流汇聚在不远的东侧，人们把那里叫作三岔口，三岔口往西沿着泥巴公路走上几十分钟就到了胡冲村，</p></li>
<li><a href="./textbook/4.%E5%90%9B%E7%BB%98%E8%AF%AD/">君绘语</a><p>第一章 与君初相识 高中那会儿我老失眠，原因一言难尽。 记得有一次我去吃饭，遇到张君，我们聊闲聊中，谈到了我失眠的事，张君听了说，他们有个朋友以睡</p></li>
<li><a href="./textbook/2.%E7%99%BD%E5%94%90%E6%88%98%E7%BB%9B/">白唐战绛</a><p>“时间的真的存在吗？” 我很意外王妈为什么会问我这样的问题，王妈小时候家境不好，没有机会上学，她对我说过，去学校上学的次数十个手指都数得过来。</p></li>
<li><a href="./textbook/1.%E9%98%BF%E7%89%9B%E9%98%BF%E8%8A%B1/">阿牛和阿花的爱情故事</a><p>牛村与花村仅隔一片红树林，深秋里，满山的红叶铺天盖地，牛村的村尾是个好地方，常聚着城里来的人，就是离阿牛家远了些。 “嘿！ 阿牛。你要老婆不……</p></li>
<li><a href="./textbook/3.%E6%AE%8B%E6%9C%A8%E5%90%BC/">时空国度-木尸王朝</a><p>第一章 序 火车站往东沿着才华路步行十分钟便到衡岭财经学院，这条路王肖一年会走五六次——多的是回家或回校，他的理想大学是南国大学，虽与之擦肩而过</p></li>
<li><span> </span><p>木尸王朝 1.文中的人类变成树木的原因是什么？ 与金钱绑定的一种木材，注定了她会给人类带来财富，当我可以使用金钱来奴役别人时，金钱不再是一般等价</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">二、小  说 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%86%9C%E6%9D%91/">农村</a></li>
  </ul>
</div>
            </header>
<h1 id="刘丰三郎">刘丰三郎</h1>

<p>高考在即，在收到学校放假的通知后，我于第二日乘班车回了家。</p>
<p>在隔壁县读书的我，每次回家都要乘上4-5小时的班车，回家的路上能见到一片又一片的砂糖橘，我的家乡被誉为“沙滩橘之乡”，最近几年村里也开始陆陆续续的种起砂糖橘。</p>
<p>往常放假可以去捡板栗、可以和父母去工地、也可以在家护理果树……在闲暇的时光里给自己挣点零花钱，但这次则不同，放假时间短，最多被拉去护理果树，我已经做好这样的觉悟，虽然很不情愿。</p>
<p>在外面读书久了，似乎做农活的性子也被磨平了。</p>
<p>回家的第二天我陪同母亲去抽水，母亲说我回来的正是时候，可以去抽水给果树打药。我和母亲在外面折腾了半天，父亲才从房屋出来，慵懒地生了个懒腰，观望着我们母子，似乎等待谁发号施令，&ldquo;你和你父亲把抽水机扛到山沟下的池塘。&ldquo;母亲对着父亲说道。我和父亲一颠一拐地把抽水机扛到山沟下。随着启动抽水机一天的工作开始了。</p>
<p>抽水需要用到的管子要提前铺好，我和母亲扛着一捆捆管子往山里去，在路上我们遇到了刘三，他是刘叔公的三儿子，</p>
<p>待续……</p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%81%90%E6%80%96/">恐怖</a></li>
  </ul>
</div>
            </header>
<h1 id="草屋夫妇">草屋夫妇</h1>

<h6> 胡冲村被一条蜿蜒的河道所包围，河道流向东边与其他支流汇聚在不远的东侧，人们把那里叫作三岔口，三岔口往西沿着泥巴公路走上几十分钟就到了胡冲村，在村口有一片灰白色的石斜坡，斜坡直至的扑到山顶上， 好像一块灰白色的布披在了山的一边，从斜坡上直直的延伸下一条绳索，绳索紧紧的拴住斜坡与江河，在江河的另一端也有同样的绳索，在这条路上这样的绳索很多，当绳索拉起，一张绿色的渔网就会浮出水面，将鱼儿团团困住。
<p>再往里走两侧会看到一些废旧的木瓦房，木瓦房历经风雨起立不到，只是废弃后的木瓦房多了些许苍凉，木瓦房往前是一排排建在公路旁的洋房，前面有一条T字形的路口，往左转可以看到一面五星红旗，前面的小学建在山脊靠江的地方，由于地势的原因，这地方很像一个半岛的形状，学校除了校门口有高强和杉木围栏外其他地方都没有围起来，似乎江河就是最好的围栏。</p>
<p>弥嘟在很小的时候就在这所学校，那时候他和他姐姐一起住在宿舍里，平日不是在宿舍等姐姐下课，就是在学校里玩等姐姐下课，有一次姐姐担心他乱跑就把弥嘟锁在了宿舍里，这天宿舍来了一位身穿黑色衣服的夫妇，他们在校长的带领下视察了宿舍，这天视察他们发现了弥嘟被锁在了宿舍里面，众人都疑惑一个男孩子怎么被锁在了女生宿舍里，后面询问宿管阿姨才知道是弥嘟的姐姐偷偷带了弟弟来上学，校长为此次事向黑衣夫妇表示歉意，黑衣夫妇说没关系后，黑衣女子半蹲下来试着要抚摸弥嘟，但弥嘟快速的跑到了被叫来的姐姐身后，黑衣女子看着不断吸着往外流鼻涕的弥嘟，她嘴角微微一笑，从包里面抽了几张纸，走上前递给了弥嘟姐姐，弥嘟被姐姐拉到一旁，洗了把鼻涕，姐姐一边擦拭着弥嘟，一边看着远去的两位怪人，而在弥嘟眼里他们是令他好奇的生物！</p>
<p>两夫妇走后不久，在学校的河对岸的山林里就建起了一座草房子，房子四面围墙由杉木围成，房子四周种着高达的杉木，每每起雾路人转角就能立马看到远处的木屋，木屋不是由当地的人建起来的，正是由之前到胡冲村的两位黑衣夫妇建起来的，他们那天到学校是想买下那所学校，但是后面没有与当地政府谈拢，后来又跑到山里买了一块地建了一座草房子，草房子旁边原来有个放黑山羊的老人，老人来自胡冲村，人们都叫他卜勇娃，村里人都觉得他是个怪人，有的人也说他患上了精神病，如果你在村里你就能时常看到他穿着衣衫褴褛的衣服在街上，边走边自言自语，有时候还偷偷的对着路人露出奇怪的笑容，他若是在家你偶尔还能在半夜听到他破口大骂的声音……正因为这些很多人讨厌他，至于他的名字有很多人都遗忘了，或许是他的第一个孩子叫勇娃吧，在胡冲村这一带人们往往以第一个孩子的名来称呼对方的父母，有时候会在姓的中间加上一个卜字。</p>
<p>卜勇娃的妻子和孩子商量后决定让他到山里放羊，于是卜勇娃来到了胡冲村江河源头上的木巴放了羊，木巴这个地方除了一片片的杉木，还有满山的梧桐树，每每到梧桐花盛开的季节，满山的梧桐花，白的，粉红的飘满一座座山，花朵铺满前往黑衣夫妇的草房子，远远看着也是一道靓丽的风景。</p>
<p>两位夫妇来到木巴的第一天就去访问了卜勇娃，但卜勇娃并不理会她俩，而是继续赶着自己的山羊到山里，过了三四年黑衣夫妇始终很难与这位奇怪的中年男人搭上话。</p>
<p>又到了山石榴成熟的季节，在黑衣夫妇草屋旁就生有山石榴树，每到星期五放学孩子们回家路过总要下来摘山石榴，这一天弥嘟姐姐让另外两个弟弟去打水，她去摘山石榴，其他家的孩子也是打水的打水，摘山石榴的摘山石榴，吩咐好后他们就各自往木巴山下走，留下几个低年级的孩子，就在这时弥嘟闹肚子，跑到同龄的旁边说了声，我肚子疼。同龄的孩子指着学校的方向说，往那个地方下去，那里有树挡着去哪里拉吧。</p>
<p>弥嘟沿着路往下走，走着走着肚子不疼了，反倒眼前的草屋吸引住了他，他不知不觉走到了草屋旁边，突然左侧出现了一个穿白色衣服的女子，柔长的黑色细发，直直的披在那位女子的两肩，女子穿着穿着荷花色的上服和雪白的长裙，这时候的弥嘟哪里知道这很像电视里的女鬼形象，他往前走了几步，接着呆呆的站在原地看着出现的白衣女子，女子梳着自己的细发。时间似乎过了很久，这时女子才注意到了弥嘟，朝他看了看，嘴角微微一笑，白皙的脸颊撑起端正的五官，那双眼灵动迷人，似乎她的面容就是为了吸引男子而生的，但弥嘟并不知道眼前世俗所谓的美女，在他眼里女子面容苍白，好似快死去的人，看着纤细的身段也不过是骨瘦如柴，女子的笑容似乎勾起了弥嘟的回忆，他在哪里见过这位女子。</p>
<p>小弟弟你哪里来啊？女子问道，弥嘟还是站在原地沉默不语，女子朝他走了过来，从身后拿出了一本小册子，还有一根棒棒糖，别人东西不能乱拿，弥嘟还是知道的，弥嘟后退了几步，准备回去，不巧姐姐朝他走了过来，一把包住了他。“叫你在上面等你乱跑什么咯，真的是。”姐姐责骂道。“小妹妹你也别怪他哦，&ldquo;白衣女子收起了手里的东西，弥嘟姐姐点了点头，便把弥嘟拽走了。</p>
<p>“你们去哪了？”</p>
<p>“去找弥嘟了！”</p>
<p>“哦哦，回来了就走了吧，他们都上前走了。”</p>
<p>“嗯嗯——弥嘟快点，还慢慢的嘛！”</p>
<p>弥嘟姐姐与同村的收拾了书包，便快速离开了木巴，人多的时候还不觉着有什么好怕的，但这人少的时候，只有两个女孩子和一个男孩子，还是不由的害怕这个地方，毕竟这个地方有时候还传出奇怪的声音，弥嘟姐姐想想背凉了一半，一遍拽着弥嘟一边加快脚步。</p>
<p>“也不用这么快的，你也慢点。”</p>
<p>弥嘟姐姐笑了笑，转而说道：“你知道几年前来学校的两个黑衣服夫妇嘛？就是要把学校买走那两个。”</p>
<p>“知道啊，后面不是学校不让卖，这件事就这么结束了吗。”</p>
<p>“是啊，但是……你知道吗，我刚才去找弥嘟的时候在下面遇见了一个人的，长得很像几年前的那个来学校的，当时她还给我递纸巾呢！”</p>
<p>“会不会看错了，人家怎么会来这里呢？”</p>
<p>“我也希望不会来这。不过刚刚那个女人长得好年轻啊？还穿着一身白色衣服。”</p>
<p>“啊？不会是有人死了吧？”</p>
<p>“不是，就是普通的白色衣服，你也别这么说呀，还在路上呢。”</p>
<p>同龄女孩呸呸呸几声后，又骂了自己嘴，本来还没什么，同龄女孩这么说后弥嘟姐姐更害怕，刚才背凉一半，现在凉透了——突然，前面传来几声怪异的尖叫，叫声一把吓到两个女孩双双尖叫了几声，相互往弥嘟身上包住，几个男孩子从路上的灌木丛跑了出来，原来他们在边走边玩躲猫猫的游戏，估计是负责找的孩子没找到这几个男孩子，这几个男孩子便在这等着吓弥嘟姐姐一行人了，同龄女孩子边走边责骂几个男孩子，差点把她两吓死。</p>
<p>走着走着，弥嘟姐姐发现弥嘟嘴脸塞着糖，“哪来的糖？”姐姐问道。“我摸口袋在口袋里的。”弥嘟乖乖的回答道。弥嘟姐姐想想回家的时候似乎有买过糖，但好像没有棒棒糖，难道是别家的孩子给的吗？至此她也没多想。</p>
<p>一天夜里卜勇娃从外面赶羊回家，太阳渐渐西斜，林子里也渐渐地变得昏暗，但是卜勇娃并不担心，因为他不记得也没关系，羊是识路的，就算羊不识路他也不慌，因为他从来没有因为迷路而慌乱过，在村里的时候，他有时候一个人半夜还走到几公里外的村寨，即使迷了路，他似乎也知道只要往前走就能回到自己原来出发的地方，走到家旁边的山沟里的时候，山沟下的小溪和蛙声勾起了他的兴趣，特别是小溪倒影着他家的炉火光，他知道家里又来人了，这已经不知道是第几次了，他把羊赶回羊圈里，深深吸了一口烟，走到屋里是自己的妻子和两个儿子，“回来就吃饭了，刚热的菜。”妻子说道。对妻子和两个儿子的到来他并不意外，因为这次一定又是有关那件——“吃饭了，收拾回去吧！”妻子的话打断了他的思索。</p>
<p>“要回你们自己回。”卜勇娃说道。</p>
<p>“小六死了，你个做哥的不回去怎么行。”妻子道出了这次的理由。</p>
<p>“你们要回去自己回去。”他还是说同样的话。</p>
<p>妻子说着说着自己倒是恼火了，原来只是劝他回去，接着说道，他是不是被旁边的婆娘给迷惑了，现在想在这里终年。以为这样的话会惹恼卜勇娃，没想到他还是冷冷的重复了刚才的话，他这样的态度反倒是让他妻子更气愤，两个儿子连忙拉住她，劝说让各自都让一步，老大也是无意的调侃道，他这样疯疯癫癫的别人也看不上。说出后老大知道自己说错了话，以为父亲会因此生气，而卜勇娃不但没生气，还慢悠悠的盛了饭一屁股坐下吃起了饭，突然又疯疯癫癫的自说自话。母子看到这样的状况只好作罢让他回家的念头。在前几天，张家的小六在床上死去，郎中来看的时候诧异小六的身体，因为小六不是生了什么重病而死，是应为阳衰过度而死的，听到这个结果他家里的人都怀疑郎中是不是误判了。</p>
<p>小六是卜勇娃的弟弟，早年和卜勇娃上学不好好上学，整日想着赚钱，当时他的父亲是胡冲的大户，养他们六个孩子还是绰绰绰有余，只是后面父亲病逝，家庭渐渐没落，当时还读书的他两就想着赚钱，在三岔口建立他们的渔场后，便开始在各个县之间贩卖鱼，几年下来也赚了不少钱，后来卜勇娃用攒下来的钱继续上了学，那时候他已经20多岁，那时候大龄还在读初中也是正常的事情，只是当时他母亲很反对他这么做，母亲觉得既然卖鱼挣钱就应该趁热打铁，但是卜勇娃毅然决然继续去上初中，在初中他还用自己挣来的钱拜师学了功夫，后来因为没钱交学费，自己便止步于那几套三脚猫的功夫，虽然母亲明面上反对，但还是私下给他送了钱，直到初中毕业那年，母亲因劳累过世他不得不回家料理家事，考高中的事情也就此搁置。后来他娶了妻子，也和妻子有了孩子，一天下井被下落的石头砸中了脑袋，疯疯癫癫的病根就此落下病根。</p>
<p>听到自己的弟弟去世卜勇娃不为所动，两个儿子对自己的父亲多少是失望的，失望自己的父亲连最基本的情亲都丢了，而他们的母亲却一心想着他是不是与旁边的白衣女子有一腿，而死活不愿回家。</p>
<p>第二天早上，母子三人早早离开了木巴，临走时老大还帮卜勇娃赶山羊上了山，或许他觉得自己昨晚的话太过了，虽然父亲没有说什么，但自己心里还是过意不去。起来的卜勇娃看见自己的羊已经被赶上了山，便一人在门口伫立着，突然顾自言语，时而对着眼前的树木骂骂咧咧，“哗哗”的声响打断了他的的咒骂，他往屋后走去，一位穿着白色上衣的中年男子正在草屋前倾倒污水，男子正好看见出门的卜勇娃，“起早嘛！”男子说道。卜勇娃点了点头，“为啥子要搬到这座里呢？”卜勇娃问了一直想问的问题，男子为此感到惊讶，他惊讶于这次的搭讪卜勇娃竟然还问了自己问题，换在以前点头后他就该往回走了。</p>
<p>“再不出来家里面的孩子就要没饭吃了。”男子说道。</p>
<p>“出门在外不容易，你们是哪里的人呢？”</p>
<p>“外地过来的……”男子回了后，从屋子里走出位一身白色穿着的女子，二十多岁的样子，卜勇娃第一次看到这样的女子，这或许是他这辈子见过最美的女子了，女子的一举一动无不吸引着他，女子看着卜勇娃的那副摸样似乎有些得意，笑了笑便又回到了家里，可女子这样男子却很不高兴，卜勇娃这时候还蒙在鼓里，“这是你的女儿吗？生得很好。”卜勇娃说道。男子有些不情愿的回答是的，他似乎想争辩什么，但他似乎又接受了别人这样的问法。</p>
<p>卜勇娃回到屋里后，闲着没事在床上找来了烟丝，又从口袋里抽出了一张揉皱了的纸，正准备卷成烟——纸上的字迹让他停了下来，换做以往他一定会马上卷成烟，然后抽出火柴点起来，但这次他没有这么做，他慢慢的把纸展开，上面写着“在天愿作比翼鸟，在地愿”后面的字看不清了，不知道为什么，他突然很想知道后面的内容，不知怎的他回忆起初中暗恋隔壁班女同学的事，为了追到那位女同学，他好好的学了一年的古诗词，那时的他觉得最美的爱情，最好的告白应该从诗词开始……想着想着他突然骂了起来，旁边也传来争吵的声音，卜勇娃跑到外面，白衣女子突然跑到了他身后，嘴里喊着帮帮我，帮帮我，我家那个疯了。可女子没想到的是卜勇娃这时候也疯了，两个男人说着说着便扭打了起来，女子一时间也没办法，打着打着卜勇娃从羊圈里抽出一把铲子，一铲子往男子的身上重重的砸去，男子身体扭动了一会顺势倒在了地上。女子吓坏了急忙跑过来一把抱住了男子，卜勇娃见到男子倒在地上意识也清醒了过来，似乎他的正常状态能通过这种方式唤醒一样。</p>
<p>两人把男子抬进了屋子，卜勇娃为自己刚才失误道了歉，女子说没关系，要不是他自己可能死在这男人的手里了。说着女子给卜勇娃到了一杯水，卜勇娃谢过后接过水杯一饮而尽，接着他从兜里拿出刚才准备卷的烟，正好抽出了刚才写有“在天愿作比翼鸟，在地愿”字样的纸，他愣了一会，女子看见后问他怎么了，又看见纸上写有字迹，要说这字迹太清晰，还是女子的眼力够好，她竟看到了上面的字样。</p>
<p>“这是……”</p>
<p>“哦!这是用来卷做烟抽的。”</p>
<p>“你知道我问的不是这个。”</p>
<p>“初中那时候写的了。”卜勇娃不知道为什么总感觉眼前的女子与自己很熟，还是她是一个快熟性格的女子呢？卜勇娃笑着说，接着又谈到了自己以前是怎么追隔壁班女孩子的事情，似乎这是风尘已久的心事，这么说出来后卜勇娃气色好了许多，或是他把刚才打男子的事情放了放呢？</p>
<p>“写的时候一定很用心吧！”女子边照顾男子，边回答道。</p>
<p>“或许吧！”卜勇娃迟疑了一会，支支吾吾地回答后，问了一句，“你知道后面的一句是什么吗？”</p>
<p>“不知道唉！”女子答道。</p>
<p>“看你是个读书的娃这个不懂？”</p>
<p>女子又是微微一笑，卜勇娃看着笑容有点渗人，他顿时后背凉凉的，说到底女子的家真的很凉。</p>
<p>“在天愿作比翼鸟，”后一句是，“在地愿做连理枝。”卜勇娃嗯了一声不再说什么，女子回答后便出去倒掉在地上的血水，留下卜勇娃一人，他看着刚才的纸一手拿出烟丝卷成了纸烟，抽出火柴，轻轻的滑动火柴，点燃了烟，深深吸了一口，走出去与女子寒暄几句后，说自己该上山了。女子心想他问自己那句古诗，就不问问它的意思吗？在卜勇娃心里他早已离开那个世界。</p>
<p>回到家后的弥嘟的父母并不在家，父亲在电视柜上留下了一封信件，上面写着：去清林湾办丧，大后天回来，照顾好弟妹。后面还写着日期，弥嘟姐姐看了信件后收了起来，跑到外面抱柴准备烧火做饭，第二天，这几天有酒太多了，忙不过来啊！说话的是弥嘟的父亲，他父亲在与来客拉家常，接着他父亲还说几个人的死法都很怪异，很多人怕是得了什么传染病。</p>
<p>吃完早饭后，孩子们也该去上学了，“爸我下个星期可能不回家，学校那边说让我们留在学校里面复习。”弥嘟姐姐说道。</p>
<p>“复习什么？”她父亲问道。</p>
<p>“就是准备毕业考了，老师让我们好好备考。”</p>
<p>“行吧，你不回来，弥嘟他们怎办呢？”这话即使问弥嘟姐姐，也是问他自己，他吸着烟接着说，“你就在学校吧！到时候我去接他们几个人小的。”</p>
<p>说罢，弥嘟姐姐带着弟弟们上了学，到木巴后，孩子们照旧去摘山石榴，弥嘟挣着自己也要去，姐姐说到时候别人都走了，姐姐可不管你。以为这能把他镇住，没想到弥嘟还是挣着要去，从卜勇娃家和白衣女子草房中穿过，前面是羊圈，羊圈的右侧有一条路通往后山，山石榴树就在那。</p>
<p>姐姐和弥嘟走到羊圈旁，弥嘟姐姐突然说，你看他们都在前面，等会他们先摘完他们就走了，到时候我还要带你，我们慢慢的，到时候他们就不等我们了，到时候我们在后面遇到鬼怎么办，你现在回去我去摘好吗？</p>
<p>但是弥嘟还是不依，弥嘟姐姐也是没办法放了狠话，你再这样下次不带你了，让你一个人在后面……说完姐姐往回走，继续说，你要摘你自己去吧！我回去等你。这么以来弥嘟也是怕了，差点哭出来，他只好原路返回，路过白衣女子门前时，他停留了一会，恰好女子开了门。昏暗的背景让弥嘟看不见她家里的全貌，女子依旧微微一笑，只是这次似乎透露着无比的高兴和得意。你还记得这个吗小弟弟，说着女子掏出了一本小册子。递到了弥嘟的眼前。</p>
<p>&ldquo;再送你一根棒棒糖，&ldquo;女子说道：“然后送你这个小册子。”</p>
<p>弥嘟尝过那颗独特的棒棒糖，确实与以往自己吃过的不一样。</p>
<p>“我姐姐说，不能那别人的东西。”弥嘟说道。</p>
<p>这时弥嘟后面走来摘完山石榴的孩子，他们叫住弥嘟，弥嘟跑向了他们，女子把东西收起来，看向孩子们，孩子们也看向她，孩子们都诧异这里竟然住着这么漂亮的姐姐。孩子们走后卜勇娃从山上下来，准备进屋看见女子站在门口，问道：“则怎么站在门外？”</p>
<p>“没什么。”女子回答道。</p>
<p>“对了，你怎么不去上学呢，还在读书吧？”</p>
<p>“读啊，但是我是在家里读的。”</p>
<p>“这里吗？”</p>
<p>“是的啊，我家那个教我的。”</p>
<p>之前没注意女子这么说，现在他才注意到，原来被他一铲子打倒的男子是他的丈夫，想到这他内心竟有些不自在，感觉什么东西一瞬间被拿掉一样。</p>
<p>“张老师！！”</p>
<p>卜勇娃转头看向了说话的人——弥嘟的姐姐，他还有点诧异，弥嘟姐姐有些不确定，并再次问道：“是胡冲村的张老师吗？”</p>
<p>“嗯嗯，是我。”卜勇娃顿了一会才艰难的回答道，他想到在这里还能遇见认识自己老师这个身份的人。</p>
<p>在卜勇娃母亲去世不久，因为当时村里缺一位数学老师，作为当时最高学历的卜勇娃被学校聘请当老师，起初他是拒绝的，但是母亲死后不久自己身上的钱也花光，自己本来也没多少钱，虽然自己的父亲留下有地产和渔场，但现在都掌握在其他的兄弟手里，自己再去读书的这几年里家里的这些财产几乎被其他兄弟划分完了，虽说也给他分了，无奈卜勇娃不想到田间水上劳作，想找个清闲一些的工作，当老师也可以，自己掂量掂量自己似乎又不够格，他那么晚上想了很多，自己真的有资格去教那些孩子吗？</p>
<p>一天他待在家里想出去买东西，但摸了摸口袋自己只摸出了一张母亲生前给他寄的钱，这钱已经被蹂躏得褶皱不堪，或许在市面上已经不能用了，卜勇娃索性回到屋里，这时候的的房子是他弟弟的，按照传统谁照顾父母，或常年赡养父母，父母的房子就归谁，这人自然不是卜勇娃，而是他的弟弟，弟弟知道卜勇娃也是不容易，他弟弟生平也是一个好人，即使卜勇娃天天在家吃吃喝喝他也不说什么，但是他的妻子就不一样了，在走访亲戚吃饭的时候总拿这件事说事，卜勇娃弟弟对此也是没辙，闲话说多了也自然传到卜勇娃的耳朵里，一天在家请人吃饭的时候，来的亲戚说着说着，便把这件事抬到了台面上，这不说还好，说了便一发不可收拾。</p>
<p>“实（卜勇娃的小名）啊，你也该去找点事做了，天天窝在你弟弟家里……”一位长辈说道。</p>
<p>“我说啊，实啊，我说啵，说嘛你也别说我骂你，你在你弟弟家……该找点事做，我和你爸，从小看你长大，现在你爸不在……别给他老人家丢了面子……”另一位长辈说道。</p>
<p>……</p>
<p>第二天，卜勇娃便去学校应聘，“问你的时候你死活不来，你看现在学校已经不缺数学老师了。”学校的领导说道。</p>
<p>卜勇娃看这事是泡汤了，准备回去到渔场走走，干回自己最初的活，走出门口后领导叫住了他，“语文你教得了吗？现在缺一个语文老师，可以教的话就去教语文吧！”领导说道。</p>
<p>卜勇娃上前感谢后，激动跑回家准备去了，领导聘用倒不是真的缺语文老师，只是学校受卜勇娃的父亲资助过，这个人情领导不能不认，再者领导也听说了卜勇娃的事情，卜勇娃毕竟也上过初中，也是个有用之才。</p>
<p>就这样卜勇娃在胡冲村当了语文老师，这一干就是五六年，一天早上卜勇娃因为带学生到宿舍赶蝙蝠，被领导叫到了办公室，并拿到一张辞退书，他被辞退倒不是因为带学生打蝙蝠，而是有学生举报他教学方式有问题，学校也收到了家长的反馈，迫于压力学校辞退了卜勇娃，当时卜勇娃是弥嘟姐姐班的语文老师，而到宿舍赶蝙蝠的事情就是弥嘟姐姐向卜勇娃汇报后，卜勇娃带着孩子们去宿舍驱赶蝙蝠的。</p>
<p>后来学校里传着卜勇娃是因为带学生到宿舍打蝙蝠被辞退的，虽然后来弥嘟姐姐知道那是谣言，但是她内心还是对此过意不去。</p>
<p>说道这，弥嘟姐姐向卜勇娃说了声抱歉，“这不怪你，我当年被辞退是教学方式有问题，这不怪你，你不用放在心上。”卜勇娃吸着烟说道。</p>
<p>弥嘟的姐姐还想多说些什么，但是卜勇娃说，你该去上学了，不然你的同学先走了。</p>
<p>“好的老师，下次放学回家再来看您。”说罢弥嘟姐姐便跑了回去。</p>
<p>“没想到你还有这样的过往。”白衣女子高兴的说道，好像她发现了什么惊天的秘密一样。</p>
<p>“都过去了，现在照样在这放羊。”卜勇娃苦笑的说道。</p>
<p>“要不来我家坐坐，喝喝茶。”</p>
<p>卜勇娃说声不了，便想回家休息，但女子再次邀请，又说，上次的帮忙还没感谢呢，怎么说也来家坐坐，喝喝茶以表感谢。</p>
<p>自从那次以后卜勇娃经常与白衣女子搭话，两人也渐渐熟络起来，似乎白衣女子正一步一步带他返回那个世界。</p>
<p>因为来山的胡冲村猎人常在卜勇娃休息，所以晚上自己家里灯火通明自己也不会觉得奇怪，他想或许猎人们又得猎物了，说不定今晚又是把酒言欢的一晚，他赶着牛羊往圈子里走去，看到一个猎人从白衣女子家里有说有笑的走出来，卜勇娃想问什么，欲上前问，他又想，难道我要问你一脸高兴的从里面走出来是有什么好事吗？没等他想明白，“回来啦！”那人便说了声，感觉自己现在是个外来人，要借宿在那位猎人家一样。</p>
<p>弥嘟姐姐带他上学已经是三四年前的事情，现在弥嘟已经上学前班，学前班里只有十几个孩子，与弥嘟最要好的属座他前排的阿贝，阿贝与弥嘟从小一起长大，弥嘟有什么事都与阿贝说，一天夜里弥嘟怎么也睡不着，在宿舍里翻来覆去，扰得阿贝用后背顶了顶弥嘟，</p>
<p>“干嘛啊你！”</p>
<p>“我睡不着。”弥嘟说道</p>
<p>阿贝：“怎么的睡不着。”</p>
<p>“我给你看一个东西。”说着弥嘟从兜里掏出一本小册子，小册子上面什么也没有写，翻开一看，第一页画着一栋房子，颇有西方教堂建筑的风格，阿贝看了说道：“这有什么好看的？”</p>
<p>没等阿贝继续说，弥嘟就跳过了几页，此时能感觉到弥嘟内心激动无比，隔着被子都能听见他心跳的声音，阿贝突然觉着弥嘟的脸颊烫烫的，好像被焖在甄子里一样。翻着翻着他突然停了下来，阿贝说：“怎么了？神神秘秘的。”</p>
<p>弥嘟沉默片刻，一脸害羞的模样，阿贝觉着不对劲一把将他的手撇开，阿贝倒要看看这有什么好藏着掖着的，只见手一杯撇开，小册子上出现了一位女子的画像，女子披头散发，衣着不整，但这却无法遮掩她的美貌，双手撑着身体，张开大腿瘫坐在床上，阿贝直勾勾的看着册子上的画像，他先是一脸羞涩，接着咦了一声，合上画册，一手盖上被子，窝在被子里不敢出来，突然说了一句，你哪来这些东西的啊！</p>
<p>弥嘟支支吾吾说了实话，他说他昨天起床的时候再自己的衣兜里摸着的，也不知道那个王八蛋放的。</p>
<p>“我劝你赶紧把这东西扔了，我爸说偷看女人是混蛋！”阿贝说道。</p>
<p>弥嘟先是啊了一声，接着内心又有点舍不得，最终还是把它丢进了宿舍的垃圾头里，可在这之前弥嘟早把里面的女人男人，还有他们干的事看了个遍。</p>
<p>第二天上午是语文课，语文课老师没来，来的是学校的一个领导，他来替语文老师上课，领导说完后开始问上到第几页，孩子们异口同声的回答着，唯有弥嘟还想着昨晚的事情，他生怕阿贝把这件事情都告诉了班级里面的同学，下课的时候，阿贝转头和同桌低估着什么，弥嘟看见后更加担心自己昨晚的事情败露，放学后去食堂领饭盒的时候弥嘟理也不理阿贝，那时候上学学生还需要自己准备米油盐，学校只负责帮孩子们煮，等放学后食堂的阿姨会把煮好的饭菜放到窗口前，孩子们每天早上除了洗脸刷牙，还要准备自己的饭菜，把大米放到铝饭盒里，在拿出铁制的口盅，从自己的木箱里舀一勺猪油，再抓一把豆子，一起放进口盅里，接着倒点盐，倒些水，放到食堂的窗口前就可以了。</p>
<p>弥嘟接过哥哥领来的口盅，一屁股坐在了水池旁的柳树下，一人谩骂道：“妈的一边去！”，弥嘟知道自己惹不起又找了一个地方坐了下来。傍晚的时候，阿贝主动搭上话，没等阿贝开始，弥嘟就问，你不是不是把昨晚的事告诉小蒋了，小蒋就是阿贝的同桌，今早阿贝还与他窃窃私语，弥嘟都看在眼里，但阿贝没把这当回事，回了一句没有后，急着说自己的事：“我同桌说最近胡冲村死了很多人，今天我们的数学老师亲戚也死了，所以数学老师今早没来。”</p>
<p>阿贝说的数学老师也就是他们的语文老师，同时还是他们的班主任，班主任不在晚上的课领导也没来，此时教室吵吵闹闹的，阿贝越说越来兴致一口气把胡冲最近死人的事都告诉了弥嘟，弥嘟听了直冒冷汗，晚上又睡不着了，睡不着不是因为今天听了阿贝说的死人的事，而是没了小册子的事，弥嘟爬起来想去垃圾桶看看小册子有没有被倒掉——果然还是被倒掉了。</p>
</h6>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%88%B1%E6%83%85/">爱情</a></li>
    <li><a class="term-link" href="./tags/%E6%A0%A1%E5%9B%AD/">校园</a></li>
  </ul>
</div>
            </header>
<h1 id="君绘语">君绘语</h1>

<h2 id="第一章--与君初相识">第一章  与君初相识</h2>
<p>高中那会儿我老失眠，原因一言难尽。</p>
<p>记得有一次我去吃饭，遇到张君，我们聊闲聊中，谈到了我失眠的事，张君听了说，他们有个朋友以睡觉为己任的人。我不信，哪有这种人？</p>
<p>几天后张君竟把他介绍给了我，我们仨还一起去吃了饭，顺便逛了街，特别是喝奶茶的时候，张君故意给我和他有二人空间，整得像相亲似的，而后只是聊了些生活学习上的问题……在买花的时候我叫住他：“那个？”</p>
<p>没想到他没听见，“听说你以‘睡觉’为己任，”我提了声音又叫了一遍，搞得自己有些尴尬：“是真的？”</p>
<p>他一脸疑惑，又露出让人想笑的表情，道：“what?”</p>
<p>气氛顿时尴尬，我有些不好意思，手挡了挡额头，说了句，没什么。回头继续吃着烧烤便不再问什么，寻思着张君的话自己也信？</p>
<p>傍晚有些冷，校门就是我们的最后一站，老天在天角涂了层口红，不知道什么色号的，仔细看还挺美的。突然，岭正叫住了我，道：“都是为了我的下一代!”</p>
<p>我一时间没反应过来，以为他在与别人对话，不想他似有深情地看着我，补充道：“所以，你要好好睡觉才行！”</p>
<p>而后迷人之笑，怎么说呢？看着像在演戏一样，感觉这种桥段只有小说电视里才有，让我又懵又有些难为情，一时想不到什么好的词，只好顶着职业假笑示意“好的”。
“绘妹妹，”回寝室路上张君调侃道：“你要好好睡觉哦。”而后一阵哈哈大笑，我急忙想制止她，可越要这么做她就越要说，越说越开心。</p>
<p>回宿舍后我细品了岭正的话，总感觉有什么意思在里头，但时间久了便不再放在心上。</p>
<p>……</p>
<p>后来张君不怎么提他，我倒是期待着张君说点关于他的什么，至于为什么这么想，我不敢究其原因，也不想问张君 ，只想着张君能和我说说，明明是些琐碎的事罢了，再次回忆，便不由自主地想起那些人，那些事。</p>
<p>三个月后的一天，张君突然问我，还记得不得上次给你介绍的帅哥。我说，帅哥不记得了，只记得有个人说什么好好睡觉。随后聊的具体内容记不太清，依稀记得张君说，他转到了我们学校，而且在我们隔壁班。这算个惊喜吗……在我的生活里没那么多惊喜，也许眼睛会和惊喜反应，“生成”眼睛和平平无奇。</p>
<p>分班后的一天，我去找张君，问她在哪个班。张君告诉我，他们班在一楼，离食堂最近。她还说，一般来说，学校的食堂都挺干净的，外面的不怎么卫生，可绘啊！我还是喜欢吃外面的，特别是小帅哥带来的。</p>
<p>我说：&ldquo;又是用美色挣来的吧！&rdquo;</p>
<p>张君听到后哈哈笑了，笑声爽朗，我也跟着笑了起来，和她总能这么开心，但是，笑过之后我却突然感觉心情有些沉重。因为在上个学期期末考试结束后，我看到她和另外一个男同学坐在靠窗的位置上，他们俩个正在讨论着什么。他们的讨论是那样的热烈和激情，这是我从未见到过的。这一刻，我不知为何渴望着融入他们。</p>
<h2 id="第二章-仲夏夜之星">第二章 仲夏夜之星</h2>
<p>张君看着楼道下，一个小巧的女孩正一步一步走来，她知道是谁，长舒了一口气，转身对着小峰说道，小峰，我好像有点喜欢上你了。小峰一时还转不过来，刚刚还在讨论高考的试题，现在怎么……小峰没说什么，故意移开视线看着试题，张君，又继续道：</p>
<p>“可以牵牵我的手吗？一会儿，就一会儿。”张君抿了抿小嘴，“不说话就是默许。”张君不再犹豫，牵起了小峰的手。小峰面颊泛红，激动又开心，温暖的小手，好像柔软的云朵，微风拂过两腮，不经意让小峰忆起往事。他想：现在怎么也不想松开这个女孩的手了，因为这一天小峰已经等了很久很久了。</p>
<p>四年前的一个夜晚，我打球准备回宿舍，在收拾时，看到张君一个人独自坐在长椅上，篮球场两排明亮的灯光照在她的身上，泛着光，影子投影到地面综错散乱，被拉成常常的弧线，我走了过去，夜晚的榕树下凉得让人想就地睡觉，有些疲惫的我边走边拉伸着身体。</p>
<p>“唉，在这干嘛呢？”</p>
<p>“哟，打球呐。”张君寻着熟悉声音，看向小峰，确认是他后，说道：“出来乘凉。”</p>
<p>“切，女生宿舍不有风扇吗？”</p>
<p>“你以为想吹就吹啊！那也是要看舍友滴……女生的世界，你个男生不懂。”</p>
<p>小峰擦了擦头，看着地面道：</p>
<p>“谁tm大晚上跑出来乘凉啊？现在又不是夏季。”</p>
<p>“小峰，如果有个男生喜欢你……”张君长叹，又咽了咽口水，慵懒的说：“你们……”</p>
<p>“什么？男的！那不搞基吗？”</p>
<p>“呀，什么搞基啊，认真听我说嘛！”她继续道：“她还是你同学，你怎么办？”</p>
<p>“拒绝啊……为什么？当然是因为我喜欢女孩子啦，而且我接受不了……如果吗？哪有什么如果，你这是假设，这样的场景和画面我敢都不敢想像，怎么你搞……”
张君插话道：“什么什么呀！好好说话好不好。”</p>
<p>那天我想着要再次向张君表白，当时气氛尤为适宜，夜晚的操场很快人离影散，满天的星空捧着圆月，远远的传来葡萄架下的蟋蟀的奏鸣曲，好像拉小提琴一样，悠长而又慢慢地穿到我和张君这，操场的灯光还明着，铺洒一地，犹如海浪扑来，直冲张君的脚下，瞬间在身上如水浸透白纸般，我坐在长椅较暗的地方，一身好像穿着高雅的西服，一切都让我内心波涛汹涌。</p>
<p>我们似乎同时说出了对方的名字，我有些不好意思，他亦如此，我便让他先说。</p>
<p>“我被个女孩喜欢上了，她是我要好的朋友，看着小颗小颗的，纤弱又可爱，让我……不由自主产生保护她的心理，可是我不想因为这件事破坏我们的友谊……”</p>
<p>聊了会，交谈中张君告诉了我那人的名字，知道后也有些震撼，也许那时候不知道什么是喜欢，什么是爱，所以我不能理解她们的关系和情愫。正说着，我们看到校警摸着电筒，四处照射，似个夜间丛林里的猎人，我们也结束了相关的话题。</p>
<p>那后我渐渐的对她们之间的关系有些不自在起来，虽然如此，但我对张君的心却一直不变，对她仍存一丝丝希望，期待着有一天她回头，可以见到我还在原地等她归来，我无法忘记我与她们一同“出境”的尴尬处境，特别是虚假地做她男友，在喜欢她的人面前，把恋人的关系发挥到极致的事，我讨厌又害怕，犹如一场美梦，醒来却是肮脏的现实，噩梦般的现实。</p>
<p>记得有一次我还因此谎称生病，停了一周的课，可我忘不掉张君，我依旧喜欢她，我想和她来一次真正的恋爱，不一定热烈浪漫，但一定真实难以忘怀。在高中时我就知道她其实不喜欢我，可我还是默默等待着，在漆黑的夜晚做个可怜的人。</p>
<p>等我明白渐渐理解，和解这些事时，那已是许多年后的事了，张君也早已远嫁他乡，他乡的那颗星也一直在我可以看到的地方闪闪发光。</p>
<h2 id="第三章--剪不断理还乱">第三章  剪不断，理还乱</h2>
<p>苏绘走上楼梯，走廊传来张君的声音，他们讨论着今年高考各科试卷。</p>
<p>我纳闷一个文科生，一个理科生的，有什么好讨论的？我知道此刻我是羡慕的，想想自己摸底考自己就是一个失败者，失败者，失败者&hellip;&hellip;</p>
<p>我苦涩地一笑，恰巧张君见状问道：&ldquo;绘，怎么了？&rdquo;</p>
<p>我回过神，道：&ldquo;没什么。&rdquo;</p>
<p>等我微微抬头——张君和小峰的手十指相扣，看着好像他们的手被牢牢焊死，原来刚刚的男孩是小峰，为什么，为什么，那背影，那声音完全是另外的人。对我是那样的尊敬，玩笑都开不起，而对张君却畅言所欲，小峰， 小峰……我的内心一声又一声，就像远山传来的回音。</p>
<p>张君闻言大笑：&ldquo;哈哈哈&hellip;&hellip;你这个形象真好笑，对了告诉你哦，我和小峰确立关系了哦，今晚要不要庆祝一下下。”</p>
<p>张君说的小峰，是我认识的人，那会还初中，我一直觉得小峰比较内向，又有点高冷，可现在看来它和张君的性格都比较随意，所以关系也建立得很快，现在都是情侣了。我和张君是从小认识的，可以说我们是死党，我总喜欢调戏她和她的堂弟云，和他们关系特别好，我觉得我是他们最好的朋友，所以总是会开开些无伤大雅的玩笑。</p>
<p>“干嘛呢？开玩笑的，我和小峰没交往，”和小峰分开后，张君说了实话，可我当时并不相信，即使她说，有个人喜欢他，小峰为了避开她，他们就演演喽。</p>
<p>“我说嘛！君姐怎么会那么快换男朋友嘛！”</p>
<p>“啊？”张君看着我，愣了会儿，说道：“那不是。”随后我们鹅鹅地笑出声。</p>
<p>后面我和张君又聊了几句，然后就各回了各自己的寝室，我推开寝室进去，一片死寂充斥着寝室，我坐在床边，呆呆地看着天花板，突然觉得心里一阵空落落，仿佛心底里丢失了一个什么东西，很难受很难受。</p>
<p>张君，小峰和岭正分到了一个班，他们三个在班级里很低调，也不敢在学校里表露出他们三个的关系，毕竟那个班有些特殊，或许是不想引起别人的注意吧。不知道从什么时候开始自己躲在暗角默默地暗恋着岭正，对岭正的记忆自从分开后慢慢从脑海中消失，突然我想起，张君说的，我以后可能会是他的妻子，虽然我知道这是个假的概率，毕竟我和他还没到那一步，但心底里却不免升腾起一丝妄想，这些妄想也随着时间一天一天蒸发殆尽，为了不让这样的念头消失，我试着与他见面。我知道我配不上他，但是心底深处，却有些隐隐约约的期盼，期盼着有一天，我们能够在校园偶遇，在校园内，能够成为朋友，这样，我就能够时时刻刻，见证我和他在张君心目中的地位了。</p>
<p>一晃一年的时间，转瞬即逝。</p>
<p>我和张君、小峰、岭正他们的联系少之又少，除了偶尔见面聊聊，别的联系少之又少。</p>
<p>我们似乎都各奔东西了。</p>
<h2 id="第四章--再忆江南曲">第四章  再忆江南曲</h2>
<p>大一的一天晚上，我一个人躺在床上，想着和张君的点滴往事，我想起了我们初入江南高中时那个阳光开朗的张君，想起了那个总是喜欢逗我，却从来没有欺负我的云，想起了初中我第一次在学校的篮球场和小峰见面的那个早晨。</p>
<p>初中篮球场。</p>
<p>那一天天气格外炎热，有些受不了的直接不来，有些则虚弱地装一下，老师自然是信的，这样的天气搞不好真的会中暑呢。小峰注意班上的班花很久了，从军训那天开始，他就一直关注着她，报体育委员也是因为有她的名字，只可惜她没选上。这天，女子篮球组在练习，</p>
<p>“唉！她身边老跟一个家伙”</p>
<p>“什么家伙，人家有名字，叫苏绘。”</p>
<p>“耶，你们认识？”小峰的同学手靠在他肩上，说道：“什么时候的事。”</p>
<p>“唉，小学那会儿了，不过她是隔壁班的，她应该不记得我。”</p>
<p>小峰看要到他们组训练了，顾不了那么多了，直接上前与班花搭话。</p>
<p>我们第一次见面。小峰说：“如果你愿意当我的女朋友，我可以考虑带你进军篮球队。”当时张君愣了好一会，我也一样，这句话他是对张君说的，想想当时他是体育委员，我只不过是个连投球都不会，还硬要参加女子篮球队的家伙，自己真的傻得可怜。</p>
<p>张君看了看绘，对她说，绘可以帮我去拿一下纸巾吗，在那边的树底下，谢谢。</p>
<p>看着绘远去，张君提高了些声音，说道，你有那本事，我就答应。</p>
<p>小峰一脸春风拂面，说道：“你说的，别反悔。”</p>
<p>想到这我觉得那件事张君是刻意这么做的。</p>
<h2 id="第五章--终章">第五章  终章</h2>
<p>那时的我还是一个不谙世事的毛丫头，看着张君与小峰在一起，自己竟眼红了起来，那段时间一切的事情都只想着怎么和岭正在一起，我每天都在幻想着和他有朝一日可以成为男女朋友的画面，但是，一切的梦境都只是梦境而已，在现实里，我和他永远也不会在一起。想到那天鼓气勇气与岭正告白，却被拒绝的画面……眼泪不知怎的流出眼眶，打湿脸颊，黑夜抚摸着我，似乎在特意安慰，可我内心久久无法平静，久久无法入睡。</p>
<p>翻来覆去怎么也是那美好而又难过的岁月。</p>
<p>那天，我去学校图书馆借书，张君的书包落在图书馆里。张君让我在图书馆外面等一下，张君走了很久，我在图书馆外面站了好久好久，突然有人拍了我肩膀一下，我吓了一跳，猛地回头，见是云，我松了口气，拍了拍胸脯，责怪他道：&ldquo;怎么走路一点声音都没有，吓死我了。&rdquo;</p>
<p>云微笑着，道：&ldquo;我看你站在外面想事情想得很投入，所以就狠下心打扰你。&rdquo;</p>
<p>我问：&ldquo;你怎么在这里？&rdquo;</p>
<p>云说：&ldquo;我和朋友谈了点事儿，他们让我在这里等。&rdquo;</p>
<p>云的那些朋友都是高年级的学生，有男有女，看起来都不怎么好惹的样子，不用说也知道，云在这里肯定是认识不少人的，我心中不禁有些担忧，担心云在这里受到别人欺负。
我问：&ldquo;你朋友都是些什么人啊？&rdquo;</p>
<p>云道：&ldquo;是我以前的同学，现在都在这个学校里上学，我在这里认识不少人，以后有事儿，找我，我罩着你！&rdquo;</p>
<p>我道：&ldquo;好啊，那我有事儿了再找你吧！&rdquo;</p>
<p>云说：&ldquo;行！&rdquo;</p>
<p>云和我说的话很简单，但是，我知道他一定是一个善良的人。</p>
<p>在外面久久不见张君出来，我的内心莫名有些难受，等待也许就是这样……</p>
<p>想到这我才知道，那时的自己对张君是怎么样的感情，我就是只愿做信鸽脚下的信筒，即使有天会被丢弃，只要有一刻还在与她在一起，我所忍受的都是值得的，可我一直在她的庇护下，一步一步走向自己的未来，这种种美好而痛苦的记忆我永生难忘，这一生也不会再有。</p>
<p><strong>写于2021年6月</strong></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%82%AC%E7%96%91/">悬疑</a></li>
  </ul>
</div>
            </header>
<h1 id="白唐战绛">白唐战绛</h1>

<p>“时间的真的存在吗？”</p>
<p>我很意外王妈为什么会问我这样的问题，王妈小时候家境不好，没有机会上学，她对我说过，去学校上学的次数十个手指都数得过来。王妈的问题是显而易见的——时间是存在的，我想这么说，但还是如此回答了她：“王妈您怎么突然问我这个？”
“没有嘛，你们读书嘛！”她啊了一声，好像对我的答案有些失望，说道：“就想问问你，看你懂不懂。”</p>
<p>“时间是存在的，你看每天时间都在走，太阳升起，太阳西落……”我有些难受的说道，不知道为什么自己不知不觉的也编不下去了，觉得这个话题是不是太哲学了呢？</p>
<p>“从前呢，天上有个管理太阳升起，落下的神仙，人们管他叫乍，本来人死后去的地方也是有太阳的，后来就没有了，说是有一天乍在水边叫太阳下山的时候，看到一个老奶奶在水边哭，他就上去问，你怎么在这哭得这么伤心。那个老奶奶回答道，我不想离开我的丈夫，因为他一个人生活会很辛苦。这个时候乍才知道这个老奶奶是一个鬼魂，乍听完说，他在地上活得好好的，你应该高兴。老奶奶还在哭，边哭边抹着泪说，要是你每天让太阳晚点出来，晚点下山，人们就不会死那么早，我也会多陪陪自己的丈夫。乍听完那个老奶奶说完，慢慢的坐下来，跟老奶奶说，每个人心里都有一个太阳，如果把这个太阳丢掉，你就不会再说那样的话，你也就不会那么伤心了。说完乍把太阳收了回去就走了，从那以后死去的人生活的地方再也没有太阳，心里也没有了。”</p>
<p>听王妈娓娓道来的故事，我内心五味杂陈，我顺意点了点头，早已把王妈刚才的问题丢掉，后来又调皮的和王妈吐槽这个故事，为什么老奶奶不知道一天时间其实是一样的，即使白天变久了，一天还是二十四小时！王妈也只是笑笑，没在说什么，继续自己手里的针线活。</p>
<p>暑假漫长而又炎热，特别是在东州这一带地方，一天不开空调自己无法在房间里待下去，外面也是闷热，空气划过脸脖，抽离着细小的汗珠和油脂，黏着皮肤的汗珠让人不禁想抓一抓，今天的太阳也是同样的毒辣，闷热的大地烘烤着水面上的水葫芦，可水葫芦似乎未伤分毫，到是蒸熟了一旁的芭蕉——龇牙咧嘴的。</p>
<p>王妈家住在工厂旁不远处，每每早上六七点和晚上十或十一点就会看到许多打工人出现在小区楼下，他们总是拖着疲惫的身体上班，拖着疲惫的身体下班，在学校我总能看到一些人精神饱满的过着每一天，过着充裕的生活，想到这我不禁感叹：还是待在学校好啊！</p>
<p>自己来东州游玩也有些许天了，闲下来的时候总要睡午觉，因为住在工厂旁边，午觉的时候总能听到远处工厂传来的“轰隆”声，不是被惊醒，就是与梦境“重影”，构建着一些奇怪的梦境，前些天到处跑，也许是玩的太疯了，现在对外面的美食，风景一点兴趣都没有，只想静静地躺下，午觉醒后在阳台看到王妈在做针线活，于是便上前与她聊了会儿天，关于王妈提出的时间是否存在这一话题，我想大部分人都会回答“是的”吧，想想拿掉后人生活的一切岂不是都失去了本有的意义，不知道什么时候醒，那个点该吃饭，出去玩多久等等，涉及到时间的话题太多，没了时间概念的世界会很无聊的吧！</p>
<p>“王妈，我爸说我们明天就回家了，您要和我们回宁云吗？”我说道：“去我家玩几天呗！”
“明天就走了？”王妈停住了手里的针线活看着我问道。</p>
<p>“对啊，我爸说出来太久，没钱了。”后面一句是自己对父亲的调侃。</p>
<p>“哎，你爸打不准蒙你的呐！他呀哪是没钱，估计也是像你玩累了，”她一边朝着我笑，一边继续自己的针线活——转而问道，“你爸还是在你外公那个木厂吗？”</p>
<p>“早就不在了，几个月前的事情了。”</p>
<p>“你爸也是不容易，”她叹气道，我回答“也是”后，她继续道：“赘婿呢就是这样了，做什么都得看丈母娘家的脸色，你妈妈家也是呀……想想以前我从村里出来的时候，你妈妈家来的礼就是最贵的，那玩样现在还在我那木箱里呢？”
“是个什么东西呀，王妈？”</p>
<p>“是个织布机。”</p>
<p>“织布机是那个时候最贵的吗？”</p>
<p>“你不知道，那个时候我们苗家的姑娘衣服都是自己做的，街上也有卖，但穷人家哪买得起哦,织布机可以做嫁妆，可以做新年衣服……”</p>
<p>“那岂不是每家都得有才行？不然他们就没新衣服了。”</p>
<p>“是喽，是喽！”王妈笑着回答道：“那时候有的人来件衣服，来套棉被，还有的是直接给钱的……那时候家家都是得有个织布机，对我们苗族人来说要有的，有嘛都好喔，没有嘛叫人做都要做出来，所以织布机一对比起来就不一样了，你妈妈送我那件做得很好，听说是一个很厉害的木匠做的。”</p>
<p>“那等你忙完，带我去看看呗。”我倒要看看是什么高档货，王妈这么多年还留着。</p>
<p>从阳台往里走是大厅，大厅左边有两个房间，两个房子之间隔着上二层楼的楼梯，楼梯下有一道木门通往地下室，打开木门，随着一声喀吱的声音感觉自己走入封存已久的宝库，仓库楼梯扶手是钢焊接不久，下楼梯时能闻到焊接时留下的味道，其间夹杂着木质发霉的味道，沿着台阶往下走，右边挂着一些画和幼儿园、小学的奖状，奖状估计是大厅那边放不下而移到了这里的，奖状上写有王思芳和王季远姐弟两的，还有那个我熟悉的名字杨——白唐，在这边。王妈叫住了我，示意我往下走，我小跑下了楼梯，右拐再下一次楼梯就到了地下室的仓库，地下室就在大厅的下面，被一堵墙分成两半，另一半则是车库，走到楼下刚才木质发霉的味道很快就消散了，地下室灰尘很少，打扫的也很干净，从楼梯下来右手边堆积着许多破旧的书籍，在红色的书架上高高堆叠，远远看着给人一种难以接近的感觉，下边堆积的是一些工具和木质器件，洋枪的枪柄，木凳子，木长椅，甑子，锄头镰刀柄等等，还有很多我都不认识，在靠近车库的右下角就放着织布机，由于常年使用有些地方光滑亮泽，好像刚被涂上树脂漆一样，又好像一个精神抖擞的老奶奶。织布机一共有两台，王妈告诉我小的那一台是后来王爷爷自己做的，属于是织布机的改小版本，而小织布机旁边就是父母送王妈的织布机，现在去网上搜也能找到这种老款的木质织布机，唯一不同的是这台留存着王妈从出嫁到现在的种种回忆，梭子上的光泽，打纬中间因每次缝制衣服都会拉一下而有所磨损，这些也许就是勾起记忆的痕迹吧！雨落红花谢了春，莫熵增！日月颠倒长河归，同与故人醉。织布机上贴着贴纸，贴纸上写着一首这样的诗歌，虽我字字都认识，但古诗赏析什么的绝非我强项。</p>
<p>“王妈，这首诗是谁写的？”</p>
<p>“那里……哦，说不定是季远他们胡闹贴上去的，”她小心的撕下贴纸，又小声的骂了季远一通，接着说：“这就是那台织布机，你要是想学王妈教你，打不准那天自己给自己做嫁衣呢！”</p>
<p>“我吗？还是算了，我针线活也就那样，平时能缝缝补补自己的衣服就好了，至于做嫁衣……算了算了。”</p>
<p>“多会一样对自己也好的，但是现在人家都用机器弄了，什么衣服都可以弄出来，所以你们这群小鬼把老祖宗的东西都忘干净了。”</p>
<p>“新时代了嘛，不一样了王妈！”我尬笑的说道。</p>
<p>王妈笑了笑，似乎准备给我介绍什么，突然手机响了起来，王妈出去接了电话，我便独自一人看着织布机，怎么看也看不出它的高档所在，以及工艺精湛，或许我是我对这方面了解太少，想到这真为自己堪忧，自己到底该了解，该知道什么，越是深入思考这个问题自己就会陷入“无解”的死循环。</p>
<p>看到刚才的贴纸被王妈丢到了地上，我半蹲拾起贴纸，心里又默默念了一遍，王妈家会写诗的人，除了姐弟两还有谁呢，他吗，可他的语文水平不咋地呢，要写出诗来——一万个不可能！估计是在哪里摘抄的。我起身去看了上边的书籍，一些幼儿园到高中的课本七七八八的叠堆在一起，地上放着各个科目的习题试卷，还有一些配套资料，看到这些我也不禁想起自己的初中生活，想不到这么快就初中毕业了，不论是美好的，还是难过的事就这么过去，一去不复返了，我有时候会不经意间想起某个人，某件事，即使令人难过，那些画面还是会不间断的脑海里浮现，说“忘记那些痛苦难过的事，这些都过去了”的人一定是自欺欺人吧!我想恰恰是这些痛苦难过的事难以忘记，让我们学会珍惜现在，珍惜现在的每一天。</p>
<p><strong>写于2023年7月</strong></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%88%B1%E6%83%85/">爱情</a></li>
    <li><a class="term-link" href="./tags/%E6%B0%91%E9%A3%8E/">民风</a></li>
  </ul>
</div>
            </header>
<h1 id="阿牛和阿花的爱情故事">阿牛和阿花的爱情故事</h1>

<p>牛村与花村仅隔一片红树林，深秋里，满山的红叶铺天盖地，牛村的村尾是个好地方，常聚着城里来的人，就是离阿牛家远了些。</p>
<p>“嘿！ 阿牛。你要老婆不……不，只要你开……开……金口……”阿牛理着枯萎的草，寻声一看，是那跑腿的阿光，阿光无力地扶着杆，面红耳赤。</p>
<p>阿牛生硬地答道：“老婆？不要。”</p>
<p>阿光一身酒气，吐字不清，阿牛手头又忙着，便不再想理他，正要离开，不想阿光一把扯住他，断断续续的说道：“村尾……有靓妹哩！啊哈……看看去，保你……保你……爱。”</p>
<p>阿牛无奈道：“行了行了，我嘚去花村，忙着呢！”便离开了，而阿光还在牛槽旁自言自语，暗自欢喜着什么。</p>
<p>乌云渐渐压向红树林，此刻花村也许已倾盆大雨了吧，想到这阿牛便想回家拿伞，正要离开，一声声熟悉的笑声拉住了他的步子，寻声向桥下俯视，那寸头高鼻梁，小眼尖脸蛋，黝黑黄皮肤，臂粗高大个，影子印于桥头，此景定格于此时。</p>
<p>那熟悉的背影，那熟悉的声音，没错，她就是阿牛的青梅竹马——阿花，还有从小到大一直欺负他的阿狗。</p>
<p>“哎呀，你轻点……”说话的是阿花，她往前，阿光紧挨着，她手一拣，他手一搭；她手一捻，他手一抓。桥下，一男一女，你前我后，我左你右，动作形如流水，相当娴熟，此刻阿花的声音传到安流这儿，都是嗲里嗲气，而阿光的举止在阿牛眼里，那就是讥笑。</p>
<p>阿牛气得肝疼，怒骂道：“靠！这厮的真扫兴，呵。”把手里将给未来岳父大人的酒摔了一地，扭头不知将去哪里。一路上阿牛又气，又百思不得其解，他不明白，从小到大，阿花便是自己的玩伴，实打实的青梅竹马，渐渐的她成了阿牛的中意人，阿牛追阿花这些年也没有三心二意，她哭，阿牛安慰；她闹，阿牛捧哄；她病，阿牛照顾。为给她买生日礼物，阿牛千里迢迢，去城里挑玩偶，对于阿牛而言，他愿为阿花上刀山下火海，拼死拼命也要护着他，可是现在她却和别的男人在一起，还是自己憎恨，厌恶的男人。</p>
<p>阿花听到远处山林“哗哗”作响，又看了天气，便道：“哎，阿狗，要下雨了，咱们回家吧！说不准阿牛哥已经到花村了。”</p>
<p>“唉！花妹妹，”阿狗忙着收东西，向阿花追去，道：“你别急嘛。”又嘀咕了句，道：”整日阿牛哥，阿牛哥，你眼里就只有他吗？”</p>
<p>阿花在前边督促道：“狗子，你快点呀，雨要来了。”</p>
<p>“来了。”</p>
<p>自那后，阿牛觉得阿花已不再喜欢自己，但自己终又放不下她，可阿牛越想头脑子越乱，越想心里越烦，不久他便同阿光去了村尾。</p>
<p>那日大雨唏哩哗啦地下后，花村口也不见阿牛哥的踪影，阿花在自家门口，盼着盼着，盼了个寂寞。突然眼前一个身影，“阿牛哥——”她叫道，那人回头——咦！是阿狗，阿狗见了阿花大喜，道：“花……”还没说妹妹，阿花已关了门。阿花爸见她一脸愁，问问咋啦！她唉声叹气，她爸看着庭院外道：“你这娃儿……阿牛怕是这段都不来喽！”</p>
<p>阿花疑问道：“不来，为啥子嘛！”</p>
<p>阿huaba笑眯眯的道：“年轻人的那些事我哪懂得嘛！听隔壁张姨说，那天看到阿牛把酒摔在了桥头那哩。”</p>
<p>阿花愣了一愣，这才想：难不成……呀！阿花起身回了房，不一会儿便带门出去了。</p>
<p>她爸在院里喊道：“天快黑了，哪去……不吃饭啊！”</p>
<p>“不吃了，晚点会回来。”回声渐渐从远处传来，此时灯火已经渐渐亮起了。</p>
<p>一路上，阿花的回忆伴着喘气声，一段一段的在脑子里浮现。那天，“哎呀，你轻点，别把鱼给吓跑了。”阿花说道，
阿狗往阿花那靠了一靠说：“你现在这声音不就把他给吓跑了吗。”阿花无语反驳，一把推开了阿狗。她手一拣，阿狗手一搭，阿华厌恶地瞪了他眼；她手一捻，阿狗手一抓，阿花像抓狂的狒狒一样，怒斥道：“狗子，我告诉你，你最好给我老实点……男女授受亲，你不懂吗！”阿狗摸着后脑勺表示明白。可此景在按钮眼里，似乎是“别样”的风景。</p>
<p>然后一边跑心里还一边默念：二牛哥不是你想的那样，不是你看到的那样……你……你不要……</p>
<p>炎炎夏日，一天，阿牛上山背马草，午时正要回阿光家，在田道上遇到几个小伙子在偷窥田间的姑娘，路过时，听到他们议论那姑娘，且尽说些低下话，阿牛听不惯，这烦还在心头，二话不说，上去就是一拳，他们还没反应过来，阿牛又一勾拳，打得那些人七窍流血，这才停手。</p>
<p>姑娘见有动静，便前来阻止，阿牛呵斥道：“再见到你们说姑娘坏话，我就捆你们去犁田，打断你们的狗腿子……”</p>
<p>那些人见不妙，便纷纷离开。</p>
<p>“干嘛打他们……”</p>
<p>说话的正是田头头的姑娘——瑶妹，蓬松刘海，大麻花长辫，玉颜黛眉，肤白胜雪，水汪汪大眼，娇小玲珑，袅娜丰满，蔚蓝花衣，青黑长裤——真是乡间仙女。阿牛一辈子还真没见过这样的美女人，若不是心里住着阿花，或许此刻他内心早已小鹿也乱撞。他脸颊泛红又低了头。</p>
<p>突然严肃道：“那些混蛋偷看你还说你坏话，我……我听不惯低下的话，就揍了他们。”</p>
<p>瑶妹微微笑，绽出两个酒窝，道：“听不惯？是讨厌那样的人吧！”</p>
<p>“讨厌？”阿牛嘻嘻道：“姑娘看不是本地人，是外地来的吧！”</p>
<p>瑶妹答道：“不是噢！我的家……老家就在这的。”</p>
<p>阿牛接过瑶妹，端来的茶水望着瑶妹     ……</p>
<p>说着，瑶妹便要阿牛回家喝口茶，以表感谢，阿牛也不好回拒，便去了。</p>
<p>阿花那日去阿牛村找阿牛，没找着，探到阿牛已去了村尾，这天才早早从家里匆匆赶来，正午烈日灼心，阿花看到村尾就在半山腰上，这才为自己捏了把汗，心中也不由得欣喜了些。</p>
<p>“阿牛哥，你……你……”阿花盘扶在村口门柱上，道：“你这个负心汉啊，我以为你不来家吃饭，是咱们有误会了，不想你是有别的女人了。”</p>
<p>瑶妹一边揕着茶水，一边道：“还不知道你的名字呢？”</p>
<p>阿牛：“哦，我叫阿牛。”</p>
<p>瑶妹迟疑了会儿，说：“是阿牛村的牛哥哥吗？”</p>
<p>阿牛心一暖，笑咪咪道：“是的，牛村就只有我一个叫阿牛。”</p>
<p>“我刚从城里回来，真想去村里看看红叶林。”瑶妹看着村外，一面期待地道：“还有去花村划竹排……真的好想你去呢。”</p>
<p>“这离村里也不是很远，有时间你可以去看看，红叶林，花……”阿牛愣了一会儿才道：“花村那条江也很漂亮的……”</p>
<p>瑶妹看了看阿牛哥笑了笑，端茶水递给了阿牛哥。</p>
<p>他正要接过茶水，不想一阵“阿牛哥”，让一下他停住的手。</p>
<p>他一看——阿花。阿花边走边说，道：</p>
<p>“阿牛哥，你……你……”</p>
<p>阿花不小心摔倒在地，叫喊道：“你这个负心汉啊，我以为你不来家吃饭，是咱们那个误会，不想你是有别的女人了。”接着就是一阵哭。</p>
<p>阿牛急忙跑去扶阿花，那黄油脸，黏着土，蓬乱发，携着泥，小眼肿鼻，淡须大嘴，红色大花衣，黑色大长裤，无不散发着咸味，那猪腩大粗腿，墩墩似柱肚，
瑶妹见了大惊，但又觉得没有哪里不适。</p>
<p>阿牛正要扶阿花，不想一只手把他推开，那人道：“走开！你个负心汉，枉费花妹妹对你一片痴情。”</p>
<p>瑶妹对那人骂道：“哥，你干嘛推他……阿牛哥，你没事吧！”</p>
<p>阿花见到此景怒气冲天，立马起身，阿狗担心道：“唉！花妹妹……”</p>
<p>瑶妹一边扶起阿牛 ，一边询问他，没事吧，阿牛道：“阿花你怎么来。”阿花看到瑶妹扶着阿牛，欲说的因果一之间烟消云散，不经意间泪流满面，她哭着说 ：“阿牛你口口声声说喜欢我，可你离开就是为了见……见这样的女孩。”</p>
<p>瑶妹连忙解释：“花姐姐，我想这里面有什么误会。阿牛哥他……”</p>
<p>“住口！死厚脸皮你个婆娘，”阿花口吐碎沫怒斥道：“牛哥……那么喜欢我，你为什么要抢走他，你个毒辣女……”</p>
<p>瑶妹一脸委屈，说不出什么话来。</p>
<p>那流氓出来打断道：“阿花你够了！这是咱俩的事，跟她没关系。”</p>
<p>阿狗道：“啊，你又看不出啊，你是这样的人，脚踏两条船胆够肥的呀，我看你对阿花好是为了他家那几亩地吧，唉，话都说到这份上了，前些年他娘死也是跟这有关的吧”</p>
<p>阿牛大怒道：“你不乱说，行吗，没这回事，我对阿花好真心实意，不是图他家那几亩地。”</p>
<p>阿狗道：“呵呵，谁知道呢，人心难测，况且你现在对阿花移情别恋，呵我看你就不是个好东西，你就是馋他身子下贱！”</p>
<p>听到这阿牛更怒了，他道：“你说什么……”正说着，阿牛正想给他一拳，不想这个时候，阿花一脚，阿狗伏倒在地，</p>
<p>阿花大叫道：“放你娘狗屁，阿牛哥对我怎么样？用不着你左一个右一个。”</p>
<p>阿花转回头，对着阿牛说道：“阿牛哥，我一直觉得那天在桥上那件事是个误会，但是……”</p>
<p>阿狗一听到桥上，立马机灵了起来，抢在阿花前说道：“哦！我终于明白了，那天你摔酒在桥上是故意的吧，你就是想趁这个机会把阿花给甩了，听说那天不久，你就和阿光去了阿光家，阿光的姐姐一直中意你，这全村人都知道……呵！阿牛你够狠啊！”</p>
<p>阿花听了，声带似乎打了结，望向阿狗。</p>
<p>阿牛气头上来，便一拳打在了阿狗脸上，他两在地上狰狞不休，围观者左右难劝，突然，阿花大吼道：“行了！”一时间地上的他俩也停住了手。</p>
<p>阿花对着阿牛道：“我一直以为那天在桥头上的是个误会，但现在我觉得这确实不是个误会，你所看到的都是真的。阿狗对我比你好多了。”</p>
<p>说完阿花哭着跑回了村，阿牛坐在地上沉默了很久很久。</p>
<p>（上篇完）</p>
<p><strong>写于2020年</strong></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%97%B6%E7%A9%BA%E6%97%85%E8%A1%8C/">时空旅行</a></li>
  </ul>
</div>
            </header>
<h1 id="时空国度-木尸王朝">时空国度-木尸王朝</h1>

<h2 id="第一章-序">第一章 序</h2>
<p>火车站往东沿着才华路步行十分钟便到衡岭财经学院，这条路王肖一年会走五六次——多的是回家或回校，他的理想大学是南国大学，虽与之擦肩而过，但南国大学也在衡岭，想到这他觉得这何尝不是一种好的选择。</p>
<p>“王肖，你参加社团了吗？要不要来我们财经社团。”舍友问道。</p>
<p>“话说王肖你参加什么社团了吗？”舍长小声的问道。</p>
<p>王肖放下手中的游戏，“农户养殖协会。”他生硬的说道，大伙都没听清，于是他又重复了一遍。这番话惹得另外一位舍友讥笑道：“还得是你，这才是我们水产品专业该去的。”</p>
<p>“平时干嘛的？”舍友认真的问道。</p>
<p>“我怎么知道，加了个会员就不见动静了。”王肖听着他的问题有些不耐烦的回答道，接着继续玩起了自己的游戏，不一会他又解释道：“好像要做干事这些才会有活干，我嘛就是去混分的。”</p>
<p>没人回答，不做声的何天宇笑了笑，缓解着尴尬的气氛，随后他们开始讨论了何天宇为什么笑？只是王肖不再想接收任何信息，对于这种场面他痛恨自己很多次了。</p>
<p>晚饭过后，王肖又是一个人去逛街，点了杯烤奶，又买了份炸鸡，边走边吃是他的习惯，果然到宿舍楼下仅剩半杯烤奶，今晚没课舍友都窝在宿舍里打游戏，王肖也不例外，为了打上王者王肖估计是要拼一晚了，他已经做好了打算，白云慢慢的擦拭着月亮，月亮的肤色也渐渐的皎洁明亮，在学校能听到公鸡打鸣是件难得的事，而王肖却不这么认为。</p>
<p>人有时候熬夜到四五点，便能把困意死死的钉在大脑疼痛之中，然后与似乎垂至暮年的心肝迎接那抹刺痛双眼的朝阳。</p>
<p>第二天，他早早起床洗漱，然后安安静静的离开宿舍，到校园那片似乎要撑破天的松林，聆听盛夏遗留下来的鸟鸣，还有那些新闻广播专业同学的嗓音，一切听起来为什么这么动听？宛若圣洁的教堂，只是他的教堂不一样。离上课还有十几分钟，他便起身拎包往教学楼走去，结果教室一个人都没有……</p>
<p>大家都这么懒的吗，就我一个先到，不会吧？他不想表露这份心情，可表情却如此诚实，洋溢着的微笑证明了他真实的内心，紧接着他开始不安，已经快上课了，一个人也没有，他掏出手机看了看宿舍群——一片死寂，“你们知道教室在哪吗？”这则消息在他指尖乱窜，几乎快隔空点在键盘上，不知道什么样的能耐才能让这样的消息同时背负希望与耻辱，想想发出去后会遭到舍友嘲笑，王肖便就此作罢。</p>
<p>“同学，这间教室被征用了！”一位女同学开门提醒道。</p>
<p>王肖哦了一声便快速离开了教室，走到楼梯口，他又来回看了看班级群才知道——教室改了，消息是昨晚发的，顿时王肖的那份心情跌落谷底——摔得很痛！</p>
<p>校运会的一天中午。</p>
<p>“又打包？！”何天宇开宿舍门后说道：“这小子，空调也不开。”</p>
<p>“是啊！”王肖小声的说道，似乎是说给自己听的：“不是很冷。”</p>
<p>“以前校运会没见这么冷的。”一位舍友说道。</p>
<p>“昨晚又到几点啊！”另一位舍友说道。</p>
<p>“两点这样吧！”王肖知道问的是他。</p>
<p>“我昨晚上厕所还看见他在玩，三点多这样！”何天宇说道：“小心点小子，身体支不住才懂错。”听到这王肖心里颤了颤，想想多少点已经无所谓，熬夜从来不看时间，看的是身体能坚持到什么时候。</p>
<p>“妈的，你们知道么！我们学校实验楼一楼男女厕所一样，上次我去出来一个女生，吓我一跳。”何天宇说道。</p>
<p>“我靠，真假啊……那哪个是那次呢？”一位舍友问道。</p>
<p>“谁知道，反正我以后不去了。”何天宇边调空调边说道。</p>
<p>……</p>
<p>晚饭过后王肖去剪头发时发现，自己发量比以前少了很多，看来最近的顾虑是对的，上次献血时医生告诉他，他肺部可能感染了，希望他能尽早去医院检查，这件事这次才放在他心上。</p>
<p>秋去冬来，远看青山带着白云草帽，不由觉得是冬天的景象。</p>
<p>“喂，能听到吗？”电话一头问道，听到这边答了嗯，那头接着问道：“医生怎么说？”</p>
<p>“肺部感染，还有什么胆红素过高，叫我过几天再去检查。”</p>
<p>“嗯，那去做好检查，务必把病治好，钱还够不够啊？”</p>
<p>“没多少了。”</p>
<p>“我待会微信转你，叫你妈妈过去看看你吧……”</p>
<p>“不用了，爸！”王肖打断道：“不用来了，麻烦……”王肖打心地不希望自己被一个外来人可怜。寒暄几句后，他便挂断电话，扯了扯帽子往公交站走去。</p>
<p>上周。</p>
<p>王肖去医院做了检查，疑似患了乙肝病毒，但具体结果还得等后面检查，医生让他不要过于担心，注意休息。走出医院的他不敢把这个消息告诉自己的舍友，自己也害怕传染给自己身边的人，似乎这个病能否患上，能否真的传染，是他说的算一样。</p>
<p>从学校大门直走是学校的图书馆，图书馆面朝东方，其后面是一片松林，穿过松林就到了学校的教学楼，为迎接八十年校庆，教学楼也翻了新，远远可以闻到涂漆的味道，早上的专业课还没有结束，王肖穿过人群，上楼赶往教室，赶上了三四节课，进门——后排早早坐满了人，唯独前排只有几许人，王肖坐在了黑板前面，低着头听完了上午的课。
下课后等所有人走完后，他才慢慢起身离开教室，现在食堂一定挤满了人，他朝着图书馆走了几步，然后加快了脚步，在图书馆找了十几分钟的书籍，始终没有抽出一本，就这样不知道过了多久，他从海量书籍中借了几本小说，离开了图书馆，从图书馆往右走，经过一片桃林，在穿过一条小街，就到了南苑，此时已打铃睡觉，路上的人少之又少，一层喜悦蒙上一层凄凉，王肖走进食堂安静的坐在角落吃完了螺蛳粉后，便去教学楼打盹了。</p>
<p>周五下午，王肖顶着一顶鸭帽往南苑走去，上台阶时风太大，刮走了他的帽子，他顿时感觉地中海一阵凉意，但他没有理会急忙去捡起自己的帽子，最近掉发太厉害，而且自己也不想剃寸头，于是先买个帽子遮遮面，从楼梯下来是一楼的饭堂，饭堂两侧开满鲜花，看到王肖不顾一切的样子花儿笑得前仰后合，风开始大声高歌，远远可以看见一丝丝细发在空中欢快的舞动，好像人群中有个鹤立鸡群，金光闪闪的人物出现了，同学们都遮头避面，狂风大声高歌，似乎声音能震碎金光一样，大家都看到了站立中央的王肖，他像一只瘦弱的猴子——抓耳挠腮，四处寻找的动作不禁惹人发笑，一位女同学捡起他的帽子，递给了他，王肖看见她面容平静得吓人，好像什么吓人的表情刚被埋葬一样，他接过帽子，那一瞬间那害怕的嘴脸破土而出——好像死人复活一样，接着他看清了在场所有人的面容，他习惯性地低声说了声“谢谢”，然后带上帽子含着泪水逃离了诈尸的现场，远远还可以听见他们与狂风高歌。</p>
<p>王肖跑到了实验楼一楼，差点进错了厕所，慢慢摘下自己的帽子，慢慢的目光看向了镜子中的自己，尖形的头型两侧残存着一处又一处头发，真似马儿啃的一样，地中海一条条可以数清楚的毛发，好像自身有千斤重，摇摇欲坠，细细看看吧！真的有几分科学家刻板面貌，那浓眉大眼，臃肿大鼻，小嘴肥下颌，一切为什么显得那么的不搭，慢慢的自己也笑了起来，然后便是不知哪来的泪水，泪水扑向味蕾，诉说着往日岁月里所有的不甘与委屈。</p>
<p>一天早上，王肖向班主任请了假，理由是自己要外出就医，但班主任告诉他小病就在校医室看，大病得有校医室的检查证明，王肖想自己的乙肝学校也查不出什么吧！而且自己也不愿意和老师说这件事情，于是下午自己在办公室的时候便又编了一个理由——外出考驾照，老师问，下午的课是专业课还是公选课？王肖诚实的说，是专业课。老师告诉他下次不许挑专业课外出，王肖点了点头，恨不得马上离开这个地方，有那么一刻他觉得自己不属于这里，这里的一切看起来为什么这么讨厌，自己的门没有紧闭，为什么没人前来敲门？
离开学校后，王肖去医院做了检查，又向自己父亲说明了自己的情况，挂断电话后，不自觉的走到国际大厦，大厦旁边有个广告牌，上面印着“乌鸡山欢迎您的攀登！”几个大字，想来也不想回学校，不如去爬山放放松吧！</p>
<p>王肖扯了扯帽子往公交站走去，消失在街道的人海里。</p>
<p>不久公交到达了乌鸡山旅游景点，因为没带学生证自己没办法享受学生价，不得不付高额的原价，乘坐游览车抵达山脚下，王肖没有多想便登了山，历经几个小时，他终于到达了乌鸡山山顶，乌鸡山是衡岭最高的山峰，一千八百八十八米的海拔让王肖觉得此刻自己也有杜甫“一览众山小”的心境。因爬山前没准备食物，等到山顶王肖早已饥肠辘辘，想想也没办法，于是便找一处没人的地方休息，随后竟然睡了起来，在自己的家乡流传这样的说法，人凡在野外犯困，不能在地上睡觉，否则容易招来地狱的黑白无常，但王肖怎么会相信呢！</p>
<p>太阳渐渐脱下发着毒辣光芒的衣服，奔向西边的白云，惹得白云脸上红扑扑的，像一个害羞的小姑娘。
王肖醒来看了手机发现已经很晚了，于是准备下山，乌鸡山南北边路段都可以下山，只是王肖来时是南边，现在自己不知为什么——竟产生一个奇怪的想法——去涉足自己未曾涉足的地方，去走自己从未走过的路，想到这自己为自己接下来的做法不禁自豪起来，心情也好了许多。
冬季太阳南回归线移动，山的北面往往会比南面稍暗些，对于乌鸡山这样高树众多的山来说更为明显，对黑暗的惧怕也许是人类的天性，当这类天性遇到人类所建立起来的理想准则时，一切的反应都显得那么真实。</p>
<p>往北走先绕过一个弯，在下一段陡峭的路段，然后经过一座座灰白色的水泥亭，准备到第一座亭子时，由于树木渐渐变多，夕阳也渐渐袭来，森林里也渐渐地暗淡，一种恐怖气氛由之而生，王肖边走，边加快脚步，差点摔了个跟头，他一抬头——远远一个穿着白色衣服的女子扶着亭子在那边摇扇，仪态端庄高雅，就像是古代富贵门第出来的淑女，可样貌不清，王肖近视严重自然也看不清，起初他觉得那并不是什么女子，可他越是走近，样子越是清晰——突然，后林哗啦一声，王肖大叫一声：“妈呀！”紧接着他回头刚刚的白色女子依然消失，王肖发出颤抖的呼吸声，急忙往山上跑去。</p>
<p>在山顶上还算是明亮，他站在今天“一览众山小”的地方，还没等他缓过气来，一声“轰隆”，山顶坍塌，他随着山石掉了下去。</p>
<h2 id="第二章-乌鸡山神庙">第二章 乌鸡山神庙</h2>
<p>在乌鸡山山脚下流淌着一股清泉，泉水从乌鸡山主峰——鹊连山一座池塘里冒出，池子四周长着各种奇花异草，高大古木，池子流下山脚在一处低洼形成一小滩池子，池子长着碧绿的荷叶，过了花期的池子虽少了几分姿色，但热闹却从未消停。</p>
<p>柏月每次来到这里除了捣衣外，还会观赏观赏清凉的池子，不管秋去冬来，池子外的世界都是热闹的，清晨的鸟鸣，晌午的嬉闹，傍晚的虫鸣，这些声音都在呼唤着这自认为孤寂的池子。</p>
<p>“月儿，看什么呢？”</p>
<p>“六娘，你看这池子多清凉啊！开满荷花的时候，美极了，要是学些诗词歌赋，多想为之吟唱。”</p>
<p>“月儿啊，荷花也就开花的时候，有人来看看，像这样的地方可能就只有你了，而且过了花期你还不忘。”</p>
<p>“不早了，我该回去了，不然爹爹又骂了。”</p>
<p>六娘点了点头，下了石坡，把衣服又过了一遍水，同柏月回了家。</p>
<p>“爹，女儿把您的衣服取回来了”柏月边进门边说道。</p>
<p>老郭爷子从卧榻上起了身，月儿见了想阻止，但他摇了摇手，他从木板上取来了草鞋，又在木板堆砌起的炉火上架了铁锅，顺手抽了对筷子，一手放在瓷器上。</p>
<p>“会不会太麻烦。”郭老接过月儿递过来的衣物，转身放在了卧榻上，接着说道：“下次晒家下面便好。”</p>
<p>“没事的爹，这地儿像个盆似的，如今日落也是来得快，石坡那却非这般，您最近又急着用，还是多备些衣物为好。”</p>
<p>“好好好，来，先吃饭吧！”</p>
<p>不巧此时六娘来到屋外，喊了几声月儿，声也是大，怕是出了事，月儿急忙从屋里走了出来，下了木梯，问道：“六娘出了什么事。”</p>
<p>“月儿，我家那老头的衣服还落在石坡上，现在离不开，他明又急着用……”</p>
<p>“六娘放心，月儿明白，我这就去取来，您安心去忙吧！”</p>
<p>六娘拜谢后便离开了，月儿告诉老郭后，一人便独自前往荷花池边的石坡，出门沿着小河一路向西走，过一座独木桥，在翻过一座山岗，便可见到石坡，沿着曲折蜿蜒的山路，可以看到远处高耸入云的乌鸡山。</p>
<p>虽然海拔仅有一千多米，但站在底处却依然能感受到其威严之势，还有那风雨雕琢的美丽风光，得天独厚的喀斯特地貌与之雅丹地貌相互碰撞，相互囊嵌，孕育出了这美丽的乌鸡山。</p>
<p>乌鸡山远远的看去像一条鲸鱼头上顶着一座似鸡的岛屿，因其色泽以灰黑色为多，古代帝王将之成为“乌鸡”山，但生活于当地的百姓则认为这是乌仙下饭的征兆，在其传说中，乌仙坐骑是只由鸡羽化为凤的仙兽，乌仙骑之游历四方，不想一日仙兽在凡间一处产下一子，从此便定居下来，没有再回到仙界，仙兽因其独特，常替百姓驱赶妖魔，百姓们为了感谢仙兽，便在他的山脚下建立一座庙以共答谢。</p>
<p>柏月从石坡取回衣物，正要往回赶，就在这时，林中蹿出了一头野猪，吓了柏月一跳，急得她手中的衣服也掉了下来，柏月快速拾起衣服。
野猪见到人后，没有跑反而放慢了脚步——突然，迅猛的朝柏月袭来，柏月惊慌之下翻落水中，平时也只是在水浅处洗衣，不像六娘她们那般水性很好，像只卷曲的虫也是害苦了她呀！</p>
<p>月亮渐渐攀上高空，披上明亮的银黄色外衣。</p>
<p>石坡四周举满了一根根火把，月儿能否找到便要看看这火光了，有人在水边发现了掉落的衣服，他们还发现了野猪的脚印，一时间各种猜疑打成一片，老郭第一站了出来。</p>
<p>“虽月儿平日安静，不善走动，但对付野猪还是有法子，可别忘了咋家的独门绝技。”老郭说道。</p>
<p>“老郭说的是，可如果没被野猪衔去，柏月又去了哪呢？”</p>
<p>众人皆疑惑，就在这时一人发现衣服不远处的河水岸上有人的脚印。</p>
<p>“这恐怕是挣扎时留下的，不像是野兽的足迹。”</p>
<p>“不好，快随我往下游找。”众人同老郭一同赶往了下游。</p>
<p>可往下找了许久依旧不见尸体，众人边走边喊也不见柏月回应。</p>
<p>王肖远远听到有人叫喊，心想有救了有救了，从刚才手机没信号，到尝试各种呼叫，再到现在有人，王肖此刻才知道在荒郊野外，没网没信号手机被削得这么厉害，好不容易找到了一个山洞落脚，奈何贝爷技能学太少，什么野外求生的知识都没有，现在好饿啊，真的要饿死了！</p>
<p>他长吸了一口气，这才大声喊到“救命啊！救命啊！”</p>
<p>老郭等人一会人顿了一下，细细一听——一路人喊救命——可怎么是个男儿声。</p>
<p>“老郭，你听到了吧！”</p>
<p>“嗯，听到了，叫得如此震耳，想必是有大麻烦，你们先一行人前去看看，我得先找到月儿。”</p>
<p>众人赞同后便兵分两路，王肖看到火把正快速想他靠近，于是他也迈开腿奔向了火把——那一定是希望之光了——“刚才便是你在喊救命？”王肖与村民们见面会，带头的大胡子疑惑的说道。</p>
<p>王肖一惊，啊！搁这cosplay还是拍戏呐？</p>
<p>“叔叔阿姨你好！我爬山不小心摔了，迷路了不知道怎么回去了。”王肖说道。</p>
<p>“啊，爬山？！”一人疑惑道。</p>
<p>“不知兄台方才为何大声喊救命，想是遇到什么麻烦了，原来便是这是？”</p>
<p>“是的，不好意思。”王肖说道。</p>
<p>村民决定现代他下山，往后在想办法送他回去，而王肖只想马上下山，然后坐公交离开。</p>
<p>正要走时，王肖说道：“对了，我今天傍晚的时候，在河边看到了一个女孩……”</p>
<p>“啊！难不成是月儿。”</p>
<p>众人来到山洞里，一看——果真是月儿，一位老者上前摸了摸脉象，点了点头，众人这才舒了口气，胡子大哥说道：“快，把这个消息告诉老郭？”</p>
<p>一人跑了出去，看来是报消息的，奇怪了，这帮人是拍戏吗？话里话外奇奇怪怪的，还有“老郭”，这是什么人呢？</p>
<p>下山洞的时候，王肖本来想问是不是在拍戏，走多久可以走到门票口，这么晚了还有没有游览车送下山……但他一句都没问上。</p>
<p>走到河边后，老郭在岸边来回踱步，看到胡子大哥一行人后，急忙上前。</p>
<p>“月儿呢？月儿呢？”老郭急忙问道。</p>
<p>“子佩背着的。”胡子大哥说道。</p>
<p>老郭重重的说了声“多谢！”胡子大哥告诉他是王肖救了月儿，老郭在王肖前又再次道谢。</p>
<p>“多谢这位公子救小女一命。”老郭说道。</p>
<p>听着很奇怪，但王肖还是回了一句，不客气。从见面到现在王肖都觉得怪怪的，但自己又没处说。</p>
<p>回去的路上，子佩后的一位男子问道：“不知兄台是哪方人士，为何到此处游山玩水，还迷了路l”</p>
<p>“我是百泽那边的人，在衡岭这边读书，”王肖淹了咽口水，不由自主的表现出无语的表情：“想来乌鸡山散散心，下山的时候山塌了，醒来就在河边了。”</p>
<p>“百泽？是何地，怎没听说过。”男子问了问子佩：“子佩，你读书多，你知道吗？”</p>
<p>子佩摇了摇头，有说自己不知道这个地方。</p>
<p>“此处确实是衡岭，只不过你放才说在次处读书……此处多山石野兽，难不成你拜在刘夫子门下吗？”</p>
<p>“比起这个，我更想问他为何衣着异样，怕是乡外人士吧？”胡子大哥说道。</p>
<p>“我确实是外地的，只是在这个地方读书。”王肖说道，王肖像多说一句但还是咽了下去。</p>
<p>“你这衣物看来制作精良，怕是贵门弟子吧！怎会在这穷乡僻壤读书？”那男子有问道。</p>
<p>“乡檀，怎能如此无礼，这位小兄弟救了月儿，我们该感谢他，你怎在这一股劲盘问，有失礼数。”子佩说道。</p>
<p>乡檀见子佩如此说道，虽有些不服气，却也在理，于是便没有多问什么。</p>
<p>其实，王肖刚想问来着，子佩这么说，他又抛掉了刚才的想法，只想快点回家。</p>
<p>回到村子后，王肖在想着怎么没带他下山，反而还带回了这么简陋的村子——应该说是这剧组搭建的，这时候村民们都在想着，怎么给王肖安排住宿，众人商讨后决定先留在胡子大哥家，正要带王肖过去。</p>
<p>“唉！你们不带我下山吗？或者说给我指条路我自己下山。”王肖问道。</p>
<p>众人投来疑惑的目光，“小兄弟，这便是山下了，不是山下那水又怎会如此平静”胡子大哥说道。</p>
<p>火把远远可以找到远处的河水，河水在火把的照耀下，波光粼粼，宛若金鱼的鳞片。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-1b9bc3b4a7afb45bd9ac678b39a13e9c" aria-controls="R-expandcontent-1b9bc3b4a7afb45bd9ac678b39a13e9c" >
    <label class="expand-label" for="R-expand-1b9bc3b4a7afb45bd9ac678b39a13e9c" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-1b9bc3b4a7afb45bd9ac678b39a13e9c" class="expand-content">
<p>
预知后事如何……等我更新吧！</div>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id=""> </h1>


            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="三关于">三、关于</h1>


            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">三、关于 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E7%89%88%E6%9C%AC/">网站版本</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99%E4%BC%98%E5%8C%96/">网站优化</a></li>
  </ul>
</div>
            </header>
<h1 id="版本">版本</h1>


<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/version/">Version</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>
<h1 id=""> </h1>


            <footer class="footline">
            </footer>
          </article>

          </section>
          </section>
        </div>
      </main>
    </div>
    <script src="./js/clipboard.min.js?1720924552" defer></script>
    <script src="./js/perfect-scrollbar.min.js?1720924552" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="./js/mathjax/tex-mml-chtml.js?1720924552"></script>
    <script src="./js/d3/d3-color.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-dispatch.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-drag.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-ease.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-interpolate.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-selection.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-timer.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-transition.min.js?1720924552" defer></script>
    <script src="./js/d3/d3-zoom.min.js?1720924552" defer></script>
    <script src="./js/js-yaml.min.js?1720924552" defer></script>
    <script src="./js/mermaid.min.js?1720924552" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="./js/theme.js?1720924552" defer></script>
  </body>
</html>
