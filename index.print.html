<!DOCTYPE html>
<html lang="zh" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.120.4">
    <meta name="generator" content="Relearn 5.23.2+tip">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="王梅四郎maloudown">
    <meta name="twitter:description" content="">
    <meta property="og:title" content="王梅四郎maloudown">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://wungmeisilong.github.io/">
    <meta property="og:site_name" content="王梅四郎maloudown">
    <title>王梅四郎maloudown</title>
    <link href="https://wungmeisilong.github.io/" rel="alternate" hreflang="x-default">
    <link href="https://wungmeisilong.github.io/" rel="alternate" hreflang="zh">
    <link href="https://wungmeisilong.github.io/pir/" rel="alternate" hreflang="pir">
    <link href="https://wungmeisilong.github.io/" rel="canonical" type="text/html" title="王梅四郎maloudown">
    <link href="./index.xml" rel="alternate" type="application/rss+xml" title="王梅四郎maloudown">
    <link href="./images/favicon.png?1706892120" rel="icon" type="image/png">
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="./css/fontawesome-all.min.css?1706892120" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fontawesome-all.min.css?1706892120" rel="stylesheet"></noscript>
    <link href="./css/nucleus.css?1706892120" rel="stylesheet">
    <link href="./css/auto-complete.css?1706892120" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/auto-complete.css?1706892120" rel="stylesheet"></noscript>
    <link href="./css/perfect-scrollbar.min.css?1706892120" rel="stylesheet">
    <link href="./css/fonts.css?1706892120" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="./css/fonts.css?1706892120" rel="stylesheet"></noscript>
    <link href="./css/theme.css?1706892120" rel="stylesheet">
    <link href="./css/theme-auto.css?1706892120" rel="stylesheet" id="R-variant-style">
    <link href="./css/variant.css?1706892120" rel="stylesheet">
    <link href="./css/print.css?1706892120" rel="stylesheet" media="print">
    <link href="./css/format-print.css?1706892120" rel="stylesheet">
    <link href="./css/ie.css?1706892120" rel="stylesheet">
    <script src="./js/url.js?1706892120"></script>
    <script src="./js/variant.js?1706892120"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="./index.search.js";
      var root_url="./";
      var baseUri=root_url.replace(/\/$/, '');
      window.relearn = window.relearn || {};
      window.relearn.baseUriFull='https:\/\/wungmeisilong.github.io/';
      // variant stuff
      window.variants && variants.init( [ 'auto', 'zen-light', 'zen-dark', 'neon', 'zen-light' ] );
      // translations
      window.T_Copy_to_clipboard = `复制到剪贴板`;
      window.T_Copied_to_clipboard = `复制到剪贴板！`;
      window.T_Copy_link_to_clipboard = `将链接复制到剪贴板`;
      window.T_Link_copied_to_clipboard = `链接复制到剪贴板！`;
      window.T_Reset_view = `重置视图`;
      window.T_View_reset = `查看重置！`;
      window.T_No_results_found = `找不到"{0}"的结果`;
      window.T_N_results_found = `为"{0}"找到 {1} 个结果`;
    </script>
  </head>
  <body class="mobile-support print" data-url="./">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
              <button class="topbar-control" onclick="toggleNav()" type="button" title="导航 (CTRL&#43;ALT&#43;n)">
                <i class="fa-fw fas fa-bars"></i>
              </button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">王梅四郎maloudown</span><meta itemprop="position" content="1"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable home" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="home">
            <header class="headline">
            </header>
<h1 id="王梅四郎maloudown">王梅四郎maloudown</h1>

<form action="../search.html" method="get">
<div class="searchform">
  <label class="a11y-only" for="R-search-by-detail">Search</label>
  <input data-search-input="" id="R-search-by-detail" class="search-by" name="search-by" type="search" placeholder="Search..." _mstplaceholder="99723"><span class="btn cstyle interactive secondary"><button onclick="" type="submit"><i class="fa-fw fas fa-search"></i> <span class="title">Search</span></button></span>
</div>
</form>
<p><a href="#R-image-83a4ff0f97c0e2373c39334c856fcbe3" class="lightbox-link"><img src="./text_blog.png?height=150px&amp;width=10vw" alt="text_blog" class="figure-image        " style="height: 150px; width: 10vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-83a4ff0f97c0e2373c39334c856fcbe3"><img src="./text_blog.png?height=150px&amp;width=10vw" alt="text_blog" class="lightbox-image        " loading="lazy"></a></p>
<p>欢迎来到我的个人博客网站……</p>
<p><img src="https://octodex.github.com/images/parentocats-first_day.png?lightbox=false&amp;bg-white=true" alt="Spock" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">王梅四郎maloudown 的子部分</h1>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="一博客文章">一、博客文章</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">1.计算机组成原理</a><ul>
	
<li><a href="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/">计算机组成原理-复习</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/androidstudio/">2.AndroidStudio</a><ul>
	
<li><a href="./branch-bundle-1/androidstudio/androidstudio%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">AndroidStudio</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/androidstudio/%E7%AC%94%E8%AE%B0/">AndroidStudio笔记</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/androidstudio/toolbar/">2-1.Toolbar工具栏</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/stm32_rfid/">3.STM32_RFID</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/esp8266_wifi/">4.Esp8266_WiFi</a><ul>
	
<li><a href="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/">物联网通信技术-小知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/cc2530_zigbee/">5.CC2530_ZigBee</a><ul>
	
<li><a href="./branch-bundle-1/cc2530_zigbee/experiment2/">实验2 IO端口输出实验</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/arduino/">6.Arduino</a><ul>
	
<li><a href="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">物联网控制-小知识</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">7.物联网工程</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/51%E5%8D%95%E7%89%87%E6%9C%BA/">51单片机</a><ul>
	
<li><a href="./branch-bundle-1/51%E5%8D%95%E7%89%87%E6%9C%BA/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul>
	
<li><a href="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">Linux期末复习</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/">贺青工程</a><ul>
	
<li><a href="./branch-bundle-1/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E5%B0%8F%E7%A8%8B%E5%BA%8Fui%E8%AE%BE%E8%AE%A1/">志愿活动软件设计与开发</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/">验收问题</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/%E5%93%B2%E5%AD%A6/">哲学</a><ul>
	
<li><a href="./branch-bundle-1/%E5%93%B2%E5%AD%A6/%E5%BA%84%E5%AD%90%E4%B9%8B%E9%81%93/">庄子之道</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a><ul>
	</ul></li></ul></li>
<li><a href="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/">如何用旧电脑搭建自己的服务器？</a><ul>
	</ul></li>
<li><a href="./branch-bundle-1/experimence/">创建hugo静态网站的经历</a><ul>
	</ul></li>
</ul>
<p><a href="https://blog.csdn.net/m0_52062236/article/details/124314161" target="_blank">常用的数学表达</a></p>
<p><a href="https://blog.csdn.net/m0_37167788/article/details/78603307" target="_blank">常用箭头</a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">一、博客文章 的子部分</h1>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 10</div>
<h1 id="1计算机组成原理">1.计算机组成原理</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/">计算机组成原理-复习</a><p>1 计算机系统概论 计算机的分类 计算机总体上分为：电子模拟计算机1和电子数字计算机。二者区别如下表 比较内容 电子数字计算机 电子模拟计算机 数据表示方</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">1.计算机组成原理 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
    <li><a class="term-link" href="./tags/%E7%A1%AC%E4%BB%B6/">硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="计算机组成原理-复习">计算机组成原理-复习</h1>

<h2 id="1-计算机系统概论">1 计算机系统概论</h2>
<h3 id="计算机的分类">计算机的分类</h3>
<p>计算机总体上分为：电子模拟计算机<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>和电子数字计算机。二者区别如下表</p>
<table>
<thead>
<tr>
<th>比较内容</th>
<th>电子数字计算机</th>
<th>电子模拟计算机</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据表示方法</td>
<td>0或1</td>
<td>电压</td>
</tr>
<tr>
<td>计算方式</td>
<td>数字计算</td>
<td>电压组合和测量值</td>
</tr>
<tr>
<td>控制方式</td>
<td>程序控制</td>
<td>盘上连线</td>
</tr>
<tr>
<td>精度</td>
<td>高</td>
<td>低</td>
</tr>
<tr>
<td>数据存储量</td>
<td>大</td>
<td>小</td>
</tr>
<tr>
<td>逻辑计算能力</td>
<td>强</td>
<td>无</td>
</tr>
</tbody>
</table>
<h3 id="计算机的五代变化">计算机的五代变化</h3>
<ul>
<li>第一代1946~1957年， <strong>数据处理</strong> 得到应用；</li>
<li>第二代1958~1964年， <strong>工业控制</strong> 开始得到应用；</li>
<li>第三代1965~1971年， <strong>小型计算机</strong>开始出现；</li>
<li>第四代1972~1990年， <strong>微型计算机</strong> 开始出现；</li>
<li>第五代1991年开始， <strong>单片机</strong> 开始出现</li>
</ul>
<h3 id="计算机的性能指标">计算机的性能指标</h3>
<p><strong>处理机字长</strong> 指处理机运算其中一次能工处理的二进制数运算的位数，例如32位，64位。
<strong>存储器带宽</strong> 单位时间内从存储器独处的二进制数信息量，一般用 <strong>字节数/秒</strong>表示。</p>
<h2 id="2-运算方法和运算器">2 运算方法和运算器</h2>
<p><strong>注：</strong></p>
<ol>
<li>掌握各进制之间的转换；</li>
<li>掌握小数点之间的二进制与十进制之间的转换；</li>
</ol>
<h3 id="二进制纯小数或纯整数表示方法">二进制纯小数或纯整数表示方法</h3>
<ul>
<li>二进制纯小数： <strong>0.10101</strong> 或 <strong>1.10101</strong>，0或1表示正负号，在正负号后面，在实际中计算机并不存储小数点；</li>
<li>二进制纯整数： <strong>10101.</strong>，同样纯整数也用0或1区分正负号。
用Xn-1表示二进制数的个数，Xn表示符号位，如下：
<table>
<thead>
<tr>
<th style="text-align:center">Xn</th>
<th style="text-align:center">Xn-1……X0</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">符号</td>
<td style="text-align:center">量值（尾数）</td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>纯小数表示范围： <strong>
<span class="math align-center">$0<=|x|<=1-2^{-n} $</span></strong>
纯整数表示范围： <strong>
<span class="math align-center">$0<=|x|<=2^{-n} - 1$</span></strong></p>
<h3 id="浮点数表示方法">浮点数表示方法</h3>
<p>电子质量(克)： 9×10^28 = 0.9×10^27
太阳质量(克)： 2×10^33 = 0.2×10^34</p>
<p>任意十进制数 <strong>N</strong> 可以表示为：</p>

<span class="math align-center">$$N=10^E \cdot M$$</span><p>同样在二进制中也有这样类似的表达：</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>在二进制浮点数表达中：</p>
<ul>
<li>尾数：M，是一个纯小数；</li>
<li>比例因子：e，表示指数，常用整数表示，也称为 <strong>阶码</strong> ；</li>
<li>基数：式子中的2</li>
</ul>
<p>二进制浮点数格式：</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$E_s$</span></th>
<th style="text-align:center">
<span class="math align-center">$E_m-1…E_1 E_0$</span></th>
<th style="text-align:center">
<span class="math align-center">$M_s$</span></th>
<th style="text-align:center">
<span class="math align-center">$M_m-1…M_1 M_0$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">阶符</td>
<td style="text-align:center">阶码</td>
<td style="text-align:center">数符</td>
<td style="text-align:center">尾数</td>
</tr>
</tbody>
</table>
<p><strong>IEEE754标准</strong>格式表示浮点数</p>
<p><strong>知识储备：</strong> 
<span class="math align-center">$\frac{1}{2^0}=1$</span>,
<span class="math align-center">$\frac{1}{2^1}=0.5$</span>,
<span class="math align-center">$\frac{1}{2^2}=0.25$</span>,
<span class="math align-center">$\frac{1}{2^3}=0.125$</span>,
<span class="math align-center">$\frac{1}{2^4}=0.0625$</span>,
<span class="math align-center">$\frac{1}{2^5}=0.03125$</span></p>
<p>浮点数表示：</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>浮点数所占位数：</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$S$</span></th>
<th style="text-align:center">
<span class="math align-center">$E$</span></th>
<th style="text-align:center">
<span class="math align-center">$M$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">
<span class="math align-center">$31$</span></td>
<td style="text-align:center">
<span class="math align-center">$30 \gets 23$</span></td>
<td style="text-align:center">
<span class="math align-center">$22 \gets 0$</span></td>
</tr>
</tbody>
</table>
<ul>
<li>基数R=2，基数固定，采用隐含方式来表示它。</li>
<li>32位的浮点数：
<ul>
<li>S数的符号位，1位，在最高位，“0”表示正数，“1”表示负
数。</li>
<li>M是尾数， 23位，在低位部分，采用纯小数表示,不对小数点进行存储；</li>
<li>E是阶码，8位，也就是说阶码最大不超过255，但阶码采用移码表示
<span class="math align-center">$E=2^{7}+e=127+e$</span>，原因是移码比较大小方便。</li>
<li>规格化： 若不对浮点数的表示作出明确规定，同一个浮点数的表示就不是惟一的，所以一般都会规定这个浮点数的位数
<ul>
<li>尾数域最左位(最高有效位)总是1， 故这一位经常不予存储，而认为隐藏在小数点的左边。</li>
<li>采用这种方式时，将浮点数的指数真值e变成阶码E时，应将指数e加上一个固定的偏移值127(01111111)，即E=e+127。如果是二进制转真值就E=e-127</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>下面举两个例子进行说明：</p>
<p><strong>例1：二进制转十进制</strong>若浮点数x的754标准存储格式为(41360000)16，求其浮点数的十进制数值。</p>
<p>解：将16进制数展开后，可得二制数格式为</p>
<p>0 100 00010 011 0110 0000 0000 0000 0000</p>
<p>符号S=0</p>
<p>阶码E=100 00010</p>
<p>尾数M=011 0110 0000 0000 0000 0000</p>
<p>指数e=E-127=10000010-01111111=00000011=
<span class="math align-center">$(3)_10$</span>，故有</p>
<p>1.M=1.011 0110 0000 0000 0000 0000=1.011011</p>
<p>于是有</p>

<span class="math align-center">$x=(-1)S \times 1.M \times 2^e=+(1.011011)  \times 2^3=+1011.011=(11.375)_10$</span>
<p><strong>问：</strong> 0.011怎么转成0.375？</p>
<p>根据上面的知识储备有
<span class="math align-center">$ \frac{1}{2^0}\times 0 + \frac{1}{2^1}\times 1 +\frac{1}{2^2}\times 1=0+0.25+0.125=0.375 $</span></p>
<p><strong>例2：十进制转二进制</strong>若浮点数为
<span class="math align-center">$(28.8125)_10$</span>，求其浮点数的IEEE754标准存储格式的二进制数值。</p>
<p>解：
<span class="math align-center">$(28.8125)_10$</span>=
<span class="math align-center">$(11100.1101)_2$</span></p>
<p>格式化表示为：
<span class="math align-center">$(11100.1101)_2=1.11001101 \times 2^4$</span></p>
<p>于是有</p>
<p>e=4</p>
<p>E=e+127=4+127=131=
<span class="math align-center">$(1000 0011)_2$</span></p>
<p>M=1100 1101 0000 0000 0000 000（去掉小数点和小数点前的1，而且有23位，不够补0）</p>
<p>S=0</p>
<p>IEEE754标准的32为存储数据位：0 1000 0011 1100 1101 0000 0000 0000 000</p>
<h3 id="数的机器码表示">数的机器码表示</h3>
<p>计算机进行运算时，会把符号位和数字一起编码表示为相应的数，这些数可以用不同的方法表示，例如：原码、补码、移码、反码；</p>
<p>为了区别一般写的数（比如-12，+3等）和机器中的编码（比如 <em><strong>0</strong></em> 1100,<strong>1</strong> 0011），通常前者称之为 <strong>真值</strong>，后者称为 <strong>机器数</strong> 或 <strong>机器码</strong> 。</p>
<p>
<span class="math align-center">$[x]_原$</span>表示机器数，x表示真值。</p>
<p>例如：</p>
<p>
<span class="math align-center">$x=+0011$</span>，
<span class="math align-center">$[x]{_原}=\textbf{0}0011$</span></p>
<p>
<span class="math align-center">$x=-0011$</span>，
<span class="math align-center">$[x]{_原}=\textbf{1}0011$</span>，</p>
<p>原码机器中有“+0”“-0”之分，固有两种形式：例如：
<span class="math align-center">$[x]{_原}$</span>与
<span class="math align-center">$\textbf{1}0011$</span>表达的意思一样。</p>
<p>数学上把类似于
<span class="math align-center">$-3=+9 (mod12)$</span>的式成为 <strong>同余式</strong>。</p>
<h4 id="原码反码补码移码">原码、反码、补码、移码</h4>
<p>对原码、反码、补码、移码的简单说明，已知计算机为4位，x=-3.</p>
<table>
<thead>
<tr>
<th style="text-align:center">例子</th>
<th style="text-align:center">表示方法</th>
<th style="text-align:center">二进制</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">原码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_原}$</span>=<strong>0</strong>0011</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">反码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_反}$</span>=<strong>0</strong>1100</td>
<td style="text-align:center">按位取反</td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">补码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_补}$</span>=<strong>0</strong>1101</td>
<td style="text-align:center">反码最低位加1，注意这个时候符号还是1</td>
</tr>
<tr>
<td style="text-align:center">-3</td>
<td style="text-align:center">移码</td>
<td style="text-align:center">
<span class="math align-center">$[-3]{_移}$</span>=<strong>1</strong>,1101</td>
<td style="text-align:center">
<span class="math align-center">$[e]{_移}=2^{k}+e=2^4-0011=0,1101$</span></td>
</tr>
</tbody>
</table>
<p>对于正数来说，前三个都一样，重点说明移码：</p>
<p>定点整数定义 
<span class="math align-center">$[e]{_移}=2^{k}+e,  2^k >e≥-2^k$</span></p>
<p>上面的表达式中，
<span class="math align-center">$[e]{_移}$</span>表示机器码，e为真值，
<span class="math align-center">$2^k$</span>表示固定偏移常量。</p>
<p>已知e=+0011,k=4，
<span class="math align-center">$[e]{_移}=2^{k}+e=2^{4}+0011=1,0011$</span></p>
<p>已知e=-0011,k=4，
<span class="math align-center">$[e]{_移}=2^{k}+e=2^{4}-0011=0,1101$</span></p>
<p>移码中的逗号不是小数点，而是表示左边一位是符号位，显然移码中符号位与前三者的表示相反（<strong>详见P21</strong>）。</p>
<p>下面请看例题：</p>
<p>已知计算机是8位的，请分别写出纯整数125，-110，纯小数+0.125，-0.375；二进制数x=11011,y=-01010的原码、反码、补码、移码。（注意格式，要对齐）</p>
<table>
<thead>
<tr>
<th style="text-align:center">表示方法</th>
<th style="text-align:center"></th>
<th style="text-align:center">表示方法</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">+125=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">-110=<strong>1</strong>0011 1011</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>0011 1011</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>1100 0100</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>1100 0101</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0101 1111</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1100 0100</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">+0.125=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">-0.357=<strong>1</strong>.0110 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>.0110 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>.1001 1111</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>.0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>.1010 0000</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0010 0000</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1010 0000</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">x=11011</td>
<td style="text-align:center"></td>
<td style="text-align:center">-110=-01010</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_原}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_原}$</span>=<strong>1</strong>0000 1010</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_反}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_反}$</span>=<strong>1</strong>1111 0101</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_补}$</span>=<strong>0</strong>0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_补}$</span>=<strong>1</strong>1111 0111</td>
</tr>
<tr>
<td style="text-align:center">
<span class="math align-center">$[125]{_移}$</span>=<strong>1</strong>,0001 1011</td>
<td style="text-align:center"></td>
<td style="text-align:center">
<span class="math align-center">$[-110]{_移}$</span>=<strong>0</strong>,1111 0111</td>
</tr>
</tbody>
</table>
<h3 id="定点加法减法运算">定点加法、减法运算</h3>
<p><strong>公式</strong>
补码加法：任意两数补码之和等于两数之和的补码，
<span class="math align-center">$[x]{_补}+[y]{_补}=[x+y]{_补}$</span></p>
<p>补码减法：
<span class="math align-center">$[x-y]{_补}=[x]{_补}-[y]{_补}=[x]{_补}+[-y]{_补}$</span></p>
<p>从
<span class="math align-center">$[y]{_补}$</span>求
<span class="math align-center">$[-y]{_补}$</span>的法则是对
<span class="math align-center">$[y]{_补}$</span>包括符号位在内求反，最低位加1得到表达式为：</p>

<span class="math align-center">$[-y]{_补}=\rightharpoondown [y]{_补}+2^{-n}$</span>
<p>其中，符号
<span class="math align-center">$\rightharpoondown$</span>表示对
<span class="math align-center">$[y]{_补}$</span>作求反操作，包括正负号在内，
<span class="math align-center">$2^{-n}$</span>表示末位（最低位）加1.</p>
<p>下面举例加以理解运算过程：</p>
<p>（ <strong>详见P29</strong> ）</p>
<h3 id="溢出概念与检验方法">溢出概念与检验方法</h3>
<p>在定点整数机器中，运算过程中出现大于字长绝对值的现象称为 <strong>溢出</strong>，溢出分正、负溢出两种，用两位符号位表示， <strong>00</strong>、<strong>11</strong>分别表示整数和负数，<strong>01</strong>表示正溢出，<strong>10</strong> 表示负溢出。</p>
<p><strong>详细说明原理：</strong> 假设x表示二进制数，用
<span class="math align-center">$2^{-n}<x<2^{+n}$</span>表示二进制数的范围，当n=4时，说明二进制最多4为，两个4位二进制运算结果如果为5位则说明溢出，要判断是什么溢出参照上面的方法。</p>
<h3 id="定点乘法运算">定点乘法运算</h3>
<p>乘法运算拆分来看主要有算术运算加法，逻辑运算异或，还有移位操作。</p>
<p>四位二进制数x,y，两数进行乘法运算，符号位不参与数值位分开运算，一开始y的最低位与x的每一位进行异或并输出结果，下一次y的次高位与x的每一位进行异或运算，结果输出并左移次高位的位数，假设次高位是2，那么左移两位输出结果。</p>
<p>举个例子，如下：</p>
<p><a href="#R-image-8d709fdbe095e69432c23034ca7fa670" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE1.png" alt="图1.png" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8d709fdbe095e69432c23034ca7fa670"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE1.png" alt="图1.png" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="定点数除法运算">定点数除法运算</h3>
<p>定点数除法运算这里提供两种方法：</p>
<ol>
<li>恢复余数法</li>
</ol>
<p>这种方法是手工计算，而非机器计算，如下图：
定点原码一位除法实现方案（手工）０．１００１０／０．１０１１
<a href="#R-image-44a737faff1eb9b49a1dacbd01c1a6b5" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE2.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-44a737faff1eb9b49a1dacbd01c1a6b5"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE2.png" alt="tu" class="lightbox-image        " loading="lazy"></a>
2. 加减交替法（不恢复余数法）</p>
<p>在这之前我们先简单了解并行除法器，如下图：</p>
<p><a href="#R-image-d9a0b780916464ff8f30b0a341cc9650" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE3.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d9a0b780916464ff8f30b0a341cc9650"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE3.png" alt="tu" class="lightbox-image        " loading="lazy"></a></p>
<p>被除数 
<span class="math align-center">$0.x{_6}x{_5}x{_4}x{_3}x{_2}x{_1}$</span></p>
<p>(双倍长)</p>
<p>除数 
<span class="math align-center">$0.y{_3}y{_2}y{_1}$</span></p>
<p>商数 
<span class="math align-center">$0.q{_3}q{_2}q{_1}$</span></p>
<p>余数 
<span class="math align-center">$0.r{_6}r{_5}r{_4}r{_3}r{_2}r{_1}$</span></p>
<p>除数右移</p>
<p>例题：ｘ＝0.101001, ｙ＝0.111, 求
<span class="math align-center">${x}\div{y}$</span></p>
<p><a href="#R-image-68cbca55a9d80effa079dafb2e42e422" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE4.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-68cbca55a9d80effa079dafb2e42e422"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE4.png" alt="tu" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="浮点运算方法浮点运算器">浮点运算方法，浮点运算器</h3>
<p>再次我们在此复习浮点数的表示方法</p>

<span class="math align-center">$$  N=2^e \cdot M$$ </span><p>以及32位IEEE754标准格式</p>
<table>
<thead>
<tr>
<th style="text-align:center">
<span class="math align-center">$S$</span></th>
<th style="text-align:center">
<span class="math align-center">$E$</span></th>
<th style="text-align:center">
<span class="math align-center">$M$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">
<span class="math align-center">$31$</span></td>
<td style="text-align:center">
<span class="math align-center">$30 \gets 23$</span></td>
<td style="text-align:center">
<span class="math align-center">$22 \gets 0$</span></td>
</tr>
</tbody>
</table>
<h4 id="浮点运算步骤">浮点运算步骤</h4>
<ul>
<li>0操作数检查。一般就是检查运算数是否为0，不卸载步骤中</li>
<li>比较阶码（E）并完成对阶（小阶向大阶对齐）</li>
<li>尾数（M）求和运算</li>
<li>结果规格化，把运算结果写成1.M的格式</li>
<li>检查上溢出或下溢出（-127&lt;=x&lt;=127,x在这个范围就表示没有溢出,如果溢出需要通过 <strong>变形补码</strong> 来判断是正溢出（01），还是负溢出（10））</li>
<li>舍入处理。写出要求需要的有效位，并用十进制检验是否正确
<a href="#R-image-6429c007c7c8cda26b2b95f3c9f1d384" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE5.png" alt="tu" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6429c007c7c8cda26b2b95f3c9f1d384"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/%E5%9B%BE5.png" alt="tu" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>例题：设
<span class="math align-center">$x=0.5{_10},y=0.4375{_10}$</span>,假设尾数有效位为4位，用二进制求
<span class="math align-center">$(x+y){_浮}$</span></p>
<p>把x和化为1.M的格式

<span class="math align-center">$x=0.5{_10}=0.1{_2}=0.1{_2}\cdot 2^0=1.000{_2}\cdot 2^{-1}$</span>

<span class="math align-center">$x=-0.4375{_10}=-0.0111{_2}=-0.0111{_2}\cdot 2^0=-1.000{_2}\cdot 2^{-2}$</span></p>
<p>在这里需要对上面的转换进行说明，说明前我们先看
<span class="math align-center">$0.2\cdot10^{0}$</span>,如果现在想写成2，那上面的式子该怎么改呢？</p>
<p>修改如下：

<span class="math align-center">$0.2\cdot10^{0}=2\cdot10^{-1}$</span></p>
<p>也就是要让式子的左右相等，所以后面10的次方就不一样，理解了上面这个我们再来看
<span class="math align-center">$-0.1{_2}\cdot 2^0=-1.000{_2}\cdot 2^{-1}$</span>就会更好理解。</p>
<p>下面是具体的步骤：</p>
<ol>
<li>对阶，由上可知y的阶小，向x的看齐

<span class="math align-center">$-1.000{_2}\cdot 2^2=-0.100{_2}\cdot 2^{-1}$</span></li>
<li>尾数相加，

<span class="math align-center">$1.000{_2}\cdot 2^{-1}+(-0.100{_2}\cdot 2^{-1})=0.001{_2}\cdot 2^{-1}$</span></li>
<li>规格化：把结果把x和化为1.M的格式

<span class="math align-center">$0.001{_2}\cdot 2^{-1}=1.0000{_2}\cdot 2^{-4}$</span></li>
<li>检验上溢或下溢
由于指数-4用移码表示，-127&lt;=-4&lt;=127,-4在这个范围即没有溢出</li>
<li>舍入操作
根据题目要求
<span class="math align-center">$(x+y){_浮}=1.0000{_2}\cdot 2^{-4}=0.0625{_10}$</span>
十进制检验结果x+y=0.5-0.4375=0.0625</li>
</ol>
<h3 id="浮点数乘除法运算">浮点数乘除法运算</h3>
<p>乘除运算分为四步</p>
<ul>
<li>0操作数检查</li>
<li>阶码加减操作</li>
<li>尾数乘除操作</li>
<li>结果规格化和舍入处理</li>
</ul>
<p>流程与浮点数乘除法类似，但也有不同的地方，下面以乘法运算为例子详细说明具体步骤：</p>
<ol>
<li>将两数的指数部分相加（前提是你要把两数规格化为1.M的形式）</li>
<li>将被乘数和乘数的尾数相乘</li>
<li>规格化于溢出检测</li>
<li>舍入操作</li>
<li>确定乘积的符号（同号为正，异号为负）</li>
</ol>
<h2 id="存储系统">存储系统</h2>
<h3 id="存储系统的层次结构">存储系统的层次结构</h3>
<p>目前存储器的特点是：</p>
<p>• 速度快的存储器价格贵，容量小；
• 价格低的存储器速度慢，容量大。</p>
<ul>
<li>高速缓冲存储器简称<strong>cache</strong>，它是计算机系统中的一个高速小容量半导体存储器。</li>
<li>主存储器简称 <strong>主存</strong>，是计算机系统的主要存储器，用来存放计算机运行期间的 <strong>大量程序</strong> 和 <strong>数据</strong> 。</li>
<li>外存储器简称 <strong>外存</strong>，它是大容量辅助存储器。
<a href="#R-image-91aee572023f6434a49703d0da824f09" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu6.png" alt=" tu6" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-91aee572023f6434a49703d0da824f09"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu6.png" alt=" tu6" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="存储系统分类">存储系统分类</h3>
<ul>
<li>按 <strong>存储介质</strong> 分类：磁表面/半导体存储器</li>
<li>按 <strong>存取方式</strong> 分类：随机/顺序存取（磁带）</li>
<li>按 <strong>读写功能</strong> 分类：ROM，RAM
<ul>
<li>RAM，<strong>随机存取存储器</strong> ：双极型/MOS</li>
<li>ROM，<strong>只读存储器</strong> ：MROM/一次可编程只读存储器PROM/可擦除EPROM/电可擦除EEPROM</li>
</ul>
</li>
<li>按信息的可保存性分类：永久性和非永久性的</li>
<li>按存储器系统中的作用分类：主/辅/缓/控</li>
</ul>
<h3 id="存储器的编制和端模式">存储器的编制和端模式</h3>
<ul>
<li>字存储单元：存放一个机器字的存储单元，相应的单元地址叫字地址。</li>
<li>字节存储单元：存放一个字节的单元，相应的地址称为字节地址。</li>
<li>端模式：一个存储字内部的多字节排列方式。
<ul>
<li>大端 big-endian</li>
<li>小端 little-endian</li>
</ul>
</li>
</ul>
<h3 id="存储器技术">存储器技术</h3>
<ul>
<li><strong>存储容量：</strong> 指一个存储器中可以容纳的存储单元总数。存储容量越大，能存储的信息就越多。</li>
<li><strong>存取时间</strong> 又称存储器访问时间：指一次读操作命令发出到该操作完成，将数据读出到数据总线上所经历的时间。通常取写操作时间等于读操作时间，故称为存储器存取时间。</li>
<li><strong>存储周期：</strong> 指连续启动两次读操作所需间隔的最小时间。通常，存储周期略大于存取时间，其时间单位为ns。</li>
<li><strong>存储器带宽：</strong> 单位时间里存储器所存取的信息量，通常以位/秒或字节/秒做度量单位。
记住：
<span class="math align-center">$1KB=2^{10}B，1MB=2^{20}B，1GB=2^{30}B，1TB=2^{40}B$</span></li>
</ul>
<h3 id="sram存储器">SRAM存储器</h3>
<ul>
<li>主存（内部存储器）是半导体存储器。根据信息存储的机理不同可以分为两类：
<ul>
<li>静态读写存储器(SRAM)：存取速度快</li>
<li>动态读写存储器(DRAM)：存储密度和容量比SRAM大。</li>
</ul>
</li>
</ul>
<p>三组信号线：
 地址线:n条地址线，确定存储单元（地址）的个数，或说有2^n个存储单元。
 数据线：决定字的长度（位数）。6条地址线，4条数据线，没那么有64*4个存储位元的总数。
 行线
 列线
 控制线：控制读/写，读写不会同时进行
例如一台计算机数据线有4条，那么它就是4位的计算机。
<a href="#R-image-1ea36003ac0f2502a9a58bb64bcae0e9" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu7.png" alt="tu7" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1ea36003ac0f2502a9a58bb64bcae0e9"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu7.png" alt="tu7" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="存储容量的扩充">存储容量的扩充</h4>
<p>1、字长位数扩展
字节不变，即给的地址线不变，改变数据线让芯片容量符合设计要求。</p>
<p>芯片个数d=设计要求的存储器容量/选择芯片存储器容量</p>
<p>[例2] 利用1M×4位的SRAM芯片，设计一个存储容量
为1M×8位的SRAM存储器。</p>
<p>解：所需芯片数量=(1M×8)/(1M×4)=2片</p>
<p>2、字存储容量扩展</p>
<p>位不变，即数据线不变，通过增加芯片改变地址线使其符合设计要求。</p>
<p>芯片个数d=设计要求的存储器容量/选择芯片存储器容量</p>
<p>[例3]利用1M×8位的DRAM芯片设计2M×8位的DRAM存储
器
解：所需芯片数d=（2M×8）/（1M×8）=2(片)</p>
<p>3、字节扩展</p>
<p>先进行位扩展（数据线bite），字节扩展（字节扩展Byte）</p>
<h3 id="动态随机存取存储器">动态随机存取存储器</h3>
<h4 id="工作原理图">工作原理图</h4>
<p><a href="#R-image-acdcfc9f8cdbfa5a8e91ea9b8b8698a8" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu8.png" alt="tu8" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-acdcfc9f8cdbfa5a8e91ea9b8b8698a8"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu8.png" alt="tu8" class="lightbox-image        " loading="lazy"></a>
原理图上的刷新本质上是给mos管充电。</p>
<h4 id="动态随机存取存储器的刷新操作">动态随机存取存储器的刷新操作</h4>
<p>刷新的目的是为了保存存储器的存储信息。
注：读出1才会刷新，读出0不会刷新。
当前主流的DRAM器件的刷新周期间隔时间为64秒</p>
<ul>
<li>集中式刷新。先工作最后在进行充电，假设DRAM有1024行，刷新周期为8ms（这里假设是8ms）</li>
<li>分散式刷新。边工作边刷行，假设DRAM有1024行，由8ms（这里假设是8ms）除以1024=7.4us,所以刷新周期为7.4us</li>
</ul>
<h3 id="只读存储器">只读存储器</h3>
<p>ROM叫做只读存储器。顾名思义，只读的意思是
在它工作时只能读出，不能写入。然而其中存储的原
始数据，必须在它工作以前写入。只读存储器由于工
作可靠，保密性强，在计算机系统中得到广泛的应用。</p>
<p>主要有两类：</p>
<ul>
<li>掩模ROM：掩模ROM实际上是一个存储内容固定的ROM，由生产厂家提供产品。</li>
<li>可编程ROM：用户后写入内容，有些可以多次写入。
<ul>
<li>一次性编程的PROM</li>
<li>多次编程的EPROM和E2PROM。</li>
</ul>
</li>
</ul>
<h4 id="掩模rom">掩模ROM</h4>
<p>1、掩模ROM的阵列结构和存储元
<a href="#R-image-17587b40ba19b02a87f19d2cf066191a" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu9.png" alt="tu9" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-17587b40ba19b02a87f19d2cf066191a"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu9.png" alt="tu9" class="lightbox-image        " loading="lazy"></a></p>
<p>2、可编程ROM</p>
<p> EPROM叫做 <em><strong>光擦除可编程可读存储器</strong></em>。它的存储内容可以根据需要写入，当需要更新时将原存储内容抹去，再写入新的内容。
 现以浮栅雪崩注入型MOS管为存储元的EPROM为例进行说明，结构如下图所示。</p>
<p>E2PROM存储元</p>
<p>EEPROM，叫做电擦除可编程只读存储器。其存储元是一个具有两个栅极的NMOS管，如图(a)和(b)所示，G1是控制栅，它是一个浮栅，无引出线；G2是抹去栅，它有引出线。在G1栅和漏极D之间有一小面积的氧化层，其厚度极薄，可产生隧道效应。如图(c)所示，当G2栅加20V正脉冲P1时，通过隧道效应，电子由衬底注入到G1浮栅，相当于存储了1”。利用此方法可将存储器抹成全“1”状态。
<a href="#R-image-1212d23ab450073f74b668af785a73ab" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu10.png" alt=" tu10" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1212d23ab450073f74b668af785a73ab"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu10.png" alt=" tu10" class="lightbox-image        " loading="lazy"></a></p>
<h4 id="flash">FLASH</h4>
<p>FLASH存储器也翻译成闪速存储器，它是高密度非失易失性的读/写存储器。高密度意味着它具有巨大比特数目的存储容量。非易失性意味着存放的数据在没有电源的情况下可以长期保存。总之，它既有RAM的优点，又有ROM的优点，称得上是存储技术划时代的进展。</p>
<p><strong>FLASH存储器的基本操作</strong> 编程操作、读取操作、擦除操作。</p>
<h3 id="并行存储器">并行存储器</h3>
<p>并行存储器的作用：提高读写效率</p>
<h4 id="双端口与存储器">双端口与存储器</h4>
<p>1、双端口存储器的逻辑结构</p>
<p>双端口存储器由同一个存储器具有两组 <strong>相互独立的读写控制电路</strong> 而得名。由于进行并行的独立操作，因而是一种高速工作的存储器，在科研和工程中非常有用。 举例说明，双端口存储器IDT7133的逻辑框图 。如下图：
<a href="#R-image-297fc5b37e7fa12e5b4d042ee88210de" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu11.png" alt="tu11" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-297fc5b37e7fa12e5b4d042ee88210de"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu11.png" alt="tu11" class="lightbox-image        " loading="lazy"></a></p>
<p>2、无冲突读写控制</p>
<p>当两个端口的地址不相同时，在两个端口上进行读写操作，一定不会发生冲突。当任一端口被选中驱动时，就可对整个存储器进行存取，每一个端口都有自己的片选控制(CE)和输出驱动控制(OE)。读操作时，端口的OE(低电平有效)打开输出驱动器，由存储矩阵读出的数据就出现在I/O线上。</p>
<p>3、有冲突读写控制</p>
<p>当两个端口同时存取存储器同一存储单元时，便发生读写冲突。为解决此问题，特设置了BUSY标志。在这种情况下，片上的判断逻辑可以决定对哪个端口优先进行读写操作，而对另一个被延迟的端口置BUSY标志(BUSY变为低电平)，即暂时关闭此端口。</p>
<h4 id="多模块交叉存储器">多模块交叉存储器</h4>
<p>1、存储器的模块化组织
一个由若干个模块组成的主存储器是线性编址的。这些地址在各模块中如何安排，有两种方式：</p>
<ul>
<li>一种是 <strong>顺序方式</strong> ，</li>
<li>一种是 <strong>交叉方式</strong> 。
<a href="#R-image-fc722b14093c00b84a773ae8bd792840" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu12.png" alt="tu12" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fc722b14093c00b84a773ae8bd792840"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu12.png" alt="tu12" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h5 id="顺序方式">顺序方式</h5>
<p>[例]M0－M3共四个模块，则每个模块8个字</p>
<p>顺序方式：</p>
<p>M0：0—7
M1：8－15
M2：16－23
M3：24－31</p>
<ul>
<li>5位地址组织如下： X X X X X</li>
<li>高位选模块，低位选块内地址</li>
<li>特点：某个模块进行存取时，其他模块不工作，优点是某一模块出现故障时，其他模块可以照常工作，通过增添模块来扩充存储器容量比较方便。缺点是各模块串行工作，存储器的带宽受到了限制。</li>
</ul>
<h5 id="交叉方式">交叉方式</h5>
<ul>
<li>
<p>M0：0，4,&hellip;除以4余数为0</p>
</li>
<li>
<p>M1：1，5,&hellip;除以4余数为1</p>
</li>
<li>
<p>M2：2，6,&hellip;除以4余数为2</p>
</li>
<li>
<p>M3：3，7,&hellip;除以4余数为3</p>
</li>
<li>
<p>5位地址组织如下： X X X X X</p>
</li>
<li>
<p>高位选块内地址，低位选模块</p>
</li>
<li>
<p>特点：连续地址分布在相邻的不同模块内，同一个模块内的地址都是不连续的。优点是对连续字的成块传送可实现多模块流水式并行存取，大大提高存储器的带宽。使用场合为成批数据读取。</p>
</li>
</ul>
<p><strong>多模块交叉存储器的基本结构</strong> 下图为四模块交叉存储器结构框图。主存被分成4个相互独立、容量相同的模块M0，M1，M2，M3，每个模块都有自己的读写控制电路、地址寄器和数据寄存器，各自以等同的方式与CPU传送信息。在理想情况下，如果程序段或数据块都是连续地在主存中存取，那么将大大提高主存的访问速度。
!p<a href="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu13.png">tu13</a></p>
<ul>
<li>通常在一个存储器周期内，n个存储体必须分时启动，则各个存储体的启动间隔为
<span class="math align-center">$t=\frac{T}{n}$</span>（n为交叉存取度）</li>
<li>整个存储器的存取速度有望提高n倍

<span class="math align-center">$t{_顺序}=xT$</span>

<span class="math align-center">$t{_交叉}=T\frac{x+n-1}{n}$</span></li>
</ul>
<h3 id="cache-基本原理">cache 基本原理</h3>
<p>为了解决CPU和主存之间速度不匹配而采取的一种重要技术。</p>
<ul>
<li>一般采用高速的SRAM构成。</li>
<li>CPU和主存之间的速度差别很大采用两级或多级Cache系统</li>
<li>早期的一级Cache在CPU内，二级在主板上</li>
<li>现在的CPU内带L1 Cache和L2 Cache</li>
<li>全由硬件调度，对用户透明
<a href="#R-image-006cefddbc20ecc909a22342ad9464d1" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu14.png" alt="tu14" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-006cefddbc20ecc909a22342ad9464d1"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu14.png" alt="tu14" class="lightbox-image        " loading="lazy"></a>
cpu与缓存之间数据交换是以字节为单位，而缓存与主存之间的数据交换以块为单位，一个块有若干组成，是定长的。</li>
</ul>
<p>从CPU来看，增加一个cache的目的，就是在性能上使主存的平均读出时间尽可能接近cache的读出时间。为了达到这个目的，在所有的存储器访问中由cache满足CPU需要的部分应占很高的比例，即cache的命中率应接近于1。由于程序访问的局部性，实现这个目标是可能的。</p>
<p>命中率：CPU访问cache且需要获取的文件在cache里，即为命中，公示如下：

<span class="math align-center">$h=\frac{N{_c}}{N{_c}+N{_m}}$</span></p>
<p>
<span class="math align-center">$N{_c}$</span>:cache完成存取的总次数（访问cache的总次数）；</p>
<p>
<span class="math align-center">$N{_m}$</span>:主存完成存取的总次数。</p>
<h3 id="主存与cache的地址映射">主存与cache的地址映射</h3>
<p>无论选择那种映射方式，都要把主存和cache划分为同样大小的“块”。下面介绍三种一映射方式：</p>
<p>1、全相联的映射方式（一对多，一是指缓存，多是指主存里的数据块）</p>
<p>（1）将地址分为两部分（块号和字），在内存块写入Cache时，同时写入块号标记；
（2）CPU给出访问地址后，也将地址分为两部分（块号和字），比较电路块号与Cache 表中的标记进行比较，相同表示命中，访问相应单元；如果没有命中访问内存，CPU 直接访问内存，并将被访问内存的相对应块写入Cache。
<a href="#R-image-372bef32541822d3609fe57779e78f48" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu16.png" alt=" tu15" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-372bef32541822d3609fe57779e78f48"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu16.png" alt=" tu15" class="lightbox-image        " loading="lazy"></a></p>
<p>1、全相联映射方式</p>
<p>特点：</p>
<ul>
<li>优点：冲突概率小，Cache的利用高。</li>
<li>缺点：比较器电路难实现，适用于小容量的Cache</li>
</ul>
<h3 id="直接映射方式">直接映射方式</h3>
<p>2、直接映射方式（一对多）：</p>
<ul>
<li>i= j mod m</li>
<li>m为cache中的总行数</li>
<li>主存第j块内容拷贝到Cache的i行</li>
<li>一般I和m都是2^N级
<a href="#R-image-898780cc3b8cfbf3a7fda00641c31304" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu15.png" alt="tu15" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-898780cc3b8cfbf3a7fda00641c31304"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu15.png" alt="tu15" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>[例]cache容量16字，主存容量256字，则地址2，18，34…..242等都存放在cache的地址2内，如果第一次2在cache中，下次访问34内容，则不管cache其他位置的内容访问情况，都会引起2块内容的替换。</p>
<p>特点</p>
<ul>
<li>优点：比较电路少m倍线路，所以硬件实现简单，Cache地址为主存地址的低几位，不需变换。</li>
<li>缺点：冲突概率高（抖动）</li>
<li>适合大容量Cache</li>
</ul>
<h3 id="组相联映射方式">组相联映射方式</h3>
<p>前两者的组合</p>
<ul>
<li>Cache分组，组间采用直接映射方式，组内采用全相联的映射方式</li>
<li>Cache分组U，组内容量V</li>
<li>映射方法（一对多）
<ul>
<li>q= j mod u</li>
<li>主存第j块内容拷贝到Cache的q组中的某行</li>
</ul>
</li>
<li>地址变换
<ul>
<li>设主存地址x，看是不是在cache中，先y= x mod u，则在y组中一次查找</li>
</ul>
</li>
</ul>
<p>分析：比全相联容易实现，冲突低</p>
<ul>
<li>v=1，则为直接相联映射方式</li>
<li>u=1，则为全相联映射方式</li>
<li>v的取值一般比较小， 一般是2的幂，称之为v路组相联cache。
<a href="#R-image-e74c49f175fc15af29ba2d3a502d9a4e" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu17.png" alt="tu17" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e74c49f175fc15af29ba2d3a502d9a4e"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu17.png" alt="tu17" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h3 id="cache替换策略">cache替换策略</h3>
<ul>
<li>LFU（最不经常使用 ）：每行有一个计数器，被访问的行计数器增加1，哪一行的值小，就换值小的行，不能反映近期cache的访问情况，</li>
<li>LRU（近期最少使用） ：被访问的行计数器置0，其他的计数器增加1，哪一行的值大，换值大的行，符合cache的工作原理</li>
<li>随机替换：随机替换策略实际上是不要什么算法，从特定的行位置中随机地选取一行换出即可。这种策略在硬件上容易实现，且速度也比前两种策略快。
<ul>
<li>缺点：随意换出的数据很可能马上又要使用，从而降低命中率和cache工作效率。</li>
<li>优点：但这个不足随着cache容量增大而减小。随机替换策略的功效只是稍逊于前两种策略。</li>
</ul>
</li>
</ul>
<p>由于cache的内容只是主存部分内容的拷贝，它应当 <strong>与主存内容保持一致</strong>。而CPU对cache的写入更改了cache的内容。如何与主存内容保持一致，可选用如下三种写操作策略。</p>
<ul>
<li>写回法：换出时，对行的修改位进行判断，决定是写回还是舍掉。当主存数据传向缓存而缓存满的时候，缓存就要进行替换，只有这个时候才将数据写回主存。</li>
<li>全写法：写命中时，Cache与内存一起写，也就是主存和缓存一起更改；</li>
<li>写一次法：与写回法一致，第一次Cache命中时采用全写法，也就是这个时候要把数据写回主存，因为第一次命中的时候CPU会在总线上启动一个存储写周期，其他cache即可监听到该消息，选择复制或丢弃该数据，以便委会系统全部cache的一致性。</li>
</ul>
<h2 id="4-指令系统">4 指令系统</h2>
<h3 id="指令系统基本概念">指令系统基本概念</h3>
<p>指令：就是要计算机执行某种操作的命令。从计算机组成的层次结构来说，计算机的指令有微指令、机器指令和宏指令之分。</p>

<span class="math align-center">$指令=\begin{cases}微指令\\机器指令\\宏指令\end{cases}$</span>
<ul>
<li><strong>微指令</strong> 是微程序级的命令，它属于硬件；</li>
<li><strong>宏指令：</strong> 由若干条机器指令组成的软件指令，它属于软件；</li>
<li><strong>机器指令：</strong> 介于微指令与宏指令之间，通常简称为指令，每一条指令可完成一个独立的算术运算或逻辑运算操作。</li>
</ul>
<p><strong>本小节介绍的就是机器指令。</strong></p>
<h3 id="指令系统的性能要求">指令系统的性能要求</h3>
<ul>
<li>完备性</li>
<li>规整性</li>
<li>有效性</li>
<li>兼容性</li>
</ul>
<p>低级语言与高级语言的关系
<a href="#R-image-6da5b66c5c29852040fad8f11efff45d" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu18.png" alt="tu18" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6da5b66c5c29852040fad8f11efff45d"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu18.png" alt="tu18" class="lightbox-image        " loading="lazy"></a></p>
<p>机器程序员看到的计算机属性就是指令系统体系结构，简称 <strong>ISA</strong>。</p>
<h3 id="指令格式">指令格式</h3>
<table>
<thead>
<tr>
<th>操作字段OP</th>
<th>地址码字段A</th>
</tr>
</thead>
<tbody>
<tr>
<td>表示进行什么性质的操作，如+、-等</td>
<td>存储操作数的地址</td>
</tr>
</tbody>
</table>
<p>不同的指令用操作码字段的不同编码来表示，每一种编码代表一种指令。</p>
<p>根据一条指令中有几个操作数地址，可将该指令称为几操作数指令或几地址指令。</p>
<ul>
<li>三地址指令</li>
<li>二地址指令</li>
<li>单地址指令</li>
<li>零地址指令
<table>
<thead>
<tr>
<th>地址码名称</th>
<th>操作码</th>
<th>地址块1</th>
<th>地址块2</th>
<th>地址块3</th>
</tr>
</thead>
<tbody>
<tr>
<td>三地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A_1$</span></td>
<td>
<span class="math align-center">$A_2$</span></td>
<td>
<span class="math align-center">$A_3$</span></td>
</tr>
<tr>
<td>二地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A_1$</span></td>
<td>
<span class="math align-center">$A_2$</span></td>
<td></td>
</tr>
<tr>
<td>一地址指令</td>
<td>OP码</td>
<td>
<span class="math align-center">$A$</span></td>
<td></td>
<td></td>
</tr>
<tr>
<td>零地址指令</td>
<td>OP码</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
<h4 id="三地址指令">三地址指令</h4>
<table>
<thead>
<tr>
<th>三地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A_1$</span></th>
<th>
<span class="math align-center">$A_2$</span></th>
<th>
<span class="math align-center">$A_3$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>被操作数或源操作数地址</td>
<td>操作数或终点操作数地址</td>
<td>存放结果操作数地址</td>
</tr>
</tbody>
</table>
<ul>
<li>功能描述：
<ul>
<li>(A1) op(A2)→A3（把A1A2的结果存放到A3中）</li>
<li>(PC) +1→PC（PC加1）</li>
</ul>
</li>
</ul>
<p>这种格式虽然省去了一个地址，但指令长度仍比较长，所以只在字长较长的大、中型机中使用，而小型、微型机中很少使用。</p>
<h4 id="二地址指令双操作数指令">二地址指令（双操作数指令）</h4>
<table>
<thead>
<tr>
<th>二地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A_1$</span></th>
<th>
<span class="math align-center">$A_2$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>第一操作数</td>
<td>第二操作数</td>
</tr>
</tbody>
</table>
<ul>
<li>功能描述：
<ul>
<li>(A1) op(A2)→A1</li>
<li>(PC)+1→PC</li>
</ul>
</li>
<li>二地址指令在计算机中得到了广泛的应用，但是在使用时有一点必须注意：指令执行之后，A1中原存的内容已经被新的运算结果替换了。</li>
</ul>
<p>二地址地址根据操作数的物理位置分为：</p>
<ul>
<li>SS 存储器-存储器类型</li>
<li>RS 寄存器-存储器类型</li>
<li>RR 寄存器-寄存器类型
RR到RS再到SS，指令执行会越来越慢，也就是说指令执行从内存某个单元到内存的另一个单元比较慢。</li>
</ul>
<h4 id="一地址指令">一地址指令</h4>
<table>
<thead>
<tr>
<th>一地址指令</th>
<th>OP码</th>
<th>
<span class="math align-center">$A$</span></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
<td>操作数</td>
</tr>
</tbody>
</table>
<p>功能描述：</p>
<ul>
<li>(AC) op(A1) →A1</li>
<li>(PC)+1→PC</li>
<li>单操作数运算指令，如“+1”、“-1”、“求反”</li>
<li>指令中给出一个源操作数的地址</li>
</ul>
<h4 id="零地址指令">零地址指令</h4>
<table>
<thead>
<tr>
<th>零地址指令</th>
<th>OP码</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>操作码</td>
</tr>
</tbody>
</table>
<p>功能：“停机”、“空操作”、“清除”等控制类指令。</p>
<h4 id="指令字长度">指令字长度</h4>
<p>概念</p>
<ul>
<li>指令字长度（一个指令字包含二进制代码的位数）</li>
<li>机器字长：计算机能直接处理的二进制数据的位数。</li>
<li>单字长指令</li>
<li>半字长指令</li>
<li>双字长指令</li>
</ul>
<p>多字长指令的优缺点</p>
<ul>
<li>
<p>优点提供足够的地址位来解决访问内存任何单元的寻址问题 ；</p>
</li>
<li>
<p>缺点必须两次或多次访问内存以取出一整条指令，降低了CPU的运算速度，又占用了更多的存储空间。</p>
</li>
<li>
<p>指令系统中指令采用 <strong>等长指令</strong> 的优点：各种指令字长度是相等的，指令字结构简单，且指令字长度是不变的 ；</p>
</li>
<li>
<p>采用 <strong>非等长指令</strong> 的的优点：各种指令字长度随指令功能而异，结构灵活，能充分利用指令长度，但指令的控制较复杂 。</p>
</li>
</ul>
<h4 id="指令助记符">指令助记符</h4>
<table>
<thead>
<tr>
<th>零地址指令</th>
<th>OP码</th>
<th>OP码</th>
</tr>
</thead>
<tbody>
<tr>
<td>加法</td>
<td>ADD</td>
<td>001</td>
</tr>
<tr>
<td>减法</td>
<td>SUB</td>
<td>010</td>
</tr>
<tr>
<td>传送</td>
<td>MOV</td>
<td>011</td>
</tr>
<tr>
<td>跳转</td>
<td>JMP</td>
<td>100</td>
</tr>
<tr>
<td>转子</td>
<td>JSR</td>
<td>101</td>
</tr>
<tr>
<td>存数</td>
<td>STO</td>
<td>110</td>
</tr>
<tr>
<td>取数</td>
<td>LAD</td>
<td>111</td>
</tr>
</tbody>
</table>
<h3 id="操作数类型">操作数类型</h3>
<ul>
<li>地址数据:地址实际上也是一种形式的数据。（ <strong>类似指针</strong> ）</li>
<li>数值数据:计算机中普遍使用的三种类型的数值数据。</li>
<li>字符数据:文本数据或字符串，目前广泛使用ASCII码。</li>
<li>逻辑数据:一个单元中有几位二进制bit项组成，每个bit的值可以是1或0。当数据以这种方式看待时，称为逻辑性数据。（类似布尔型）</li>
</ul>
<h3 id="指令和数据的寻址方式">指令和数据的寻址方式</h3>
<p>
<span class="math align-center">$指令寻址方式=\begin{cases}顺序寻址\\跳跃寻址\end{cases}$</span>
此处的跳跃寻址包含了选择和循环。</p>
<h3 id="操作数基本寻址方式">操作数基本寻址方式</h3>
<p>1、隐含寻址</p>
<p><a href="#R-image-285d993e6e452255257c13f4311ab83c" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu20.png" alt="tu20" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-285d993e6e452255257c13f4311ab83c"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu20.png" alt="tu20" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>指令中隐含着操作数的地址，比如隐藏累加器的地址，当该指令被执行时会执行累加器，但累加器的地址是没有表现在该指令上的。</li>
<li>如某些运算，隐含了累加器AC作为源和目的寄存器</li>
<li>如8086汇编中的STC指令，设置标志寄存器的C为1</li>
</ul>
<p>2、立即寻址</p>
<p><a href="#R-image-031164fd51cd8224b01f7cd7681ec01f" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu21.png" alt="tu21" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-031164fd51cd8224b01f7cd7681ec01f"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu21.png" alt="tu21" class="lightbox-image        " loading="lazy"></a></p>
<p>指令的地址指出的不是操作数地址，而是操作数本身。比如</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">=</span><span style="color:#ae81ff">6</span>,y<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> z<span style="color:#f92672">=</span>x<span style="color:#f92672">+</span>y;</span></span></code></pre></div><p>在上面这个例子中，执行加法的时候x,y不是6和7的地址，而是6和7本身；</p>
<p>3、直接寻址</p>
<p><a href="#R-image-d0fcf0c6a3daac1741224676fae02702" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu22.png" alt="tu22" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d0fcf0c6a3daac1741224676fae02702"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu22.png" alt="tu22" class="lightbox-image        " loading="lazy"></a></p>
<p>在指令格式中的地址上指出操作数在内存中的地址。其实这很像数组，例如</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">char</span> x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;1&#39;</span>;<span style="color:#75715e">//地址为5673
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span> cha[]<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;x&#39;</span>};<span style="color:#75715e">//地址为2341
</span></span></span></code></pre></div><p>我们在使用cha[0]的时候,地址2341指向的就是1的地址5673，一个地址指向另一个地址。</p>
<p>4、间接寻址</p>
<p><a href="#R-image-97a6da8d060f8420bb5d522bc8016984" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu23.png" alt="tu23" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-97a6da8d060f8420bb5d522bc8016984"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu23.png" alt="tu23" class="lightbox-image        " loading="lazy"></a></p>
<p>类似二维数组</p>
<p>5、寄存器寻址</p>
<p><a href="#R-image-c7f9e8cf9f828d19b56ce6b2acb40f10" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu24.png" alt="tu24" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c7f9e8cf9f828d19b56ce6b2acb40f10"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu24.png" alt="tu24" class="lightbox-image        " loading="lazy"></a></p>
<p>当操作数不在内存而是在CPU的寄存器中时使用这个寻址方式</p>
<p>6、寄存器简介寻址</p>
<p><a href="#R-image-9a4faced2107ae87a93b7b2b610aafde" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu25.png" alt="tu25" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9a4faced2107ae87a93b7b2b610aafde"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu25.png" alt="tu25" class="lightbox-image        " loading="lazy"></a></p>
<p>操作数不在寄存器中，而是在寄存器地址所知的位置，比如内存（类似二维数组）</p>
<p>7、偏移寻址</p>
<p><a href="#R-image-9d0d04b6f35aef714050fa4ada9144c6" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu26.png" alt="tu26" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9d0d04b6f35aef714050fa4ada9144c6"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu26.png" alt="tu26" class="lightbox-image        " loading="lazy"></a></p>
<p>类似于数组中，数组下标的变化会对应不同的地址上的值，下标的变化可以理解为加了某一个偏移量而产生改变。</p>
<p>下面介绍三种不同的偏移寻址，他们的不同我觉得就是使用的寄存器不一样，本质上都是地址加了偏移量后找到第二个地址，再通过第二个地址上的值进行操作。</p>
<p>7.1 相对寻址</p>
<p>使用的是程序计数器（CP），CP作为原始地址，EA=A+（CP）</p>
<p>7.2 基址寻址</p>
<p><a href="#R-image-ecc64d98c4c1b9b4222364ff01fcc398" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu28.png" alt="tu27" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ecc64d98c4c1b9b4222364ff01fcc398"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu28.png" alt="tu27" class="lightbox-image        " loading="lazy"></a></p>
<p>使用存储器地址，作为原始地址，</p>
<p>7.3 变址寻址</p>
<p><a href="#R-image-65b35481edf4fcb956f8486713070dbb" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu29.png" alt="tu28" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-65b35481edf4fcb956f8486713070dbb"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu29.png" alt="tu28" class="lightbox-image        " loading="lazy"></a></p>
<p>就是将指令的地址码部分给出的基准地址A与CPU内某特定的变址寄存器Rx中的内容相加，以形成操作数的有效地址。</p>
<p>8、分寄存器堆栈、存储器堆栈以先进后出原理存储数据
<a href="#R-image-ad1b222db73fa8100ec05aef41a3bc24" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu27.png" alt="tu27" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad1b222db73fa8100ec05aef41a3bc24"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu27.png" alt="tu27" class="lightbox-image        " loading="lazy"></a></p>
<p>9、段寻址方式</p>
<p>存储空间划分为多段
<a href="#R-image-6560b1eb72ea82521f9ea696ec738857" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu30.png" alt="tu30" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6560b1eb72ea82521f9ea696ec738857"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu30.png" alt="tu30" class="lightbox-image        " loading="lazy"></a></p>
<h3 id="典型的指令">典型的指令</h3>
<ul>
<li>数据处理</li>
<li>数据存储</li>
<li>数据传送</li>
<li>程序控制</li>
</ul>
<ol>
<li>数据传送指令</li>
<li>算术运算指令</li>
<li>逻辑运算指令</li>
<li>程序控制指令</li>
<li>输入输出指令</li>
<li>字符串处理指令</li>
<li>特权指令</li>
</ol>
<h2 id="中央处理器">中央处理器</h2>
<p>冯诺一曼机的运算器与控制器是分开的，二现今这两个是设计在同一块芯片上，成为 <strong>CPU</strong> ，而单片机就是 <strong>CPU+存储器</strong>。</p>
<h3 id="cpu的功能和组成">CPU的功能和组成</h3>
<h4 id="cpu的功能">CPU的功能</h4>
<p>取指令，执行指令</p>
<ul>
<li>指令控制。程序的<strong>顺序控制</strong> 。</li>
<li>操作控制。控制指令的取出与执行。</li>
<li>时间控制。对操作实施时间上的定时。</li>
<li>数据加工。例如算数运算和逻辑运算</li>
</ul>
<h4 id="cpu的组成">CPU的组成</h4>
<p><a href="#R-image-9b29067c4e9c966232d00150197810e1" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu31.png" alt="tu31" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9b29067c4e9c966232d00150197810e1"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu31.png" alt="tu31" class="lightbox-image        " loading="lazy"></a>
中央处理器CPU = 运算器 + cache + 控制器</p>
<h5 id="运算器">运算器</h5>
<ul>
<li>ALU：算术逻辑运算单元</li>
<li>通用寄存器：R0～R3</li>
<li>数据缓冲寄存器：DR</li>
<li>程序状态字寄存器：PSWR</li>
</ul>
<h5 id="控制器">控制器</h5>
<p>程序计数器、指令寄存器、时序发生器、操作控制寄存器；</p>
<ul>
<li>程序计数器PC(Programming Counter)
<ul>
<li>用来存放正在执行的指令的地址或接着将要执行的下一条指令的地址。</li>
<li><strong>顺序执行</strong> 时，每执行一条指令，PC的值应 <strong>加1</strong></li>
<li>要改变程序执行顺序的情况时，一般由转移类指令将转移目标地址送往PC ，可实现程序的转移。</li>
</ul>
</li>
<li>指令寄存器IR(Instruction Register)
<ul>
<li>指令寄存器用来存放从存储器中 <strong>取出的待执行的指令</strong>。</li>
<li>在执行该指令的过程中，指令寄存器的内容不允许发生变化，以保证实现指令的全部功能。</li>
</ul>
</li>
</ul>
<h3 id="重要的寄存器">重要的寄存器</h3>
<ul>
<li>数据缓冲寄存器（DP）：暂时存放ALU（算术逻辑运算单元）运算结果，或或有数据寄存器读出的数据字，或外部接口的数据字。
<a href="#R-image-dbc10ade89905303720fa0b52d73e322" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu32.png" alt="tu32" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dbc10ade89905303720fa0b52d73e322"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu32.png" alt="tu32" class="lightbox-image        " loading="lazy"></a></li>
<li>指令寄存器(IR)：用来保存当前正在执行的第一条指令</li>
<li>程序计数器(PC)：总是保持将要执行的下一条指令，绝大多数是顺序程序，所以修改过程中通常是简单的PC加1.</li>
<li>数据地址寄存器(AR)用来保存当前CPU所访问的数据存储单元的地址。</li>
<li>通用寄存器(R0～R3)：存常用的指令，</li>
<li>状态字寄存器(PSW)：保存有算术运算或逻辑运算或测试结果产生的更重条件代码，简而言之就是存储一些运算的结果，比如进位、溢出、零标志、负标志等</li>
</ul>
<h3 id="指令周期">指令周期</h3>
<p><a href="#R-image-4c6dae641a1f48ef7983f8ec38912af6" class="lightbox-link"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu33.png" alt="tu23" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4c6dae641a1f48ef7983f8ec38912af6"><img src="./branch-bundle-1/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E5%B0%8F%E7%9F%A5%E8%AF%86/tu33.png" alt="tu23" class="lightbox-image        " loading="lazy"></a>
指令周期由若干个CPU周期数表示，CPU周期又称为机器周期，在一些系统中称机器周期为时钟周期。</p>
<p>指令周期又分为取指令周期与执行指令周期</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>也被称为电脑，或者电子计算机。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 20</div>
<h1 id="2androidstudio">2.AndroidStudio</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/androidstudio/androidstudio%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">AndroidStudio</a><p>AndroidStudio简介 1.配置Android开发环境： 安装JDK： （1）下载JDK （2）配置环境变量； 安装Android Studio</p></li>
<li><a href="./branch-bundle-1/androidstudio/%E7%AC%94%E8%AE%B0/">AndroidStudio笔记</a><p>第一章 配置开发环境： 1.安装JDK &ldquo;安装连接&rdquo; 2.安装AndroidStudio &ldquo;安装连接&rdquo;</p></li>
<li><a href="./branch-bundle-1/androidstudio/toolbar/">2-1.Toolbar工具栏</a><p>Toolbar是什么？ 简单理解就是页面的上的菜单栏，或者叫工具栏，在AndroidStudio的页面布局中使用Toolbar， menu文件的</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">2.AndroidStudio 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
  </ul>
</div>
            </header>
<h1 id="androidstudio">AndroidStudio</h1>

<h2 id="androidstudio简介">AndroidStudio简介</h2>
<p>1.配置Android开发环境：</p>
<ul>
<li>安装JDK：
（1）下载JDK
（2）配置环境变量；</li>
<li>安装Android Studio；</li>
<li>安装SDK。</li>
</ul>
<p>2.自动构建工具Gradle：</p>
<p>Gradle 是以 Groovy 语言为基础，面向Java应用为主，基于DSL（领域特定语言）语法的自动化构建工具。它可以自动化地进行软件构建、测试、发布、部署、软件打包，同时也可以完成项目相关功能，如生成静态网站、生成文档等。另外其集合了Ant的灵活性和强大功能，以及Maven的依赖管理和约定，从而创造了一个更有效的构建方式。凭借Groovy的DSL和创新打包方式，Gradle提供了一个可声明的方式，并在合理默认值的基础上描述所有类型的构建。Gradle目前已被选作许多开源项目的构建系统。</p>
<p>3.Logcat日志输出工具：使用 Logcat 查看日志</p>
<p>Android Studio 中的 Logcat 窗口会实时显示设备日志来帮助您调试应用，例如，使用 Log 类添加到应用的消息、在 Android 上运行的服务发出的消息或系统消息（例如在发生垃圾回收时）。如果应用抛出异常，Logcat 会显示一条消息，后跟相关联的堆栈轨迹，其中包含指向代码行的链接。</p>
<p>4.Android Studio中 <strong>Make Project</strong> 、<strong>Clean Project</strong> 、<strong>Rebuild Project</strong> 的作用</p>
<ul>
<li>Make Project：编译Project下所有Module（组件或模块），一般是自上次编译后Project下有更新的文件，增量编译，不生成Apk。</li>
<li>Clean Project：删除之前编译后的编译文件。部分版本的AS会自动重新编译整个Project，不生成Apk。</li>
<li>Rebuild Project：先执行Clean操作，删除之前编译的编译文件和可执行文件，然后重新编译新的编译文件，不生成Apk</li>
</ul>
<p>5.Run窗口：可以输出程序运行过程中出现的错误。
6.manifests文件夹（清单文件夹）：Android系统配置文件夹，包含一个AndroidManifest.xml文件（清单文件），可在此文件注册声明</p>
<ul>
<li><code>&lt;activity&gt;</code>页面、</li>
<li><code>&lt;service&gt;</code>服务、</li>
<li><code>&lt;receiver&gt;</code>接收器、</li>
<li><code>&lt;provider&gt;</code>提供者或提供程序、</li>
<li><code>&lt;uses-permission&gt;</code>使用权限等；</li>
</ul>
<p>7.java文件夹：存放Java代码的文件夹，新建项目时默认生成了三个文件夹，com.first.project文件夹用来存放Java文件，这里包含一个名为MainActivity的Java文件，是新建项目时默认生成的。
第二个和第三个文件为测试代码文件夹，不是十分常用。</p>
<ul>
<li>res文件夹：存放Android项目的资源文件，包含四个文件夹：</li>
<li>drawable（图片资源文件夹）、</li>
<li>layout（布局资源文件夹）、</li>
<li>mipmap（图片资源文件夹，存放项目图标）、</li>
<li>values（存放数值资源文件），</li>
<li>此外有menu文件（菜单资源文件）。</li>
</ul>
<p>8.Android系统体系结构四层，从上到下分别是</p>
<ul>
<li>应用程序层</li>
<li>应用程序框架层</li>
<li>系统运行库层</li>
<li>Linux内核层
每一层都是用其下面各层所提供的服务。</li>
</ul>
<p>应用程序层</p>
<p>Android平台包含了许多核心的应用程序，诸如Email客户端、SMS短消息程序、日历、地图、浏览器、联系人等应用程序。这些应用程序都是用Java语言编写的。开发人员可以灵活地根据需求替换这些自带的应用程序或者开发新的应用程序。</p>
<p>应用程序框架</p>
<p>开发者可以完全访问核心应用程序所使用的API框架。该层简化了组件的复用，使得开发人员可以直接使用系统提供的组件来进行快速地开发，也可以通过继承灵活地加以拓展。这些东西包括：</p>
<p>活动管理器（Activity Manager，管理各个应用程序的生命周期以及通常的导航回退功能）
视图系统（View System，构建应用程序的基本组件）
内容提供器（ContentProvider，使得不同的应用程序之间可以存取或者分享数据）
资源管理器（Resource Manager，提供应用程序使用的各种非代码资源，如本地化字符串、图片、布局文件等）
通知管理器（Notification Manager，使应用程序可以在状态栏中显示自定义的提示信息）等。</p>
<p>系统运行库层</p>
<p>包括系统库和Android Runtime，系统库是应用程序框架的支撑，是连接应用程序框架层与Linux内核层的重要纽带。程序在Android Runtime中执行，其运行时分为核心库和Dalvik虚拟机两部分。</p>
<p>Linux内核层</p>
<p>Android基于Linux2.6的内核，其核心系统服务如安全性、内存管理、进程管理、网络协议以及驱动模型都依赖于Linux内核，同时内核层也扮演了介于硬件层和软件栈之间的抽象层的角色。
Linux内核层和系统运行库层之间，从Linux操作系统的角度来看，是内核空间与用户空间的分界线，Linux层运行于内核空间，以上各层运行于用户空间。系统运行库层和应用框架层之间是本地代码层和Java代码层的接口。应用框架层和应用程序层是Android的系统API的接口，对于Android应用程序的开发，应用程序框架层以下的内容是不可见的，仅考虑系统API即可。</p>
<p>9.四大核心组件有：activity（活动或页面）、service（服务）、broadcast receiver（广播接收器）、content provider（内容提供者）</p>
<p>10.Activity介绍Android系统是通过任务栈来管理Activity的。当一个Activity启动时，会把Activity压入到堆栈中，当用户按返回键或者结束掉该Activity时，它会从堆栈中弹出。</p>
<p>11.Android为我们定义了四种加载方式</p>
<p>Standard 加载模式  ——标准模式/默认加载模式</p>
<p>标准模式：系统默认的Activity启动模式，当Intent欲打开Activity时，在该Activity不存在，存在于栈顶和存在于栈底三种情况下都会正常创建Activity，并压入任务栈栈顶；</p>
<p>SingleTop 加载模式  ——栈顶单例模式</p>
<p>栈顶单例模式：当启动一个Activity时，只有当该activity存在任务栈中且为栈顶，Intent才会通过onNewIntent()方法传递给在栈顶Activity实例；其他情况则正常创建Activity并压入任务栈；</p>
<p>SingleTask 加载模式  ——栈内单例模式</p>
<p>站内单例模式：当启动一个Activity时，系统会先检查任务栈内是否有该Activity，如果该Activity不存在则正常创建Activity实例，如果存在且在栈底则会将它上面的Activity弹出并销毁，使该Activity置于栈顶再调用onNewIntent()方法；</p>
<p>SingleInstence 加载模式  ——全局单例模式</p>
<p>与SingleTask模式基本一样，只是在这个模式下Activity所处的任务栈中只能有Activity这一个实例，不能有其他的实例。</p>
<p>12.Activity生命周期是指Activity从创建到销毁的过程，在这一过程中，Activity一般处于4种状态，即：Active/Running、Paused、Stop、Killed</p>
<p>（1）Active/Running   此时Activity一定处于屏幕的最前端，用户完全可以看得到，并且可以与用户进行交互。对于Activity栈来说，它处于栈顶；
（2）Paused  此时Activity在屏幕上仍然可见，但是它已经失去了焦点，用户不能与之进行交互。暂停状态的Activity是存活的，它仍然维持着其内部状态和信息，但是系统可能会在手机内存极低的情况下杀掉该Activity；
（3）Stop   此时Activity在屏幕上完全不能被用户看见，也就是说这个Activity已经完全被其他Activity所遮住。处于停止状态的Activity，系统仍然保留有其内部状态和成员信息，但是它经常会由于手机系统内存被征用而被系统杀死回收；
（4）Killed   Activity被系统杀死回收或者未启动。</p>
<p>13.为了能够让Android程序了解自身状态的变化，Android系统中具有很多事件回调函数，我们可以重载这些方法来实现自己的操作。Android生命周期的事件回调函数如下：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(Bundle savedInstanceState) 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStart</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onRestart</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onResume</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPause</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onStop</span>() 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onDestroy</span>()</span></span></code></pre></div><p>14.Activity生命周期</p>
<p>15.Fragment必须是依存于Activity而存在，因此Activity的生命周期会直接影响到Fragment的生命周期。图在课本第50页。</p>
<p>由图可以看到Fragment比Activity多了几个额外的生命周期回调函数：</p>
<p>onAttach(Activity)：当Fragment与Activity发生关联时调用。从该方法开始，就可以通过Fragment.getActivity方法获取与Fragment关联的窗口对象了，但在该方法中仍然无法操作Fragment中的控件。
onCreateView(LayoutInflater, ViewGroup, Bundle)：创建该Fragment的视图。onActivityCreated(Bundle)：当Activity的onCreate方法返回时调用。</p>
<p>onDestoryView():与onCreateView相对应，当该Fragment的视图被移除时调用。onDetach()：与onAttach相对应，当Fragment与Activity关联被取消时调用。</p>
<p>16.在使用Intent进行Activity之间的跳转时，我们通常有三种Intent跳转方式，即：不带参数的跳转、带参数的跳转以及带返回值的跳转，代码实现可参考实验报告或书本。</p>
<p>17.TextView常用的属性</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    android:id=&#34;@+id/textView1&#34;表示该控件的id，在布局文件中或者代码中被引用
</span></span><span style="display:flex;"><span>    android:textStyle=&#34;bold&#34;表示TextView里面的字加粗显示
</span></span><span style="display:flex;"><span>    android:layout_height=&#34;wrap_content&#34;表示该控件的高度为其包含内容的高度
</span></span><span style="display:flex;"><span>    android:layout_width=&#34;wrap_content&#34;表示该控件的宽度为其包含内容的宽度
</span></span><span style="display:flex;"><span>    android:text=&#34;@string/signin&#34; 显示的内容，这里表示存放在string.xml文件中name=signin的文本
</span></span><span style="display:flex;"><span>    android:layout_height=&#34;40dip&#34;设置具体的高度
</span></span><span style="display:flex;"><span>    android:textColor=&#34;#7089c0&#34;设置文本的颜色
</span></span><span style="display:flex;"><span>    android:textSize=&#34;18sp&#34;设置文本的大小
</span></span><span style="display:flex;"><span>    android:gravity=&#34;center_vertical&#34;设置文本垂直居中
</span></span><span style="display:flex;"><span>    android:paddingLeft=&#34;5dip&#34;设置内边距
</span></span><span style="display:flex;"><span>    android:layout_marginTop=&#34;5dip&#34;设置外边距</span></span></code></pre></div><p>18.LinearLayout线性布局、</p>
<ul>
<li>RelativeLayout相对布局、</li>
<li>FrameLayout帧布局、</li>
<li>TableLayout表格布局、</li>
<li>AbsoluteLayout绝对布局</li>
</ul>
<p>线性布局，是指该容器（LinearLayout）内子控件的摆放方式有两种：
第一种：垂直放置（VERTICAL），相对水平放置来讲，垂直放置就相当于一列，放置的控件或者容器只能在该列中的某个位置，两个控件之间只存在上下方向的关系，不存在其他方向上的关系。当这一列放满后，再添加的控件就至于屏幕之外存在，无法看见。
第二种：水平放置（HORIZONTAL），指的是该容器里面存放的控件或者容器只能以一行的形式出现，放置的控件只能是该行中的某个位置，两个控件或者容器之间只有左右关系没有其他方向上的关系，当放置水平方向满屏时不会自动换行，再放置的控件将在屏幕之外存在，无法看见。
在线性布局中重要的属性值对应表示</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    android:orientation	            //设置控件或者容器存放的方式
</span></span><span style="display:flex;"><span>    android:id	                    //设置控件id，方便在使用时找到其引用
</span></span><span style="display:flex;"><span>    android:layout_width	        //容器的宽度，该值必须设置
</span></span><span style="display:flex;"><span>    android:layout_height	        //容器的高度，该值必须设置
</span></span><span style="display:flex;"><span>    android:layout_weight	        //该属性针对其内的子控件，存放在LinearLayout中的控件都有这个属性，用来设置该控件或者容器占父控件或者容器的比例。</span></span></code></pre></div><p>相对布局，是指利用控件之间的相对位置关系来对布局进行放置。换句话说，在该容器中的控件与其他任何一个控件或者容器（包括父控件）有相对关系。</p>
<p>帧布局，是指该容器内放置的控件或者容器没有上下左右的关系，只有层叠前后的关系。放置在容器内的控件按放置的前后顺序逐一层叠摆放，自然地后面摆放的控件就将前面摆放的控件覆盖了，叠在它的上面了。对于放置前后的关系，在没有设置其他属性之前，Android系统采用的是叠放的原则，即后加入节点的层叠在上面。设置属性android：bringToFront=“true|false”将前面放置的控件提到最前面可见。</p>
<p>表格布局，指该容器是一个表格，放置控件时，控件的位置坐落在表格的某个位置上。其中TableRow是配合TableLayout使用的，目的是为了让TableLayout生成多个列，否则TableLayout中就只能存在一列元素，但可以有多行。</p>
<p>TableLayout的直接父类是LinearLayout，所以其具有LinearLayout的属性，TableLayout中的每一行用TableRow表示，每一列就是TableRow中的个数指定的。TableRow的直接父类是LinearLayout，但是其放置的方式只能水平放置。</p>
<p>绝对布局，是指以屏幕左上角为坐标原点（0,0），控件在容器中的位置以坐标的形式存在，可以随意指定控件的坐标位置，非常灵活。在开发过程中很少使用，原因是屏幕兼容性不好，不便控制两个控件之间的位置。其中控件或者容器放置的位置通过android:layout_x和android:layout_y这两个属性进行设置。</p>
<p>ConstraintLayout约束布局</p>
<p>优点：</p>
<p>ConstraintLayout之所以成为目前Android开发中主流的布局，除了官方建议使用ConstraintLayout外还有以下几个方面的优势
1.功能强大，ConstraintLayout几乎能实现其他布局所有的功能
2.能减少布局层次的嵌套，有性能的优势
3.可视化操作的增强，大部分界面用ConstraintLayout都能通过可视化编辑区域完成</p>
<p>19.对话框（Dialog）是Android系统在Activity或者其他组件运行过程中提供的一种资源消耗很小的提示机制，它可以帮助应用完成一些必要的提示功能，同时还提供一些用户交互的功能，包括简单的提示、等待、选择、展示等功能。操作简单，资源消耗较少。代码实现可参考实验报告或书本</p>
<p>1提示对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.alertdialog;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Toast;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultipleChoiceDialogBox</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">test</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">dialog_box_up</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(MultipleChoiceDialogBox.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setTitle</span>(<span style="color:#e6db74">&#34;这是一个简单的弹窗&#34;</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setIcon</span>(R.<span style="color:#a6e22e">mipmap</span>.<span style="color:#a6e22e">ic_launcher</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setMessage</span>(<span style="color:#e6db74">&#34;你学会了吗？&#34;</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;学会了&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;不会&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>2单选对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.alertdialog;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Toast;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MultipleChoiceDialogBox</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView textView;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String sexx<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;男&#34;</span>,<span style="color:#e6db74">&#34;女&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> choiceWitch <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">test</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">dialog_box_up</span>);
</span></span><span style="display:flex;"><span>        textView<span style="color:#f92672">=</span>findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">show_dialog_box_text</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(MultipleChoiceDialogBox.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setCancelable</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setSingleChoiceItems</span>(sexx, <span style="color:#f92672">-</span>1, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialog, <span style="color:#66d9ef">int</span> which) {
</span></span><span style="display:flex;"><span>                        choiceWitch<span style="color:#f92672">=</span>which;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;确定&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>                        textView.<span style="color:#a6e22e">setText</span>(sexx<span style="color:#f92672">[</span>choiceWitch<span style="color:#f92672">]</span>);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;取消&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>3多选对话框</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.gpc.wzxapplicationwu1;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.DialogInterface;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.v7.app.AlertDialog;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.support.v7.app.AppCompatActivity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.View;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.Button;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.widget.TextView;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.ArrayList;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> java.util.HashMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AlertDialogActivity</span> <span style="color:#66d9ef">extends</span> AppCompatActivity{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Button button;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> TextView textView;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String sexx<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;a&#34;</span>,<span style="color:#e6db74">&#34;b&#34;</span>,<span style="color:#e6db74">&#34;c&#34;</span>,<span style="color:#e6db74">&#34;d&#34;</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">boolean</span> stu<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span> {<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>,<span style="color:#66d9ef">false</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> choiceWitch <span style="color:#f92672">=</span> 1;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> ArrayList<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> HashMap<span style="color:#f92672">&lt;</span>Integer,Integer<span style="color:#f92672">&gt;</span> map <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> <span style="color:#66d9ef">final</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">alert_dialog</span>);
</span></span><span style="display:flex;"><span>        textView <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">alert_dialog_textview</span>);
</span></span><span style="display:flex;"><span>        button <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">alert_dialog_button</span>);
</span></span><span style="display:flex;"><span>        button.<span style="color:#a6e22e">setOnClickListener</span>(<span style="color:#66d9ef">new</span> View.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(View view) {
</span></span><span style="display:flex;"><span>                AlertDialog.<span style="color:#a6e22e">Builder</span> builder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AlertDialog.<span style="color:#a6e22e">Builder</span>(AlertDialogActivity.<span style="color:#a6e22e">this</span>);
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setMultiChoiceItems</span>(sexx, stu, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnMultiChoiceClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i, <span style="color:#66d9ef">boolean</span> b) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span>(b <span style="color:#f92672">==</span> <span style="color:#66d9ef">true</span>){
</span></span><span style="display:flex;"><span>                            map.<span style="color:#a6e22e">put</span>(i,i);
</span></span><span style="display:flex;"><span>                        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>                            map.<span style="color:#a6e22e">remove</span>(i);
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setPositiveButton</span>(<span style="color:#e6db74">&#34;确定&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">for</span> (Integer j : map.<span style="color:#a6e22e">keySet</span>()){
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">int</span> z <span style="color:#f92672">=</span> map.<span style="color:#a6e22e">get</span>(j);
</span></span><span style="display:flex;"><span>                            str <span style="color:#f92672">=</span> str <span style="color:#f92672">+</span> sexx<span style="color:#f92672">[</span>z<span style="color:#f92672">]</span>;
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                        textView.<span style="color:#a6e22e">setText</span>(str);
</span></span><span style="display:flex;"><span>                        str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>;
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">setNegativeButton</span>(<span style="color:#e6db74">&#34;取消&#34;</span>, <span style="color:#66d9ef">new</span> DialogInterface.<span style="color:#a6e22e">OnClickListener</span>() {
</span></span><span style="display:flex;"><span>                    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onClick</span>(DialogInterface dialogInterface, <span style="color:#66d9ef">int</span> i) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                });
</span></span><span style="display:flex;"><span>                builder.<span style="color:#a6e22e">show</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        });
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>19.Android系统中的ContextMenu(上下文菜单)类似于PC中的右键弹出菜单，当一个视图注册了上下文菜单时，长按该视图对象将出现一个提供相关功能的浮动菜单。上下文菜单可以被注册到任何视图对象中，最常见的是用于列表视图中，但上下文菜单不支持图标和快捷键。</p>
<p>选项菜单
当Activity在前台运行时，如果用户按下微信消息列表页面右上角加号键，此时就会在屏幕右上角弹出相应的选项菜单。但这个功能需要开发人员编程来实现，如果在开发应用程序时没有实现该功能，那么程序运行时按下手机的meun键是不会起作用的。</p>
<p>下拉菜单
严格来讲Spinner不算是一个菜单，但是其操作和表现形式具有菜单的行为。Spinner的有效使用可以提高用户的体验。当用户需要选择的时候，可以提供一个下拉列表将所有可选的项列出来，供用户选择。</p>
<p>21.Toast（提示）的使用，代码实现可参考实验报告或书本。</p>
<p>Toast.makeText(MultipleChoiceDialogBox.this,&ldquo;nihao&rdquo;,Toast.LENGTH_LONG).show();</p>
<p>22.Notification表示通知，是可以显示在Android系统通知栏上的一种数据的封装形，运用Notification可以提高应用的交互性，带来良好的用户感受。
关于Notification，主要涉及到Notification类与NotificationManager类的使用。
Notification类的实例表示在通知栏显示的一个通知，该通知内容包括该通知的ID、时间、内容、标题、图标等。
NotificationManager实例用来将该通知发送到系统的通知栏上。</p>
<p>23.本地服务（Local Service）用于应用程序内部，可以实现应用程序自己的一些耗时任务，比如查询升级信息、网络传输，或者在一些场合需要在后台执行，比如播放音乐，并不占用应用程序比如Activity所属的线程，而是单开线程后台执行，这样用户体验比较好。</p>
<p>Service的两种启动方式
(1)通过bindService绑定：
绑定时，bindService -&gt; onCreate() –&gt; onBind()；
解绑定：unbindService –&gt;onUnbind() –&gt; onDestory()；
此时如果调用者（如Activity）直接退出，Service 由于与调用者绑定在一起，则Service随着调用者一同停止。</p>
<p>（2）通过startService绑定：
启动时，startService –&gt; onCreate() –&gt; onStart()；
停止时，stopService –&gt; onDestroy()；
此时，服务与调用者（如Activity）没有绝对关联，当调用者关闭后服务还会一直在后台运行。
服务的生命周期</p>
<p>23.在Android里面有各式各样的广播，比如：电池的状态变化、信号的强弱状态、电话的接听和短信的接收等等，本节将会介绍系统发送、监听这些广播的机制。</p>
<p>两种广播注册方法的区别
第一种不是常驻型广播，也就是说广播跟随程序的生命周期
第二种是常驻型，也就是说当应用程序关闭后，如果有信息广播过来，程序广播接收器也会被系统调用自动运行</p>
<p>25.作为一个完整的应用程序，数据的存储与操作是必不可少的。Android系统为我们提供了四种数据存储方式，分别是：Shared Preference、SQLite、File和ContentProvider。
SharedPreference：一种常用的数据存储方式，其本质就是基于xml文件存储键值对（key-value）数据，通常用来存储一些简单的配置信息。</p>
<p>SQLite：一个轻量级的数据库，支持基本SQL语法，是Android系统中常被采用的一种数据存储方式。Android为此数据库提供了一个名为SQLiteDatabase的类，封装了一些操作数据库的API。
文件储存：即常说的文件（I/O）存储方法，常用于存储数量比较大的数据，但缺点是更新数据将是一件困难的事情。
ContentProvider：它是Android系统中能实现应用程序之间数据共享的一种存储方式。由于Android系统中，数据基本都是私有的，存放于“data/data/程序包名（package name）”目录下，所以要实现数据共享，正确方式是使用ContentProvider。由于数据通常在各应用间是私密的，所以此存储方式较少使用，但是其又是必不可少的一种存储方式。如果应用程序有数据需要共享时，就需要使用ContentProvider为这些数据定义一个URI（包装成Uri对象），然后其他的应用程序就通过ContentResolver传入这个URI来对数据进行操作。</p>
<p>26.SharedPreferences对象的常用方法有以下几种：</p>
<p>27.Sqlite数据库的使用涉及到两个类：SQLiteDataBase和SQLiteOpenHelper</p>
<p>SQLiteDatabase具体方法：</p>
<p>SQLiteOpenHelper 具体方法</p>
<p>例：要得到一个可写数据库，首先创建一个类继承 SQLiteOpenHelper，重写 onCreate()方法并在该方法中创建表，然后使用创建出的 SQLiteOpenHelper 的子类对象的 getWritableDatabase()方法获得一个可读写的数据库对象。</p>
<p>28.网络状态</p>
<p>29.JSON数据解析
是一种轻量级的数据交换格式，它基于纯文本，采用完全独立于语言的文本格式来存储和传输数据。在编程环境中解析JSON数据意味着将JSON字符串转换为程序可以理解并操作的数据结构
JSON Object：JSON中对象(Object)以“{”开始, 以“}”结束。对象中的每一个item都是一个键值对，表现为“key:value”的形式, 键值对之间使用逗号分隔。如下代码所示：
{
&ldquo;name&rdquo;：&ldquo;coolxing&rdquo;，
&ldquo;age&rdquo;：24，
&ldquo;male&rdquo;：true，
&ldquo;address&rdquo;：{
&ldquo;street&rdquo;:&ldquo;huiLongGuan&rdquo;，
&ldquo;city&rdquo;:&ldquo;beijing&rdquo;，
&ldquo;country&rdquo;:&ldquo;china&rdquo;
}
}</p>
<p>JSONArray: JSON数组(Array)以&quot;[&ldquo;开始, 以&rdquo;]&ldquo;结束, 数组中的每一个元素可以是String,Number, Boolean, null, Object对象甚至是Array数组, 数组间的元素使用逗号分隔,如下代码所示：
[
&ldquo;coolxing&rdquo;, 24，
{
&ldquo;street&rdquo;:&ldquo;huiLongGuan&rdquo;，
&ldquo;city&rdquo;:&ldquo;beijing&rdquo;，
&ldquo;country&rdquo;:&ldquo;china&rdquo;
}
]</p>
<p>30.Webview
WebView 加载页面主要调用三个方法：LoadUrl、LoadData、LoadDataWithBaseURL.
LoadUrl  直接加载网页、图片并显示。
LoadData 显示文字与图片内容。(模拟器1.5、1.6)。
LoadDataWithBase 显示文字与图片内容 (支持多个模拟器版本)。
使用webview的websetting来设置，WebSetting websetting = webView.getSettings().
Websetting常用方法：</p>
<p>31.进程是一个具有一定独立功能的程序关于某个数据集合的一次运行活动。它是操作系统动态执行的基本单元。
通俗地讲一个进程代表一个应用程序，该应用程序运行在自己的进程当中，使用系统为其分配的堆内存，不受其他应用程序或者是其他进程的影响，是独立运行的。当然一个进程中可以同时运行多个应用程序，这时堆内存是共享的。</p>
<p>Android系统为每个应用程序分配了一个进程，应用程序中组件（Activity，Service，BroadCast）的状态决定的一个进程的“重要性层次”，层次最低的属于旧进程。这个“重要性层次”有五个等级，也就是进程的生命周期，按最高层次到最低层次排列如下：
（1）前台进程
（2）可视进程
（3）服务进程
（4）背景进程
（5）空进程</p>
<p>一个Android应用只能存在一个进程，但是可以存在多个线程，也就是说，当应用启动后，系统分配了内存，这个进程的内存不被其他进程使用，但被进程中一个或多个线程共享。宏观地讲所有的进程是并发执行的，而进程中的多个线程同时执行但并不是并发的，系统的CPU会根据应用的线程数触发每个线程执行的时刻，当CPU时间轮到分配某个线程执行时刻时该线程开始执行，执行到下一个线程执行的时，依此轮询，直到线程执行结束。
在理解启动模式前，理解几个概念</p>
<ol>
<li>任务
用户尝试在您的应用中执行操作时与之互动的一系列 activity。这些 activity 按照每个 activity 的打开顺序排列在称为“返回堆栈”的堆栈中，也称为任务栈。</li>
<li>Activity：简单理解就是页面，下面介绍启动模式的时候我们都把它理解为“页面”；</li>
<li>Intent：教材一般叫意图，简单理解它就是带操作的信息，像指令一样，接收到Intent就类似接收到指令一样。</li>
<li>一个应用可以有多个任务栈，在考虑一个应用一个任务栈的情况下，两个页面如果在不同应用程序，那么在启动这两个页面的时候，他们会被压入各自的任务栈，所以两个不同应用程序的各自页面一般不会出现在同一个任务栈中；</li>
<li>onNewIntent() 方法的作用主要是允许已存在的 Activity 更新其状态以响应新的 Intent 数据。例如，在接收动态广播（如地理位置更新、消息通知等）或重新加载内容时，无需重启 Activity 就可以处理新的数据。开发者需要重写这个方法并在其中处理接收到的新 Intent 数据。</li>
</ol>
<p>四种启动模式：</p>
<p><strong>标准模式（standard）</strong></p>
<p>默认启动模式，如果任务栈中没有Activity则会实例化一个新的Activity，并将其压入当前任务栈的顶部。
如果同一个Activity已经存在栈顶，那么新的实例仍然会被创建并压入栈中，因此栈中可能包含多个该Activity实例。</p>
<p><strong>单例模式（singleTop）</strong></p>
<p>当一个新的Intent要启动已位于栈顶的Activity（与请求的Intent匹配的Activity）时，系统不会创建新的Activity实例，而是将intent通过onNewIntent()方法传递给现有的Activity实例；</p>
<ul>
<li>如果目标Activity不在栈顶，则会正常创建新的实例；</li>
<li>如果目标Activity不在栈顶而在栈顶的下一层呢？
比如现在有A-B-C-D,D在栈顶，如果传来的Intent是要打开页面C，在单例模式下也是正常创建；</li>
</ul>
<p>总结：</p>
<p>在单例模式下，</p>
<ul>
<li>如果页面不存在，也就是要打开的Activity没有在任务栈中实例化，那么正常创建Activity实例，并压入栈中；</li>
<li>如果Activity已经存在于任务栈中，且为栈顶，那么系统不创建新的Activity实例，而是将intent通过onNewIntent()方法传递给现有的Activity实例，</li>
<li>如果不是栈顶，正常创建Activity实例。</li>
</ul>
<p><strong>栈内复用模式（singleTask）</strong></p>
<p>当打开一个页面，也就是启动一个Activity时，系统首先会在整个任务栈中查找这个Activity是否已经在栈中，</p>
<ul>
<li>情况一：如果存在并且处于栈底，则直接把该Activity之上的所有Activity弹出栈，使这个Activity置于栈顶并调用其onNewIntent()。</li>
<li>情况二：如果在栈顶，则将intent通过onNewIntent()方法传递给现有的Activity实例</li>
</ul>
<p>如果不存在已有的Activity实例，才会创建新的实例并放入栈顶。这种模式下的Activity始终只有一个实例存在于任务栈中。</p>
<p><strong>单实例模式（singleInstance）</strong></p>
<p>当启动Activity时，系统会为它创建一个新的任务栈，然后在这个新的栈顶放上这个Activity的实例。
如果再次启动这个Activity，即使是在另一个任务栈中，系统也不会创建新实例，而是将意图传递给已经存在的Activity实例。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%AE%89%E5%8D%93/">安卓</a></li>
  </ul>
</div>
            </header>
<h1 id="androidstudio笔记">AndroidStudio笔记</h1>

<h2 id="第一章">第一章</h2>
<h3 id="配置开发环境">配置开发环境：</h3>
<ul>
<li>1.<strong>安装JDK</strong>
<a href="https://www.bilibili.com/video/BV1tE411V7xA/" target="_blank">&ldquo;安装连接&rdquo;</a></li>
<li>2.<strong>安装AndroidStudio</strong>
<a href="https://www.bilibili.com/video/BV11z4y1x7Dh/" target="_blank">&ldquo;安装连接&rdquo;</a></li>
<li>3.<strong>安装SDK</strong></li>
<li>4.<strong>AndroidStudio汉化</strong></li>
<li><a href="https://www.bilibili.com/video/BV1Hz4y1K7Tc/" target="_blank">https://www.bilibili.com/video/BV1Hz4y1K7Tc/</a></li>
</ul>
<h2 id="第二章">第二章</h2>
<p>Gradle():自动构建
日志输出工具：查看报错
Run（运行）</p>
<p>工程结构：
（清单文件）：对Activity，service，re广播等进行注册的文件
Java目录：
后缀为 <strong>.class</strong>
drawable目录：资源文件，放图片、图标、背景资源的文件
Layout目录：放页面布局文件
放图片和.xml文件，适配不同分辨率的文件夹
values目录：颜色、数组、字符串、样式</p>
<h2 id="android基本原理">Android基本原理</h2>
<h3 id="android体系结构">Android体系结构</h3>
<h3 id="android-用用程序核心组件">Android 用用程序核心组件</h3>
<h4 id="activity">Activity</h4>
<h2 id="第四章-activityfragment以及intent通信机制">第四章 Activity、Fragment以及Intent通信机制</h2>
<h3 id="activity生命周期">Activity生命周期</h3>
<p>四种状态的转换</p>
<p>布局的特点：</p>
<h2 id="第八章-数据存储和提供器">第八章 数据存储和提供器</h2>
<h3 id="sharedpreference">SharedPreference</h3>
<p>使用键值对关系来获取文件</p>
<h3 id="sqlite">SQLite</h3>
<p>轻量级占用内存小，支持基本的MySQL语言。
创建过程：</p>
<h3 id="contentpreference应用存储">ContentPreference（应用存储）</h3>
<p>通过暴露URL让软件之间可以共享文件
好比一般使用文件时，软件会要求需要访问你手机文件权限。</p>
<h3 id="文件存储">文件存储</h3>
<h2 id="网络通信编程">网络通信编程</h2>
<h3 id="网络访问方式">网络访问方式</h3>
<p>网络状态码，例如404表示什么？</p>
<h3 id="数据解析">数据解析</h3>
<p>1.JSON格式解析：
以类对象的方式进行相应，以数组的方式进行相应，也可以二者混合。</p>
<h3 id="网络状态">网络状态</h3>
<h3 id="javascript与java交互">JavaScript与Java交互</h3>
<p>webView的使用</p>
<p>在简单的使用webview过程中可能无法进入指定的网页，而且AndroidStudio模拟机上还会弹出如下错误：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span>    <span style="font-weight:bold">**Webpage not available**</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    The webpage at http://www.baidu.comi could not beloaded because:
</span></span><span style="display:flex;"><span>    net::ERR_CLEARTEXT_NOT_PERMITTED</span></span></code></pre></div><p>解决的办法：
请在<strong>AndroidManifest.xml</strong>文件下添加代码：

<div class="tab-panel" data-tab-group="a197d510d815adf6ee846670f4d227e8">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('a197d510d815adf6ee846670f4d227e8','添加代码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 添加代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.INTERNET&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.ACCESS_NETWORK_STATE&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;uses-permission</span> <span style="color:#a6e22e">android:name=</span><span style="color:#e6db74">&#34;android.permission.ACCESS_WIFI_STATE&#34;</span> <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<p>如果添加上面的还不可以，请在<strong>manifest</strong>中添加如下代码：</p>

<div class="tab-panel" data-tab-group="4b5d84da8b68c3967d48911473e60521">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('4b5d84da8b68c3967d48911473e60521','添加代码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 添加代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="添加代码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;manifest</span> <span style="color:#960050;background-color:#1e0010">...</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;application</span> 
</span></span><span style="display:flex;"><span>            <span style="color:#960050;background-color:#1e0010">...</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:usesCleartextTraffic=</span><span style="color:#e6db74">&#34;true&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>            ...
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/application&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/manifest&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
<p><a href="https://blog.csdn.net/zgd826237710/article/details/95520785/" target="_blank">&ldquo;原文章链接&rdquo;</a></p>
<p>getwebSetting</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b2-%E7%AC%94%E8%AE%B0%E5%A4%87%E5%BF%98%E5%BD%95/">B2-笔记备忘录</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
  </ul>
</div>
            </header>
<h1 id="2-1toolbar工具栏">2-1.Toolbar工具栏</h1>

<h2 id="toolbar是什么">Toolbar是什么？</h2>
<p>简单理解就是页面的上的菜单栏，或者叫工具栏，在<strong>AndroidStudio</strong>的页面布局中使用<strong>Toolbar</strong>，</p>
<h2 id="menu文件的创建">menu文件的创建</h2>
<p>在创建<strong>menu</strong>这个目录前，请看查看<strong>res/<strong>目录下是否包含该目录，如果没有则创建。
接着在该目录下创建</strong>xml</strong>文件，此处文件名为<strong>content_menu</strong>。在该<strong>content_menu</strong>使用<code>&lt;item</code>,如下为部分代码：

<div class="tab-panel" data-tab-group="137cf20e33e8d779bcc460f8b44698f1">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('137cf20e33e8d779bcc460f8b44698f1','简码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 简码</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('137cf20e33e8d779bcc460f8b44698f1','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_group_chat&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;发起群聊&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;menu</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_group_chat&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;发起群聊&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;1&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_friend&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;添加朋友&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;2&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_RichScan&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;扫一扫&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;3&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;item</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/content_menu_add_QRcode&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:title=</span><span style="color:#e6db74">&#34;扫码&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:orderInCategory=</span><span style="color:#e6db74">&#34;4&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/menu&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div>
在代码中<strong>orderInCategory</strong>属性是用来控制该<strong>item</strong>权重的，权重越小等级越高，该标题就会靠前显示，

<div class="box notices cstyle secondary">
  <div class="box-label"><i class="fa-fw fas fa-eye"></i> 结果</div>
  <div class="box-content">

<p><a href="#R-image-5daf0f7873d0fd540ad742ceb33cef5a" class="lightbox-link"><img src="./branch-bundle-1/androidstudio/toolbar/img1_item.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="figure-image        " style="height: 250px; width: 15vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5daf0f7873d0fd540ad742ceb33cef5a"><img src="./branch-bundle-1/androidstudio/toolbar/img1_item.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="lightbox-image        " loading="lazy"></a></p>
</div>
</div></p>
<h2 id="创建布局页面">创建布局页面</h2>
<p>详细代码如下：

<div class="tab-panel" data-tab-group="93819ff5d3649c827bc94b5c05f9df2c">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('93819ff5d3649c827bc94b5c05f9df2c','简码fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 简码</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('93819ff5d3649c827bc94b5c05f9df2c','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="简码fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;androidx.appcompat.widget.Toolbar</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/options_menu_toolbar&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;409dp&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;?attr/colorPrimary&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:minHeight=</span><span style="color:#e6db74">&#34;?attr/actionBarSize&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;?attr/actionBarTheme&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintLeft_toLeftOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintRight_toRightOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span> <span style="color:#f92672">/&gt;</span></span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;androidx.constraintlayout.widget.ConstraintLayout</span> <span style="color:#a6e22e">xmlns:android=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res/android&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:app=</span><span style="color:#e6db74">&#34;http://schemas.android.com/apk/res-auto&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">xmlns:tools=</span><span style="color:#e6db74">&#34;http://schemas.android.com/tools&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;match_parent&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;match_parent&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;androidx.appcompat.widget.Toolbar</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:id=</span><span style="color:#e6db74">&#34;@+id/options_menu_toolbar&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_width=</span><span style="color:#e6db74">&#34;409dp&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:layout_height=</span><span style="color:#e6db74">&#34;wrap_content&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:background=</span><span style="color:#e6db74">&#34;?attr/colorPrimary&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:minHeight=</span><span style="color:#e6db74">&#34;?attr/actionBarSize&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">android:theme=</span><span style="color:#e6db74">&#34;?attr/actionBarTheme&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintLeft_toLeftOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintRight_toRightOf=</span><span style="color:#e6db74">&#34;parent&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">app:layout_constraintTop_toTopOf=</span><span style="color:#e6db74">&#34;parent&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;</span></span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<h2 id="activityjava1文件中">Activity.java<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>文件中</h2>
<p>此处创建类的步骤，继承<code>AppCompatActivity</code>方法就不再赘述。</p>
<ol>
<li>在<code>onCreate</code>获取<strong>Toolbar</strong>的id，这个过程也叫实例化；</li>
<li>接着使用方法<code>setSupportActionBar</code>;</li>
<li>在onCreate外重写<code>onCreateOptionsMenu</code>和<code>onOptionsItemSelected</code>方法。</li>
</ol>

<div class="tab-panel" data-tab-group="19cfaaeba65aaece6da156a88f5bf26d">
  <div class="tab-nav">
    <div class="tab-nav-title">.java文件</div>
    <button
      data-tab-item="oncreatefa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('19cfaaeba65aaece6da156a88f5bf26d','oncreatefa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onCreate</span>
    </button>
    <button
      data-tab-item="oncreateoptionsmenufa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('19cfaaeba65aaece6da156a88f5bf26d','oncreateoptionsmenufa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onCreateOptionsMenu</span>
    </button>
    <button
      data-tab-item="onoptionsitemselectedfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('19cfaaeba65aaece6da156a88f5bf26d','onoptionsitemselectedfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> onOptionsItemSelected</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('19cfaaeba65aaece6da156a88f5bf26d','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="oncreatefa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">opetions_menu</span>);
</span></span><span style="display:flex;"><span>        toolbar <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">options_menu_toolbar</span>);
</span></span><span style="display:flex;"><span>        setSupportActionBar(toolbar);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="oncreateoptionsmenufa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onCreateOptionsMenu</span>(Menu menu) {
</span></span><span style="display:flex;"><span>        getMenuInflater().<span style="color:#a6e22e">inflate</span>(R.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">content_menu</span>,menu);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreateOptionsMenu</span>(menu);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="onoptionsitemselectedfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onOptionsItemSelected</span>(<span style="color:#a6e22e">@NonNull</span> MenuItem item) {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//获取menu目录中content_menu.xml文件里item的id</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> id <span style="color:#f92672">=</span> item.<span style="color:#a6e22e">getItemId</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//判断id是否被点击，被点击就执行相应的动作，比如页面跳转</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_add_friend</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(OpetionsMenu.<span style="color:#a6e22e">this</span>,ListDialogActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_group_chat</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>  <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onContextItemSelected</span>(item);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#f92672">package</span> com.example.practiceapplication;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.annotation.SuppressLint;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.content.Intent;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.os.Bundle;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.Menu;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> android.view.MenuItem;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.NonNull;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.annotation.Nullable;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.app.AppCompatActivity;
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> androidx.appcompat.widget.Toolbar;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OpetionsMenu</span> <span style="color:#66d9ef">extends</span> AppCompatActivity {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> Toolbar toolbar;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@SuppressLint</span>(<span style="color:#e6db74">&#34;MissingInflatedId&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span>(<span style="color:#a6e22e">@Nullable</span> Bundle savedInstanceState) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreate</span>(savedInstanceState);
</span></span><span style="display:flex;"><span>        setContentView(R.<span style="color:#a6e22e">layout</span>.<span style="color:#a6e22e">opetions_menu</span>);
</span></span><span style="display:flex;"><span>        toolbar <span style="color:#f92672">=</span> findViewById(R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">options_menu_toolbar</span>);
</span></span><span style="display:flex;"><span>        setSupportActionBar(toolbar);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onCreateOptionsMenu</span>(Menu menu) {
</span></span><span style="display:flex;"><span>        getMenuInflater().<span style="color:#a6e22e">inflate</span>(R.<span style="color:#a6e22e">menu</span>.<span style="color:#a6e22e">content_menu</span>,menu);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onCreateOptionsMenu</span>(menu);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onOptionsItemSelected</span>(<span style="color:#a6e22e">@NonNull</span> MenuItem item) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> id <span style="color:#f92672">=</span> item.<span style="color:#a6e22e">getItemId</span>();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_add_friend</span>){
</span></span><span style="display:flex;"><span>            Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent(OpetionsMenu.<span style="color:#a6e22e">this</span>,ListDialogActivity.<span style="color:#a6e22e">class</span>);
</span></span><span style="display:flex;"><span>            startActivity(intent);
</span></span><span style="display:flex;"><span>        }<span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(id <span style="color:#f92672">==</span> R.<span style="color:#a6e22e">id</span>.<span style="color:#a6e22e">content_menu_group_chat</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">return</span>  <span style="color:#66d9ef">super</span>.<span style="color:#a6e22e">onContextItemSelected</span>(item);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
  </div>
</div>
<h2 id="最终结果">最终结果</h2>

<div class="box notices cstyle secondary">
  <div class="box-label"><i class="fa-fw fas fa-eye"></i> 结果</div>
  <div class="box-content">

<p><a href="#R-image-051380a9b6a97735f62a611dea422f83" class="lightbox-link"><img src="./branch-bundle-1/androidstudio/toolbar/abc.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="figure-image        " style="height: 250px; width: 15vw;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-051380a9b6a97735f62a611dea422f83"><img src="./branch-bundle-1/androidstudio/toolbar/abc.jpg?classes=shadow,border&amp;height=250px&amp;width=15vw" alt="8899" class="lightbox-image        " loading="lazy"></a></p>
</div>
</div>

<div class="expand">
    <input type="checkbox" id="R-expand-74944792dae8938647d3839551bf37fa" aria-controls="R-expandcontent-74944792dae8938647d3839551bf37fa" >
    <label class="expand-label" for="R-expand-74944792dae8938647d3839551bf37fa" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-74944792dae8938647d3839551bf37fa" class="expand-content">
<p>
详细知识等我更新……</div>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Activity.java这个文件的一般就是我们所说的主程序，类似与C语言中的包含main入口的文件。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/a1-%E5%AE%89%E5%8D%93app/">A1-安卓APP</a></li>
    <li><a class="term-link" href="./categories/y1-%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1/">Y1-用户界面设计</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 30</div>
<h1 id="3stm32_rfid">3.STM32_RFID</h1>

<p>Lorem Ipsum.</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 40</div>
<h1 id="4esp8266_wifi">4.Esp8266_WiFi</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/">物联网通信技术-小知识</a><p>通信串口 参照上一节课 物联网是新一代信息技术领域的重要组成部分。其英文名称是“The Internet of things”，顾名思义，“物联网就是物物相连的互联网</p></li>
</ul>
<p><a href="#R-image-a21f2c63d22ca6c4c5963855163fcc3d" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/abc.jpg" alt="kjjd" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a21f2c63d22ca6c4c5963855163fcc3d"><img src="./branch-bundle-1/esp8266_wifi/abc.jpg" alt="kjjd" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">4.Esp8266_WiFi 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">物联网工程</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网通信技术-小知识">物联网通信技术-小知识</h1>

<h2 id="通信串口">通信串口</h2>
<p>参照上一节课</p>
<p>物联网是新一代信息技术领域的重要组成部分。其英文名称是“The Internet of things”，顾名思义，“物联网就是物物相连的互联网”。</p>
<p>这有两层意思：</p>
<p>第一，物联网的核心和基础仍然是互联网，是在互联网基础上的延伸和扩展的网络；
第二，其用户端延伸和扩展到了任何物品与物品之间，进行信息交换和通信。</p>
<ol>
<li>全面感知：全面感知就是通过各种类型的传感器实时感知被测物理对象的状态。</li>
<li>可靠传递：可靠传递就是通过各种网络与互联网的融合，将物体的信息实时准确地传递出去。</li>
<li>智能计算：智能处理就是利用云计算、模糊识别等各种智能计算技术，对海量的数据和信息分析和处理，以实现对物体智能化控制。</li>
</ol>
<h2 id="通信">通信</h2>
<h3 id="通信的目的">通信的目的</h3>
<p>传递消息中所包含的信息</p>
<ol>
<li>
<p>消息
是物质或精神状态的一种反映，例如语音、文字、音乐、数据、图片或活动图片等</p>
</li>
<li>
<p>信息
是消息的有效信息内容</p>
</li>
</ol>
<h3 id="通信系统的一般模型">通信系统的一般模型</h3>
<p>信息源、发送设备、信道、接收设备、受信者、噪声源。</p>
<ul>
<li>发送端：信息源、发送设备；</li>
<li>接收端：接收设备、受信源；</li>
</ul>
<h3 id="通信系统分类">通信系统分类</h3>
<p>根据按信道中传输的 <strong>信号分类</strong> ，通信系统分为 <strong>模拟通信系统</strong> 和 <strong>数字通信系统</strong> 。模拟通信系统传送的是模拟信号，这代表消息的信号参量取值是连续的。</p>
<p>调制是指把信号转换成适合在信道中传输的形式的一种方产。广义调制分为 <strong>基带调制</strong> 和 <strong>频带（载波）调制</strong></p>
<p>点对点之间的通信，按消息传送的方向，通信方式可分为 <strong>单工通信</strong> 、<strong>半双工通信及全双工通信</strong> 三种</p>
<h3 id="串行通信">串行通信</h3>
<p>将数字元码序列以串行方式一个元码接着一个元码的在一条信道上传输。</p>
<p>优点：只需一条通信信道，节省线路铺设费用；
缺点：速度慢，需要外加码组或字符同步措施。</p>
<p><a href="#R-image-80789738a7eafe2d4919e6cd7941c40e" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%871.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-80789738a7eafe2d4919e6cd7941c40e"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%871.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>随着技术的发展，以USB为代表的串行传输速度已经超过并行传输。</p>
<h3 id="并行通信">并行通信</h3>
<p>将代表信息的数字信号元码序列以组的方式在两条或者两条以上在并行信道上同时传输。</p>
<p><a href="#R-image-09a060b3024a7f1eee24dfdd79d32801" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%872.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-09a060b3024a7f1eee24dfdd79d32801"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%872.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>优点：节省传输时间，速度快，不需要字符同步措施；
缺点：需要n条数据线，成本高。</p>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<p>串行通信是指使用一条数据线,将数据一位一位地依次传输,每一位数据占据一个固定的时间长度</p>
<p>在进行串口通信时,两个串口设备间需要**发送端(TX)<strong>与</strong>接收端(RX)**交叉相连,并共用电源地(GND)。</p>
<ol>
<li>
<p><strong>串行通信的约定</strong>
串行通信中的这种约定包含两个方面，</p>
<ul>
<li>一方面是通信的速率要保持一致，</li>
<li>另一方面是字符的编码要一致。</li>
</ul>
</li>
<li>
<p><strong>波特率</strong>
通信速率是指单位时间内传输的信息量,可用比特率和波特率来表示。
<strong>比特率</strong> 是指每秒传输的二进制位数,用bps (bits)表示。
<strong>波特率</strong> 是指每秒传输的符号数,若每个符号所含的信息量为1比特,则波特率等于比特率。</p>
</li>
<li>
<p>串口工作原理</p>
</li>
</ol>
<p>在Arduino与其它器件通讯的过程中,数据传输实际上都是以数字信号(即电平高低变化)的形式进行的,串口通信也是如此.当使用Serial.print()函数输出数据时,Arduino的发送端会输出一连串的数字信号,称这些数字信号为数据帧.
例如,当时用Serial.print(&lsquo;A&rsquo;)语句发送数据时,实际发送的数据帧格式如下图所示:
<a href="#R-image-ce356df6934448e4f8b09426bccb2427" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8714.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ce356df6934448e4f8b09426bccb2427"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8714.png" alt=" " class="lightbox-image        " loading="lazy"></a>
Serial.begin()是Arduino开发平台串口初始化函数。
物联网设备跟云平台的通讯方法分为同步传输和异步传输</p>
<p>以光照度传感器为例，讲解串口通信模式。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> sensorPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> ledPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> lineFound <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(sensorPin, INPUT);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(ledPin, OUTPUT);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>lineFound <span style="color:#f92672">=</span> <span style="color:#a6e22e">digitalRead</span>(sensorPin);     
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(lineFound <span style="color:#f92672">==</span> HIGH) {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, HIGH);
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, LOW);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>流程如下：
<a href="#R-image-70ed7b6062267d928636221bd224f6fd" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8715.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-70ed7b6062267d928636221bd224f6fd"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8715.png" alt=" " class="lightbox-image        " loading="lazy"></a>
串口例程：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> analogInPin <span style="color:#f92672">=</span> A0; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>  sensorValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>     Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>,<span style="color:#ae81ff">8</span>N1);              
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>     sensorValue <span style="color:#f92672">=</span> <span style="color:#a6e22e">analogRead</span>(analogInPin);     
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">250</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>（1）串口通信模式有：1）波特率为115200 （2）校验方式为无校验 (3)数据位为8位、停止位为1位</p>
<p>（2）串口通信流程图
<a href="#R-image-a7c6a2e73fbd5937bf79f86685019787" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8716.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a7c6a2e73fbd5937bf79f86685019787"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8716.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="zigbee与ieee802154">ZigBee与IEEE802.15.4</h2>
<p>ZigBee网络中的每一个节点都有一个16bit网络地址和一个64bit IEEE扩展地址。</p>
<p>IEEE802.15.4定义了2450MHz、868MHz、915MHz三个频段。对于不同的国家和地区，为其提供的工作频率范围是不同的，其中2450MHz （2.4GHz）频段是全球统一无需申请的的ISM频段，提供 <strong>250kbps</strong> 的通信速率，并提供16个信道;868MHz频段是欧洲的ISM频段，提供1个速率为20kbps的信道，915MH频段是美国的ISM频段，提供10个速率为40kbps的信道。</p>
<p><a href="#R-image-80dd5b14e370a41200764bebf97c05cf" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%873.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-80dd5b14e370a41200764bebf97c05cf"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%873.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-e16f9fb2cbbb1185da9c92e6311049c2" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e16f9fb2cbbb1185da9c92e6311049c2"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>在ZigBee网络中存在三种节点类型：</p>
<ul>
<li>Coordinator(协调器)，</li>
<li>Router(路由器)</li>
<li>End-Device(终端设备)。</li>
</ul>
<p>ZigBee网络由一个Coordinator以及多个Router和多个End_Device组成。</p>
<p>ZigBee可采用 <strong>星状</strong> 、<strong>片状</strong> 和 <strong>网状</strong> 网络结构，由一个主节点管理若干子节点，最多一个主节点可管理254个子节点;同时主节点还可由上一层网络节点管理，最多可组成<strong>65000</strong>个节点的大网。</p>
<p>三种设备类型</p>
<p>三种节点类型及其案例</p>
<p>三种网络拓扑结构类型</p>
<p><a href="#R-image-479faa2ea760f36bbf8a063102d2b919" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-479faa2ea760f36bbf8a063102d2b919"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="星形拓扑">星形拓扑</h3>
<p>包含一个Co-ordinator（协调者） 节点和一系列的 End Device（终端）节点，每一个End Device 节点只能和 Co-ordinator 节点进行通讯。如果需要在两个 End Device 节点之间进行通讯必须通过Co-ordinator 节点进行信息的转发。</p>
<p><a href="#R-image-1e1e74080972a7df1ce193828d7aaaa3" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1e1e74080972a7df1ce193828d7aaaa3"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="树形网络">树形网络</h3>
<p>树形拓扑包括一个Co-ordinator（协调者）以及一系列的 Router（路由器） 和 End Device（终端）节点。Co-ordinator 连接一系列的 Router 和 End Device， 他的子节点的 Router也可以连接一系列的 Router 和End Device. 这样可以重复多个层级。
Co-ordinator 和 Router 节点可以包含自己的子节点。End Device 不能有自己的子节点。有同一个父节点的节点之间称为兄弟节点。</p>
<p><a href="#R-image-902f4be309c98bcf86c8659481b5331e" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-902f4be309c98bcf86c8659481b5331e"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="网型网络mesh拓扑">网型网络（Mesh拓扑）</h3>
<p>网形网络（Mesh拓扑） 包含一个Co-ordinator和一系列的Router 和End Device。这种网络拓扑形式和树形拓扑相同；请参考上面所提到的树形网络拓扑。但是，网状网络拓扑具有<strong>更加灵活的信息路由规则</strong>，在可能的情况下，路由节点之间可以直接的通讯。这种路由机制使得信息的通讯变得更有效率，而且意味这一旦一个路由路径出现了问题，信息可以自动的沿着其他的路由路径进行传输。</p>
<p><a href="#R-image-8faa6410c1298b12c2b28a5a50f8731d" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-8faa6410c1298b12c2b28a5a50f8731d"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="rfid射频识别技术">RFID射频识别技术</h2>
<p>RFID的定义：射频识别（Radio Frequency Identification，RFID）是一种 <strong>非接触式</strong> 的自动识别技术，它通过射频信号自动识别特定目标对象并读写相关数据，而无须识别系统与特定目标之间建立机械或光学接触。</p>
<ol>
<li>
<p>RFID系统通常由 <strong>电子标签</strong> 、<strong>读写器</strong> 和 <strong>计算机网路</strong> 三部分组成。</p>
</li>
<li>
<p>RFID系统中的读写器的 <strong>工作频率</strong> 决定了整个RFID系统的工作频率，功率大小决定了整个RFID系统的工作距离。</p>
</li>
<li>
<p>在RFID系统中常用的频段有4种：低频LF(125kHz)、高频HF(13.56MHz)、超高频UHF(850～910MHz)及微波(2.45GHz)</p>
</li>
<li>
<p>电子标签分为 <strong>无源标签(passive)</strong>、 <strong>半无源标签(semi-passive)</strong> 和 <strong>有源标签(active)三种类型</strong>。</p>
</li>
<li>
<p>RFID最基本的硬件体系结构由RFID电子标签、RFID读写器和计算机。</p>
</li>
</ol>
<p><a href="#R-image-cf5ec382cd5d1d0c0487292299c8ceac" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%879.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-cf5ec382cd5d1d0c0487292299c8ceac"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%879.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="rfid系统的工作原理">RFID系统的工作原理</h3>
<p>利用射频信号的空间耦合（电磁感应或电磁传播）传输特性，实现对静止的、移动的待识别物品的自动识别，如图所示：</p>
<p><a href="#R-image-f52e6f8e6e05f565b03ad47e94c41be5" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8710.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f52e6f8e6e05f565b03ad47e94c41be5"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8710.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol>
<li>RFID网络框架结构</li>
</ol>
<ul>
<li>通信串口组网、</li>
<li>读写器与计算机直接连接、</li>
<li>读写器通过中间件连入网络</li>
</ul>
<h3 id="rfid工作过程">RFID工作过程</h3>
<p>读写器向M1卡发一组固定频率的电磁波，卡片内有一个LC串联谐振电路，其频率与读写器发射的频率相同，在电磁波的激励下，LC谐振电路产生共振，从而使电容内有了电荷，在这个电容的另一端，接有一个单向导通的电子泵，将电容内的电荷送到另一个电容内储存，当所积累的电荷达到2v时，此电容可做为电源为其它电路提供工作电压，将卡内数据发射出去或接取读写器的数据。</p>
<p><a href="#R-image-fbeb8de3c36054808be00505b76e8402" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8711.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-fbeb8de3c36054808be00505b76e8402"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8711.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="蓝牙技术">蓝牙技术</h2>
<ol>
<li>蓝牙技术工作在2.4GHz频段，2.4GHz的ISM波段是一种短距离无线传输技术，供开源使用。</li>
</ol>
<p><a href="#R-image-177594dead44e5d01392b885fe2b8327" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8712.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-177594dead44e5d01392b885fe2b8327"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8712.png" alt=" " class="lightbox-image        " loading="lazy"></a>
2. 蓝牙使用<strong>跳频技术</strong>，将传输的数据分割成数据包，通过79个指定的蓝牙频道分别传输数据包。每个频道的频宽为1MHz，蓝牙4.0使用2MHz间距，可容纳40个频道。
3. 蓝牙采用<strong>高速跳频(Frequency Hopping)<strong>和</strong>时分多址(Time Division Multiple Access，TDMA)<strong>等先进技术，支持</strong>点对点</strong>及<strong>点对多点通信</strong>。其传输频段为全球公共通用的2.4 GHz频段，能提供1 Mb/s的传输速率和10 m的传输距离，并采用<strong>时分双工传输</strong>方案实现全双工传输。
4. 在一个微微网中，所有设备的级别是相同的，具有相同的权限。主设备单元负责提供<strong>时钟同步信号</strong>和<strong>跳频序列</strong>，从设备单元一般是<strong>受控同步</strong>的设备单元。</p>
<p>链路管理协议层利用状态机定义了设备的五中状态</p>
<ul>
<li>就绪</li>
<li>扫描</li>
<li>广播</li>
<li>发起</li>
<li>连接</li>
</ul>
<p><a href="#R-image-f82f9218fc8335bff7f78ef71ef75c65" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8713.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f82f9218fc8335bff7f78ef71ef75c65"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8713.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="wifi技术">WiFi技术</h2>
<ol>
<li>WiFi技术的基本概念
<strong>定义：</strong> 一种可以将个人计算机、手机设备等终端以无线方式互相连接的技术。</li>
<li>WiFi（wireless Fidelity），在无线局域网领域称为“无线相容性认证”，是一种无线网络通信的品牌，有Wi-Fi联盟所持有，目的是为了改善基于IEEE802.11b标准的无线网络产品之间的互通性。</li>
</ol>
<p><a href="#R-image-31b57504cd6a855e10d3732edb34b442" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8717.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-31b57504cd6a855e10d3732edb34b442"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8717.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>WiFi既是一种商业认证，也是一种无线联网技术；</li>
<li>WiFi技术的优点：可移动、实现简单、可靠性强、环保指数高；</li>
</ul>
<h3 id="无线局域网wireless-local-area-networkwlan">无线局域网（Wireless Local Area Network，WLAN）</h3>
<p><strong>无线局域网（WLAN）工作频段</strong></p>
<ul>
<li>按照国家的无线电管理部门规定，WLAN使用2.4GHz和5.8GHz两个频段。这两个频段属于特高频和微博范围，属于微波波段（波长小于一米）
<a href="#R-image-9a5447ebcc4407263f90ff4f0fa9babb" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8718.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-9a5447ebcc4407263f90ff4f0fa9babb"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8718.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
<li><strong>2.4GHz频段信道划分：</strong> <p id="my-target">可用的宽带为83.5MHz，划分13个信道，每个信道宽为22MHz，信道之间有间隔，间隔5MHz。2.4GHz频段信道划分如下图所示：</p>
<a href="#R-image-87c23dbda7d8ad35e89ea136b920d399" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8719.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-87c23dbda7d8ad35e89ea136b920d399"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8719.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
<li><strong>5.8GHz频段信道划分：</strong> 在中国大陆，IEEE802.11a使用的是5.98GHz频段，工作频率范围为5725-5875MHz。可用信道为5个，分别为149，153，,157，,161，165，每两个信道之间相差4，信道之间没有间隔。
<a href="#R-image-4aaa269047f4383a38827950cea62b70" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8720.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-4aaa269047f4383a38827950cea62b70"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8720.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<ol>
<li>无线局域网（WLAN）的架构</li>
</ol>
<ul>
<li>无线局域网参考模型与OSI七层参考模型如下图：</li>
<li>IEEE802标准遵循ISO/OSI 参考模型的原来规则确定最低两层——物理层与数据链路层的功能，以及与网络层的接口服务、网络互联等有关的高层功能。</li>
</ul>
<p><a href="#R-image-f5a629ee5d0c02774a81a1d3f0229818" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8721.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-f5a629ee5d0c02774a81a1d3f0229818"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8721.png" alt=" " class="lightbox-image        " loading="lazy"></a>
2. 无线局域网（WLAN）的重要协议</p>
<ul>
<li>IEEE最初制定的无线局域网标准主要用于解决 <strong>办公室局域网</strong> 和 <strong>校园网</strong> 中用户以及 <strong>终端的无线接入</strong> 问题，其业务主要限于数据存取，其速率最高只能达到2Mpbs。</li>
<li>由于它在速率和传输距离上都不能满足人们的需要，IEEE小组又相继推出了802.11b、802.11a、802.11g、802.11n、802.11ac等一系列标准。
<a href="#R-image-1c5d4b96f32267a72320c65b1d2c7861" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8722.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1c5d4b96f32267a72320c65b1d2c7861"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8722.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>(1) WLAN技术具有以下优势</p>
<ul>
<li>灵活性强，终端设备可以在WLAN网络的覆盖范围内任意放置和低速移动。</li>
<li>部署成本较低，省去了终端设备综合布线的费用。</li>
<li>扩展能力好，增加AP就可以增大容量和覆盖范围。</li>
<li>技术成熟，在国外已经得到广泛的应用。</li>
<li>采用了扩频技术和加密机制，具有较强的抗干扰性和网络保密性，安装简单。</li>
</ul>
<p>(2）帧的种类和用途如下:</p>
<ul>
<li>数据帧:用来传送数据，不含任何数据的空帧也属于数据帧。</li>
<li>控制帧:控制媒体存储的各种帧。</li>
<li>管理帧:与无线网络运作有关的帧，例如无线设备的连接，身份认证等等。</li>
</ul>
<h2 id="esp8266单片机">ESP8266单片机</h2>
<ul>
<li>ESP8266模块的开发语言C语言</li>
<li>ESP8266模块有1个模拟输入管脚</li>
</ul>
<h3 id="常用函数">常用函数</h3>
<ol>
<li>WiFi.begin(ssid,pass)：
<ul>
<li>ssid: 热点的名字</li>
<li>pass：热点的密码</li>
</ul>
</li>
<li>WiFi.mode()：设定wifi的操作模式，其参数值为: WIFl_AP,WIFl_STA,WIFI_AP_STA或者WIFI_OFF
<ul>
<li>WIFI_OFF:关闭WiFi</li>
<li>WIFI_STA:设置成Wi-Fi终端</li>
<li>WIFI_AP:设置成Wi-Fi网络接入点(基站，热点)</li>
<li>WIFI_AP_STA:-设置成Wi-Fi网络接入点以版终端</li>
</ul>
</li>
<li>WIFI.getMode():返回当前的WIFI模式，上述四种模式中的一种。</li>
<li>WIFI.softAP(ssid):创建一个无线局域网热点。这个热点允许其他设备（如手机、电脑等）通过Wi-Fi连接到ESP8266。参数 ssid 是要创建的Wi-Fi热点的名称，是一个字符串类型变量,最多31个字符。</li>
<li>WiFi.softAP(ssid,password,channel,hidden,max_connetion)：设置受密码保护的网络或配置其他网络参数，此功能的第一个参数是必须的，其余四个是可选的；
<ul>
<li>
<p><strong>password</strong> 带有密码的可选字符串。对于WPA2-PSK网络，其长度至少应为8个字符。如果未指定，则接入点将打开，任何人都可以连接（最多63个字符）</p>
</li>
<li>
<p><strong>channel（可选参数）</strong> ：指定SoftAP要使用的Wi-Fi信道。不同的国家和地区有不同的可用信道范围，<a href="#my-target">我国的信道范围规定</a>,选择一个相对空闲的信道有助于提高无线通信质量。</p>
</li>
<li>
<p><strong>hidden（可选参数）</strong> ：如果设为true，表示创建一个<strong>隐藏网络</strong>，即不广播其SSID，这样其他设备不能通过常规方式自动扫描到该热点。用户需要手动输入正确的SSID才能连接。</p>
</li>
<li>
<p><strong>max_connection（可选参数）</strong> ：定义允许同时连接到SoftAP的<strong>最大客户端数量</strong>。超出这个数目的设备将无法再加入此Wi-Fi网络。</p>
</li>
</ul>
</li>
<li><strong>softAPgetStationNum</strong>()：获取连接的soft-AP接口的站点数WiFi.
softAPdisconnect(wifioff)，功能会将当前配置的SSID和soft_AP的密码设置为空值，该参数wifioff是可选的，如果设置为true，将关闭soft-AP模式</li>
<li><strong>WiFi.softAPIP()</strong>: 返回访问点的网络接口的IP地址，返回值是IPAddress类型。</li>
<li><strong>WiFi.softAPmacAddress(mac):</strong> 函数接受一个参数mac，该参数是指向内存位置的指针（一个uint8_t大小为6个元素的数组），以保存mac地址。函数本身返回相同的指针值。</li>
</ol>
<h2 id="station模式">Station模式</h2>
<ul>
<li>首先<strong>AP</strong>发出信标(beacon)帧，意思就是我在这里，谁来连接我啊;</li>
<li><strong>移动工作站</strong> 也会发出探(probe)帧，意思是有谁我可以连接啊。这个是工作站主动发出来的，每隔一定时间发出一次。</li>
</ul>
<p>所以，根据这点，可以产生很多有价值的应用。比如你的带WiFi功能的手机，即使不连接wifi的情况下，只要打开WiFi功能，就可以被路由器截获这帧信息，路由器收集之后，你的信息就会被一个审计的东西发到服务器上，你手机号xxx上线时间xxx下线时间xxx都浏览了那些网页，WiFi建立连接过程都一目了然，你的位置也全都暴露了，这就叫WiFi探针。</p>
<p>具体流程如下所示:</p>
<ol>
<li>
<p>探测请求过程：
STA：设备 &mdash;&mdash;&mdash;&mdash;&gt;Probe Request(探测请求)&mdash;&gt; AP：热点</p>
</li>
<li>
<p>返回应答帧：
STA&lt;&mdash;&mdash;&mdash;&ndash; Probe Response &lt;&mdash;&mdash;&mdash;&ndash; AP，这个是由wifi（热点）返回的应答帧;</p>
<p>接下来是身份验证过程，可以使用诸如 WEP、WEP2、WPA 等加密方式应用到认证请求上;</p>
</li>
<li>
<p>身份验证过程：
STA &mdash;&mdash;&mdash;&mdash;&gt; Authentication Request &mdash;&mdash;&ndash;&gt;AP
认证请求中包含认证 Auth类型，Open System , Shared Key等信息，路由器返回认证结果;</p>
</li>
<li>
<p>连接请求
STA&lt;&mdash;&mdash;&mdash;&mdash; Authentication Response&lt;&mdash;&mdash;&mdash; AP连接请求;
STA&mdash;&mdash;&mdash;&mdash;&gt; Association Request &mdash;&mdash;&mdash;&mdash;&gt;AP请求与AP建立关联，从而可以进行数据交互;认证过连接请求OK返回。</p>
</li>
<li>
<p>数据传输
STA&lt;&mdash;&mdash;&mdash;&mdash;- Association Response&lt;&mdash;&mdash;&mdash;&ndash; AP</p>
</li>
</ol>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi. h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define ssid&#34;ESP8266&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define pssd&#34;123456789”
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> stassid<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;doit&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> stapssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;doit3305&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup eode here, to run once :
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);<span style="color:#75715e">//波特率设置为115200
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiPi.<span style="color:#a6e22e">mode</span>(WIFI_AP_STA);<span style="color:#75715e">//设置WIFI操作模式为WIFI_AP_STA,即接入点以及终端
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiPi.<span style="color:#a6e22e">disconnect</span>();<span style="color:#75715e">//
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    wiri.<span style="color:#a6e22e">begin</span>(stassid, stagssd);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(WiPi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span>L_COHIEECTED){
</span></span><span style="display:flex;"><span>        delay<span style="color:#f92672">=</span>(<span style="color:#ae81ff">500</span>) ;
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;&#34;</span>.<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    serial .<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;TIFI connect sucess&#34;</span>) ;
</span></span><span style="display:flex;"><span>    serial. <span style="color:#a6e22e">println</span>(WiPi.<span style="color:#a6e22e">localIP</span>());
</span></span><span style="display:flex;"><span>    WiPi.<span style="color:#a6e22e">softAP</span>(ssid,pssd);<span style="color:#75715e">//连接WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    IPAddress ip<span style="color:#f92672">=</span>wiPi.<span style="color:#a6e22e">softAPIP</span>();<span style="color:#75715e">//softAPIP()返回网络接口IP地址，返回值为IPAddress
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    serial . <span style="color:#a6e22e">println</span>(ip)<span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>    Serial . <span style="color:#a6e22e">println</span>(wiPi.<span style="color:#a6e22e">softAPmacAddress</span>().<span style="color:#a6e22e">c_str</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//put your main code here, to run repeatedly :
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Station conneted to soft-AP = %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>    ,WiPi.<span style="color:#a6e22e">softAPgetStationJlun</span>());<span style="color:#75715e">//softAPgetStationJlun获取soft-AP接口的站点数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    delay<span style="color:#f92672">=</span>(<span style="color:#ae81ff">5000</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="tcpip协议">TCP/IP协议</h2>
<p>TCP/IP不是指特定的某一个协议，而是一个协议族，包含众多的协议。</p>
<p>互联网通信的本质是数字通信，任何数字通信都离不开通信协议的制定，通信设备只有按照约定的、统一的方式去封装和解析信息，才能实现通信。互联网通信所要遵守的众多协议，被统称为<strong>TCP/IP</strong> .</p>
<h3 id="serverd的应用">Serverd的应用</h3>
<p>与之相关的函数：</p>
<ul>
<li>Server ：服务器是所有基于WIFI Server的基类，</li>
<li>Server()函数：创建一个服务器，以侦听指定端口上的连续；
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>  <span style="color:#a6e22e">Server</span>(port)
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">参数</span>port:<span style="color:#960050;background-color:#1e0010">侦听的端口（</span>int类型<span style="color:#960050;background-color:#1e0010">）；</span>
</span></span><span style="display:flex;"><span>  <span style="color:#960050;background-color:#1e0010">返回值：无</span></span></span></code></pre></div></li>
</ul>
<p>如下为一个Server应用的代码，代码实现了用开发板连接手机开的热点，然后在手机上输入串口监视器打印的IP，然后可以看见显示 &ldquo;analog input:2&rdquo; 的网页。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span><span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    cconst <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;LW&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ping123456&#34;</span>;
</span></span><span style="display:flex;"><span>    WiFiServer <span style="color:#a6e22e">server</span>(<span style="color:#ae81ff">80</span>);<span style="color:#75715e">//侦听端口，无返回值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;connetctint tu %s&#34;</span>,ssid);
</span></span><span style="display:flex;"><span>        WiFi.<span style="color:#a6e22e">begin</span>(ssid,pssd);  <span style="color:#75715e">//连接wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">while</span>(WiFi.<span style="color:#a6e22e">status</span>()<span style="color:#f92672">!=</span>WL_CONNECTED)   <span style="color:#75715e">//等待连接wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected&#34;</span>);
</span></span><span style="display:flex;"><span>        server.<span style="color:#a6e22e">begin</span>();      <span style="color:#75715e">//侦听服务器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;web server started,open %s in a web browser</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,WiFi.<span style="color:#a6e22e">localIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>());
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    String <span style="color:#a6e22e">prepareHtmlPage</span>()         <span style="color:#75715e">//返回网页浏览器
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        String htmlPage<span style="color:#f92672">=</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;HTTP/1.1 200 OK</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>)<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Contect-Type:text/html</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;Connerction:close</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>  <span style="color:#75715e">//连接关闭请求
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;Refersh:5</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>      <span style="color:#75715e">//5秒刷新一次网页
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;!DOCTYPE HTML&gt;&#34;</span> <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;html&gt;&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;analog input:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">String</span>(<span style="color:#a6e22e">analogRead</span>(A0))<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&lt;/html&gt;&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> htmlPage;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        WiFiClient client <span style="color:#f92672">=</span> server.<span style="color:#a6e22e">available</span>();     <span style="color:#75715e">//检测是否有客户端存在
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span>(client)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[Client connected]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span>(client.<span style="color:#a6e22e">connected</span>())       <span style="color:#75715e">//判断客户端是否连接成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                String line <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">readStringUntil</span>(<span style="color:#e6db74">&#39;\r&#39;</span>);    <span style="color:#75715e">//每行读取到r结束
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#75715e">//等待服务器的应答
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span>(line.<span style="color:#a6e22e">length</span>()<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span><span style="color:#f92672">&amp;&amp;</span>line[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;\n&#39;</span>)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    client.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">prepareHtmlPage</span>());
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="tcpclient函数">TCPClient函数</h3>
<ol>
<li>
<p>相关函数介绍</p>
<hr>
<pre><code> connect()描述：
 连接到构造函数中指定的IP地址和端口。返回值指示成功或失败。使用域名( ex:google.com）时，connect()还支持DNS查找。
 句法:
 - client.connect(ip,port)
 - client.connect(URL,port)参数
 ip: 客户端将连接的ip地址（4个字节的数组)
 URL: 客户端将连接到的域名（字符串，例如: &quot;arduino.cc&quot;）
 Port: 客户端将连接到的端口（ int）
 返回值：如果连接成功，则返回 true;
                 否则，返回false
</code></pre>
<hr>
<hr>
<pre><code> print()描述：
 将数据打印到客户端连接到服务器。将数字打印为数字序列，每个数字为一个ASCI字符句法:
 client.print(data)
 client.print(data,BASE)参数
 data:要打印的数据（char,byte,int,long或string）
 BASE（可选）:打印数字的基数:DEC代表十进制（基数10），
                             OCT代表八进制（基数8），
                             HEX代表十六进制（基数16&gt;
</code></pre>
<hr>
</li>
<li>
<p><strong>客户端访问服务器流程</strong></p>
</li>
</ol>
<ul>
<li>连接到Wi-Fi</li>
<li>选择服务器</li>
<li>实例化客户端WiFiClient client;</li>
<li>把客户端连接到服务器</li>
<li>请求数据</li>
<li>读取来自服务器的回复
实现代码如下：</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;LW&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> pssd <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ping123456&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> host <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;www.baidu.com&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;connecting to %s &#34;</span>,ssid);
</span></span><span style="display:flex;"><span>        WiFi.<span style="color:#a6e22e">begin</span>(ssid,pssd);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(WiFi.<span style="color:#a6e22e">status</span>()<span style="color:#f92672">!=</span>WL_CONNECTED)       <span style="color:#75715e">//等待WIFI连接成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">/*  String host=&#34;&#34;; 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        while(Serial.available()&gt;0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            host += (char)Serial.read();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">            delay(2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">        */</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//char host[30];
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//     for(int i=0;i&lt;30;i++)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//     {  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//          host[i]=&#39;\0&#39;;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      while(Serial.available()&gt;0)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//    {
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//        host += (char)Serial.read();
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//        delay(2)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      }
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//      
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        WiFiClient client;
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[connecting to %s ...&#34;</span>,host);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(client.<span style="color:#a6e22e">connect</span>(host,<span style="color:#ae81ff">80</span>))      <span style="color:#75715e">//连接服务器成功
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connected]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">//访问google.cn的报头，采用GET方式，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[Sending a request]&#34;</span>);
</span></span><span style="display:flex;"><span>            client.<span style="color:#a6e22e">println</span>(<span style="color:#a6e22e">String</span>(<span style="color:#e6db74">&#34;GET/&#34;</span>)<span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;HTTP/1.1</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;Host:&#34;</span><span style="color:#f92672">+</span>host<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;Connection: close</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>                            );
</span></span><span style="display:flex;"><span>                            
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;[Response:]&#34;</span>);
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">while</span>(client.<span style="color:#a6e22e">connected</span>()<span style="color:#f92672">||</span>client.<span style="color:#a6e22e">available</span>())       <span style="color:#75715e">//等待如果客户端已经连接，并且有数据到来
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span>(client.<span style="color:#a6e22e">available</span>())
</span></span><span style="display:flex;"><span>                    {
</span></span><span style="display:flex;"><span>                        String line <span style="color:#f92672">=</span> client.<span style="color:#a6e22e">readStringUntil</span>(<span style="color:#e6db74">&#39;\n&#39;</span>);    <span style="color:#75715e">//从缓存区读取服务器的数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                        Serial.<span style="color:#a6e22e">println</span>(line);
</span></span><span style="display:flex;"><span>                    }
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                client.<span style="color:#a6e22e">stop</span>();              <span style="color:#75715e">//停止客户端
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>                Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[Disconnected]&#34;</span>);       
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;connection failed !&#34;</span>);
</span></span><span style="display:flex;"><span>            client.<span style="color:#a6e22e">stop</span>();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">5000</span>);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h3 id="http协议简介">HTTP协议简介</h3>
<p>当使用浏览器(客户端)访问一个网页时,大致经过了以下三步:</p>
<ul>
<li>用户输入网址后,浏览器(客户端)会向服务器 <strong>发出HTTP请求</strong> ;</li>
<li>服务器收到请求后会返回HTML形式的文本以响应请求;</li>
<li>浏览器收到服务器返回的HTML文本后,将文本转换为网页显示出来。</li>
</ul>
<ol>
<li>
<p>HTTP请求
当客户端访问网页时,会先发起HTTP请求。HTTP请求由三部分组成,分别是 <strong>请求行</strong>、<strong>请求报头</strong> 和 <strong>请求正文</strong>。</p>
</li>
<li>
<p>HTTP响应
服务器在接收到HTTP请求消息后,会返回一个响应消息。HTTP响应也是由三个部分组成,分别是状态行、响应报头和响应正文。</p>
</li>
</ol>
<h2 id="udp协议">UDP协议</h2>
<p>用户数据报UDP有两个字段:数据字段和首部字段。首部字段很简单，只有8个字节(图5-5)，由四个字段组成，每个字段的长度都是两个字节。各字段意义如下:</p>
<p>(1)源端口
源端口号。在需要对方回信时选用。不需要时可用全0。
(2)目的端口
目的端口号。这在终点交付报文时必须使用。
(3）长度
UDP用户数据报的长度，其最小值是8（仅有首部)。
(4)检验和
检测UDP用户数据报在传输中是否有错。有错就丢弃。</p>
<p>程序流程：</p>
<ul>
<li>设置ESP8266工作在station模式（ WiFi.mode(WIFI_STA)) ;②将ESP8266接入到wIFI网络中WiFi.begin(SSID,PSSD);</li>
<li>实例化WiFiUDP对象指定端口，建立UDP连接，连接后自动开始侦听传入的数据包。
WiFiUDP Udp; Udp.begin(localUdpPort);</li>
<li>等待输入的UDP包处理收到的数据并回复。
<ul>
<li>Udp.parsePacket ( ) ;</li>
<li>Udp.read(incomingPacket,255);</li>
<li>Udp.beginPacket(Udp.remotelP(), Udp.remotePort());</li>
<li>Udp.write(replyPacket);</li>
<li>Udp.endPacket();</li>
</ul>
</li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    1、设置ESP8266工作在station模式（WiFi.mode(WIFI_STA)）;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    2、将ESP8266接入到WIFI网络中WiFi.begin(SSID,PSSD);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    3、实例化WiFiUDP对象指定端口，建立UDP连接，连接后自动开始侦听传入的数据包。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    WiFiUDP Udp; Udp.begin(localUdpPort);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    4、等待输入的UDP包处理收到的数据并回复。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.parsePacket（）;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.read(incomingPacket, 255);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.beginPacket(Udp.remoteIP(), Udp.remotePort());
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.write(replyPacket);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    Udp.endPacket(); 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">    */</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;WiFiUdp.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> ssid <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;iPhone&#34;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;peng2020&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    WiFiUDP Udp;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> localUdpPort <span style="color:#f92672">=</span> <span style="color:#ae81ff">4210</span>;  <span style="color:#75715e">// local port to listen on
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span> incomingPacket[<span style="color:#ae81ff">255</span>];  <span style="color:#75715e">// buffer for incoming packets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">char</span>  replyPacket[] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Hi there! Got the message :-)&#34;</span>;  <span style="color:#75715e">// a reply string to send back
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your setup code here, to run once:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Connecting to %s &#34;</span>, ssid);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">mode</span>(WIFI_STA);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">begin</span>(ssid, password);            <span style="color:#75715e">//开始连接WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (WiFi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span> WL_CONNECTED)    <span style="color:#75715e">//等待连接
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">500</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">print</span>(<span style="color:#e6db74">&#34;.&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34; connected&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Udp.<span style="color:#a6e22e">begin</span>(localUdpPort);      <span style="color:#75715e">//指定本地连接端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Now listening at IP %s, UDP port %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, WiFi.<span style="color:#a6e22e">localIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>(), localUdpPort);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// put your main code here, to run repeatedly:
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span> packetSize <span style="color:#f92672">=</span> Udp.<span style="color:#a6e22e">parsePacket</span>(); <span style="color:#75715e">//调用函数解析数据包
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (packetSize)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// receive incoming UDP packets
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;Received %d bytes from %s, port %d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, packetSize, Udp.<span style="color:#a6e22e">remoteIP</span>().<span style="color:#a6e22e">toString</span>().<span style="color:#a6e22e">c_str</span>(), Udp.<span style="color:#a6e22e">remotePort</span>());
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">int</span> len <span style="color:#f92672">=</span> Udp.<span style="color:#a6e22e">read</span>(incomingPacket, <span style="color:#ae81ff">255</span>);     <span style="color:#75715e">//从缓存区读取数据
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (len <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>        incomingPacket[len] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;    <span style="color:#75715e">//给缓存区加结束符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;UDP packet contents: %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, incomingPacket);   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// send back a reply, to the IP address and port we got the packet from
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Udp.<span style="color:#a6e22e">beginPacket</span>(Udp.<span style="color:#a6e22e">remoteIP</span>(), Udp.<span style="color:#a6e22e">remotePort</span>());     <span style="color:#75715e">//指定远程连接地址和端口号
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        Udp.<span style="color:#a6e22e">write</span>(replyPacket);
</span></span><span style="display:flex;"><span>        Udp.<span style="color:#a6e22e">endPacket</span>();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div><h2 id="http与mqtt协议对比">HTTP与MQTT协议对比</h2>
<p><a href="#R-image-883cf5c9fc0c638618ddb4394f9286f4" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8723.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-883cf5c9fc0c638618ddb4394f9286f4"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8723.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-616d575a243f408093726aaf63f4d363" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8724.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-616d575a243f408093726aaf63f4d363"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8724.png" alt=" " class="lightbox-image        " loading="lazy"></a>
不同于HTTP的标头采用文字描述，MQTT的标头探用数字编码，整个长度只占2位元组，等同两个字元，后面跟著讯息的主题(topic)和内容(payload)，实际格式如下:</p>
<p><a href="#R-image-5c46e36b0acc8b0cd7b70fa520b44b8e" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8725.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5c46e36b0acc8b0cd7b70fa520b44b8e"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8725.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-46aaa36f53bac709a3fb6b9f5ea0ce66" class="lightbox-link"><img src="%e5%9b%be%e7%89%8726.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-46aaa36f53bac709a3fb6b9f5ea0ce66"><img src="%e5%9b%be%e7%89%8726.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-17859ee44ac66275b9ce6774b800d39f" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8727.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-17859ee44ac66275b9ce6774b800d39f"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8727.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-7ff98b80d30ae917c6b2a8966317c968" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8728.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7ff98b80d30ae917c6b2a8966317c968"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8728.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>QoS(品质)设定
QoS代表发布者与代理人，或者代理人与订阅者之间的传输品质。MQTT定义了0,1和2三个层级的品质设定（实际支援情况依伺服器软体而定，Mosquitto伺服器全都支援)∶0:最多传送一次(at most once)
1:至少传送一次(at least once)2:确实传送一次(exactly once)
用寄信来比喻，QoS0就像寄平信，不保证讯息会送达。</p>
<p>阿里云平台
物联网云平台：接收设备上报的数据、向设备下发数据、对数据进行转发/分析/计算/显示、管理设备&hellip;
<a href="#R-image-aa3ecd86b276804833c3cbcd1c52eb9f" class="lightbox-link"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8729.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-aa3ecd86b276804833c3cbcd1c52eb9f"><img src="./branch-bundle-1/esp8266_wifi/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E6%8A%80%E6%9C%AF%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%8729.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;ESP8266WiFi.h&gt;//安装esp8266arduino开发环境</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">static</span> WiFiClient espClient;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;AliyunIoTSDK.h&gt;//引入阿里云 IoT SDK</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//需要安装crypto库、PubSubClient库
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//设置产品和设备的信息，从阿里云设备信息里查看
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define PRODUCT_KEY     &#34;k0mzriwvgtZ&#34;</span><span style="color:#75715e">//替换自己的PRODUCT_KEY
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define DEVICE_NAME     &#34;LED2&#34;</span><span style="color:#75715e">//替换自己的DEVICE_NAME
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define DEVICE_SECRET   &#34;674c24074d05a31a672094c0d23dc07c&#34;</span><span style="color:#75715e">//替换自己的DEVICE_SECRET
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define REGION_ID       &#34;cn-shanghai&#34;</span><span style="color:#75715e">//默认cn-shanghai
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define WIFI_SSID       &#34;LW&#34;</span><span style="color:#75715e">//替换自己的WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define WIFI_PASSWD     &#34;ping123456&#34;</span><span style="color:#75715e">//替换自己的WIFI
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#define PIN_LED   2      </span><span style="color:#75715e">//LED
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> lastMsMain <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//pinMode(LED_BUILTIN, OUTPUT);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// digitalWrite(LED_BUILTIN, HIGH);
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pinMode</span>(PIN_LED, OUTPUT);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, HIGH);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//连接到wifi
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">wifiInit</span>(WIFI_SSID, WIFI_PASSWD);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//初始化 iot，需传入 wifi 的 client，和设备产品信息
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">begin</span>(espClient, PRODUCT_KEY, DEVICE_NAME, DEVICE_SECRET, REGION_ID);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//绑定一个设备属性回调，当远程修改此属性，会触发LED函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">bindData</span>(<span style="color:#e6db74">&#34;LED2&#34;</span>, LED);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">loop</span>();<span style="color:#75715e">//必要函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">millis</span>() <span style="color:#f92672">-</span> lastMsMain <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">2000</span>)<span style="color:#75715e">//每2秒发送一次
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>        lastMsMain <span style="color:#f92672">=</span> <span style="color:#a6e22e">millis</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//发送LED状态到云平台（高电平：1；低电平：0）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        AliyunIoTSDK<span style="color:#f92672">::</span><span style="color:#a6e22e">send</span>(<span style="color:#e6db74">&#34;LED2PIN&#34;</span>, <span style="color:#a6e22e">digitalRead</span>(PIN_LED));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//wifi 连接
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">wifiInit</span>(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>ssid, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span> <span style="color:#f92672">*</span>passphrase)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">mode</span>(WIFI_STA);
</span></span><span style="display:flex;"><span>    WiFi.<span style="color:#a6e22e">begin</span>(ssid, passphrase);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (WiFi.<span style="color:#a6e22e">status</span>() <span style="color:#f92672">!=</span> WL_CONNECTED)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">1000</span>);
</span></span><span style="display:flex;"><span>        Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;WiFi not Connect&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;Connected to AP&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//灯的属性修改的回调函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">LED</span>(JsonVariant L)<span style="color:#75715e">//固定格式，修改参数l
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> LED <span style="color:#f92672">=</span> L[<span style="color:#e6db74">&#34;LED2&#34;</span>];<span style="color:#75715e">//参数l，与标识符一致
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (LED <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, HIGH);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span> 
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">digitalWrite</span>(PIN_LED, LOW);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    Serial.<span style="color:#a6e22e">printf</span>(<span style="color:#e6db74">&#34;收到的LED是：&#34;</span>); Serial.<span style="color:#a6e22e">println</span>(LED);
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div>
            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 50</div>
<h1 id="5cc2530_zigbee">5.CC2530_ZigBee</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/cc2530_zigbee/experiment2/">实验2 IO端口输出实验</a><p>实验2 IO端口输出实验 1、实验要求： 利用实验箱的基础板，实现八盏灯的点亮，下面是八盏灯的位置图： 在实际中我们可能没有实验箱，往往需要自己做一</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">5.CC2530_ZigBee 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%A1%AC%E4%BB%B6/">硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="实验2-io端口输出实验">实验2 IO端口输出实验</h1>

<h3 id="实验2-io端口输出实验">实验2 IO端口输出实验</h3>
<p><strong>1、实验要求：</strong>
利用实验箱的基础板，实现八盏灯的点亮，下面是八盏灯的位置图：
<a href="#R-image-c6b326db1085a11cd70ff97a427f6e49" class="lightbox-link"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/%E5%9F%BA%E7%A1%80%E6%9D%BF.JPG" alt="八盏灯" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-c6b326db1085a11cd70ff97a427f6e49"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/%E5%9F%BA%E7%A1%80%E6%9D%BF.JPG" alt="八盏灯" class="lightbox-image        " loading="lazy"></a>
在实际中我们可能没有实验箱，往往需要自己做一个八盏灯的板子，这个时候了解本次实验挤出实验板的八盏灯连接原理是很重要的，了解原理后你就可以自己做出自己的LED板子，并用<strong>cc2530</strong>控制它。</p>
<p><strong>2、LED灯驱动芯片</strong>
由于CC2530 单片机端口驱动能力有限，所以我们可以用<strong>ULN2003</strong>芯片做驱动，但使用uln2003需要使用到八个端口，为了不浪费端口，我们可以使用<strong>74HC595</strong>，该芯片只需要用到三个端口就可以控制八盏灯的亮灭，下面提供两块芯片的原理图：
<a href="#R-image-837dea4f38f77978f4382dc4ebb245fe" class="lightbox-link"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/%E5%8E%9F%E7%90%86%E5%9B%BE.JPG" alt="原理图" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-837dea4f38f77978f4382dc4ebb245fe"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/%E5%8E%9F%E7%90%86%E5%9B%BE.JPG" alt="原理图" class="lightbox-image        " loading="lazy"></a>
如果你想用<strong>ULN2003</strong>还请查看相关手册，此处对<strong>74HC595</strong>进行详细说明。
74HC595 是 8 位输出锁存移位寄存器，数据输入由三个引脚组合控制，分别是数据输入引脚 SER、数据输入控制引脚 SRCK 和数据输出锁存引脚 RCK
SER 引脚上的数据在 SRCK 引脚的上升沿信号保存到 QA 引脚，同时 QA 位上的数据移位到 QB位，QB 位的数据移位到 QC 位……，依次类推，所有数据向后串行移动一位，QH 位的数据被送到QH’位。所有位的数据在 RCK 引脚的上升沿信号被所存到输出端。
<a href="#R-image-2ef41e2962837af47b6bf6c1a5fed3bd" class="lightbox-link"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/74hc595.jpg" alt="74HC595" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2ef41e2962837af47b6bf6c1a5fed3bd"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/74hc595.jpg" alt="74HC595" class="lightbox-image        " loading="lazy"></a>
一下是我的个人理解：
这里我们用输入数据<strong>1001 0101</strong>，使第1、3、5、8盏灯亮（假设高电平有效）为例解释说明，首先，实际上数据输入74HC595是串行输入，所以可以数据输入时是在打开SER端口后，按照从高位到低位依次输入数据<strong>1001 0101</strong>，如上图的下面所示；接着打开SRCK，先把最高位1输入数据寄存器低位b0，接着输入次高位的0,通过0把1挤到b1，以此类推；接着再打开RCK显示灯的亮灭。</p>
<p><strong>3、IO端口输出控制</strong>
要使用CC2530的IO端口，我们需要对<strong>PxDIR</strong>、<strong>PxSEL</strong>、<strong>Px</strong>进行设置，PxDIR用来控制端口的输入输出模式，<strong>1</strong>表示<strong>输出模式</strong>，SEL为<strong>0</strong>时，表示<strong>通用IO端口</strong>，详细参照下表：
<a href="#R-image-6c292a34ae5dabb95df45c3725db6e14" class="lightbox-link"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/IO%E8%A1%A8.png" alt="IO" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6c292a34ae5dabb95df45c3725db6e14"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/IO%E8%A1%A8.png" alt="IO" class="lightbox-image        " loading="lazy"></a>
而这里的x可以取0、1、2，其实就是端口P0、P1、P2的意思,在端口下设8个端口0~7，例如P0_1,但是端口2只有0~4可用;</p>
<p>下面是一个详细的例子：
当I/OP1_0~P1_7 各I/O端口输出高低电平时，设置方法如表 1.2所示：
<a href="#R-image-a8ac9fc2c16102d5342d93f1321cfe09" class="lightbox-link"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/%E4%BE%8B%E5%AD%90.jpg" alt="例子" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a8ac9fc2c16102d5342d93f1321cfe09"><img src="./branch-bundle-1/cc2530_zigbee/experiment2/%E4%BE%8B%E5%AD%90.jpg" alt="例子" class="lightbox-image        " loading="lazy"></a></p>
<p>了解以上知识后我们就可以写工程代码了。</p>
<p>
<div class="tab-panel" data-tab-group="78060584b9b136763fd1646d751b31ff">
  <div class="tab-nav">
    <div class="tab-nav-title">.xml文件</div>
    <button
      data-tab-item="printfledhfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('78060584b9b136763fd1646d751b31ff','printfledhfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> PrintfLED.h</span>
    </button>
    <button
      data-tab-item="delayehfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('78060584b9b136763fd1646d751b31ff','delayehfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Delaye.h</span>
    </button>
    <button
      data-tab-item="initialhfa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;"
      onclick="switchTab('78060584b9b136763fd1646d751b31ff','initialhfa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> Initial.h</span>
    </button>
    <button
      data-tab-item="全码"
      class="tab-nav-button tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;"
      onclick="switchTab('78060584b9b136763fd1646d751b31ff','全码')"
    >
      <span class="tab-nav-text">全码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="printfledhfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#75715e">//led输出设置
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;PrintfLED.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define SER  P1_0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define SRCK P1_2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define RCK P1_1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define LOW 0
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define HIGE 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printfLED</span>(<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> data,<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> byte){
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span> LOW;
</span></span><span style="display:flex;"><span>        RCK <span style="color:#f92672">=</span> LOW;
</span></span><span style="display:flex;"><span>        P1 <span style="color:#f92672">=</span> byte;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//定义参考位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> getbit <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x80</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> i;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">1</span>;i<span style="color:#f92672">--</span>){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(data <span style="color:#f92672">&amp;</span> getbit){
</span></span><span style="display:flex;"><span>        SER<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>{
</span></span><span style="display:flex;"><span>        SER<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span> HIGE;
</span></span><span style="display:flex;"><span>        getbit <span style="color:#f92672">&gt;&gt;=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        SRCK <span style="color:#f92672">=</span>LOW;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        RCK <span style="color:#f92672">=</span> HIGE;  
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="delayehfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e"># include &#34;Delaye.h&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//延迟函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">delaye</span>()
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">int</span> i,j,k;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span>(j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;j<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">200</span>;j<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">for</span>(k<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;k<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">255</span>;k<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>                    ;
</span></span><span style="display:flex;"><span>        }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="initialhfa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Initial.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">//初始化函数
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">initial</span>(){
</span></span><span style="display:flex;"><span>    P1SEL <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x00</span>;
</span></span><span style="display:flex;"><span>    P1DIR <span style="color:#f92672">=</span> <span style="color:#ae81ff">0xFF</span>;
</span></span><span style="display:flex;"><span>    P1<span style="color:#f92672">=</span><span style="color:#ae81ff">0x00</span>;
</span></span><span style="display:flex;"><span>    }</span></span></code></pre></div></div>
    </div>
    <div
      data-tab-item="全码"
      class="tab-content tab-panel-style cstyle default" style="--VARIABLE-BOX-color: green ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;ioCC2530.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Initial.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Delaye.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;PrintfLED.h&#34;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">#define Byte5 0x80
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x01</span>,<span style="color:#ae81ff">0x02</span>,<span style="color:#ae81ff">0x04</span>,<span style="color:#ae81ff">0x08</span>,<span style="color:#ae81ff">0x10</span>,<span style="color:#ae81ff">0x20</span>,<span style="color:#ae81ff">0x40</span>,<span style="color:#ae81ff">0x80</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn1[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x01</span>,<span style="color:#ae81ff">0x03</span>,<span style="color:#ae81ff">0x07</span>,<span style="color:#ae81ff">0x0f</span>,<span style="color:#ae81ff">0x1f</span>,<span style="color:#ae81ff">0x3f</span>,<span style="color:#ae81ff">0x7f</span>,<span style="color:#ae81ff">0xff</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span> btn2[<span style="color:#ae81ff">8</span>]<span style="color:#f92672">=</span>{<span style="color:#ae81ff">0x81</span>,<span style="color:#ae81ff">0xc3</span>,<span style="color:#ae81ff">0xe7</span>,<span style="color:#ae81ff">0xff</span>,<span style="color:#ae81ff">0xe7</span>,<span style="color:#ae81ff">0xc3</span>,<span style="color:#ae81ff">0x81</span>,<span style="color:#ae81ff">0x00</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">void</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">initial</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> i;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (<span style="color:#ae81ff">1</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//1.发光二极管的循环点亮
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        { 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">printfLED</span>(<span style="color:#ae81ff">0x00</span>,Byte5);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">delayed</span>();
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//2.流水灯正向流动随后反向流动
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>        { 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn1[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        } 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">7</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span><span style="color:#f92672">&amp;</span> i<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">--</span>){ 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn1[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//3.流水灯两端逐步点亮，然后从中间向两边逐步熄灭  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">for</span>(i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">8</span>;i<span style="color:#f92672">++</span>){ 
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">printfLED</span>(btn2[i],Byte5);
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">delaye</span>();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div></div>
    </div>
  </div>
</div>
在使用时请建好一个外设文件专门放Initial.c、Initial.c、Delaye.c，然后在这些问阿金中引用与他们名字一样的.h文件，当然.h文件你自己也要先写好。

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/c1-cc2530/">C1-CC2530</a></li>
    <li><a class="term-link" href="./categories/d1-%E7%82%B9%E7%81%AF%E5%AE%9E%E9%AA%8C/">D1-点灯实验</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 60</div>
<h1 id="6arduino">6.Arduino</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">物联网控制-小知识</a><p>物联网的特点 物联网是互联网的拓展和延伸，物联网设备通常为带传感器的电子硬件，并与网络相连接。 物联网的应用层是核心。 物联网的作用 全面感知：全面</p></li>
</ul>
<p><a href="#R-image-5b3d614f0fbe87e8dd60549f2296ec78" class="lightbox-link"><img src="./branch-bundle-1/arduino/abc.jpg" alt="mmm" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5b3d614f0fbe87e8dd60549f2296ec78"><img src="./branch-bundle-1/arduino/abc.jpg" alt="mmm" class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">6.Arduino 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%89%A9%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B/">物联网工程</a></li>
  </ul>
</div>
            </header>
<h1 id="物联网控制-小知识">物联网控制-小知识</h1>

<h2 id="物联网的特点">物联网的特点</h2>
<ol>
<li>物联网是互联网的拓展和延伸，物联网设备通常为带传感器的电子硬件，并与网络相连接。</li>
<li>物联网的应用层是核心。</li>
</ol>
<h2 id="物联网的作用">物联网的作用</h2>
<ol>
<li>全面感知：全面感知就是通过各种类型的传感器实时感知被测物理对象的状态。</li>
<li>可靠传递：可靠传递就是通过各种网络与互联网的融合，将物体的信息实时准确地传递出去。</li>
<li>智能计算：智能处理就是利用云计算、模糊识别等各种智能计算技术，对海量的数据和信息分析和处理，以实现对物体智能化控制。</li>
</ol>
<h2 id="物联网体系架构">物联网体系架构</h2>
<p><a href="#R-image-33413765f5235cfa1f3c573989f6c196" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%871.png" alt="d" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-33413765f5235cfa1f3c573989f6c196"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%871.png" alt="d" class="lightbox-image        " loading="lazy"></a></p>
<p>ISO七层参考模型
以及每一层的功能。</p>
<p>物理层：在物理媒体上传输原始的数据比特流。
数据链路层：将数据分成一个个数据帧，以数据帧为单位传输。有应有答，遇错重发。
网络层：将数据分成一定长度的分组，将分组穿过通信子网，从信源选择路径后传到信宿。
传输层：提供不具体网络的高效、经济、透明的端到端数据传输服务。
会话层：进程间的对话也称为会话，会话层管理不同主机上各进程间的对话。
表示层： 为应用层进程提供格式化的表示和转换数据服务。
应用层：提供应用程序访问OSI环境的手段。
<a href="#R-image-93d55cc35b5a6a317580f2011961560f" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8718.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-93d55cc35b5a6a317580f2011961560f"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8718.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="物联网的三层结构">物联网的三层结构</h2>
<p><a href="#R-image-dc5c050fa54037d846976d2302c32233" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8713.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-dc5c050fa54037d846976d2302c32233"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8713.png" alt=" " class="lightbox-image        " loading="lazy"></a>
“云”、“管”、“端”分别指：应用层、网络层、感知层。
物联网服务器的主要功能接收数据、处理数据、保存数据。
物联网硬件设备有感知和反馈的作用</p>
<ol start="4">
<li>可用于物联网短距离无线通信的技术主要有：</li>
</ol>
<ul>
<li>Zigbee；</li>
<li>RFID；</li>
<li>NFC ;</li>
<li>蓝牙。</li>
</ul>
<ol start="5">
<li>物联网近距离通信技术有：</li>
</ol>
<ul>
<li>蓝牙、</li>
<li>RFID、</li>
<li>ZigBee</li>
</ul>
<ol start="6">
<li>
<p>工业物联网设备的组网方式可分为RS-232；RS-485；USB。</p>
<ol>
<li><strong>RS-232</strong>：</li>
</ol>
<ul>
<li>RS-232是一种早期广泛应用于串行通信的标准，提供点对点的数据传输，通常用于短距离通信（约15米以内）。</li>
<li>信号电平范围较大（±15V左右），支持全双工通信，即数据可以在两个方向上同时传输。</li>
<li>在工业环境中，RS-232常用于配置设备、调试或连接单个设备到计算机或其他控制器。</li>
</ul>
<ol start="2">
<li><strong>RS-485</strong>：</li>
</ol>
<ul>
<li>RS-485基于差分信号传输，允许更长的传输距离（可达几千米），并且具有更好的抗噪声和电磁干扰能力。</li>
<li>它支持多点总线式网络架构，可以实现一个主设备与多个从设备之间的通信，因此特别适用于构建分布式控制系统或传感器网络。</li>
<li>RS-485采用半双工通信模式，在同一时间只能进行发送或接收操作，但通过软件协议控制可以实现在同一总线上多个节点有序通信。</li>
</ul>
<ol start="3">
<li><strong>USB（Universal Serial Bus）</strong>：</li>
</ol>
<ul>
<li>USB是一种通用串行总线标准，它提供高速数据传输，并且能够为设备供电，使得它在现代工业自动化和物联网应用中越来越普遍。</li>
<li>USB支持热插拔，使用方便，而且有多种速度版本（如USB 2.0, USB 3.0等），数据传输速率远高于RS-232和RS-485。</li>
<li>在工业环境中，USB接口可能用于快速配置设备、固件升级或者连接各种智能设备，但它不适合长距离传输，一般局限于设备间较近距离的直接连接。</li>
</ul>
</li>
<li>
<p>物联网<strong>M2M通信</strong>指的是机器与机器通信</p>
</li>
<li>
<p>蓝牙采用<strong>高速跳频(Frequency Hopping)<strong>和</strong>时分多址(Time Division Multiple Access，TDMA)<strong>等先进技术，支持</strong>点对点</strong>及<strong>点对多点通信</strong>。其传输频段为全球公共通用的2.4 GHz频段，能提供1 Mb/s的传输速率和10 m的传输距离，并采用<strong>时分双工传输</strong>方案实现全双工传输。</p>
</li>
<li>
<p>Android客户端在物联网体系中属于应用程序层。</p>
</li>
<li>
<p>人工智能属于物联网体系中的服务层。</p>
</li>
<li>
<p><strong>NFC</strong> 是一种非接触式的识别技术。</p>
</li>
</ol>
<h2 id="开关量与传感器">开关量与传感器</h2>
<ol>
<li>
<p><strong>开关量与数字信号</strong>
数字信号指的是0和1两种信号的变化。传感器可以只使用0和1来表示自己的状态变化，也就是“有信号”和“没信号”两种情况，类似我们生活中的开关装置。</p>
</li>
<li>
<p><strong>模拟信号抗噪算法</strong></p>
<p>2.1 <strong>算术平均算法</strong></p>
<p><strong>方法</strong>: 采样N个数据后进行平均</p>
<p><strong>优点</strong>: 算法简单、适合于一般带有不规则噪声的信号</p>
<p><strong>缺点</strong>: 用来运算的数值会越来越多，相对反应会越慢，不适用于实时性的控制，另外占用内存也多</p>
<p>2.2 <strong>移动平均算法</strong></p>
<p><strong>方法</strong>: 先将每一个新数据加入队列中并删除最后一个，再进行平均</p>
<p><strong>优点</strong>:算法简单、适用于有周期性干扰噪声的信号</p>
<p><strong>缺点</strong>:对于突然出现的异常脉冲信号的抑制较差，采样的数量过大时同样占用内存。</p>
</li>
<li>
<p>模数转换
把传感器获取的测量值用连续的电子信号表示出来，就是模拟信号。想用PC处理模拟信号，就需要进行模拟/数字(A/D）转换，把模拟信号转换成离散值，即数字信号。A/D转换操作分成以下3个步骤。</p>
</li>
</ol>
<ul>
<li>采样(sampling) =&gt;用某个频率来区分模拟输入信号，获取值</li>
<li>量化=&gt;把采样后的值近似表现为离散值</li>
<li>编码(coding)=&gt;把量化后的数值编码成二进制代码。如下图</li>
</ul>
<p><a href="#R-image-34ecb5b31b6cb751233a1c3a79f42dab" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/12.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-34ecb5b31b6cb751233a1c3a79f42dab"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/12.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="传感器知识点">传感器知识点</h2>
<p>在物联网节点之间做通信的时候，通信频率越高，意味着传输距离越近。</p>
<h3 id="传感器的性能指标">传感器的性能指标：</h3>
<ol>
<li>
<p>传感器动态特性：指传感器在输入变化时，它的输出特性，常以迁跃响应和频率响应来表示。</p>
</li>
<li>
<p>传感器的线性度：传感器的实际静态特性输出是条曲线而非直线。</p>
</li>
<li>
<p>传感器的灵敏度：传感器在静态工作情况下，输出变量变化y对输入变化量x的比值。</p>
</li>
<li>
<p>传感器的分辨率：指传感器能感受到的被测量的最小变化的能力，也就是说某一输入量缓慢变化，当输入未超过某一值时，输出不变，超过了就有变化，则可以说此时传感器能分辨出来，这就是传感器的分辨率。</p>
</li>
</ol>
<h3 id="传感器的组成与结构">传感器的组成与结构</h3>
<p>传感器一般由敏感元件、转换元件、基本转换电路组成。
<a href="#R-image-30427d38177ec4437049fd55583bcf19" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%872.png" alt="d" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-30427d38177ec4437049fd55583bcf19"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%872.png" alt="d" class="lightbox-image        " loading="lazy"></a></p>
<ul>
<li>敏感元件：直接感受被测量，并且输出与被测量成一定关系的某一物理量的元件；</li>
<li>转换元件：敏感元件的输出就是它的输入，把输入转换成电路参量；</li>
<li>转换电路：将转换电路的输出转换成电量输出；</li>
</ul>
<h3 id="传感器的静态特性">传感器的静态特性</h3>
<p>静态特性是指测试系统在静态信号下，输入与输出的关系；
衡量测试装置静态特性的重要指标：</p>
<ul>
<li>线性度(Linearity)</li>
<li>灵敏度(Sensitivity)</li>
<li>迟  滞(Hysteresis)</li>
<li>重复性(Repeatability)</li>
</ul>
<h3 id="常见的传感器">常见的传感器</h3>
<h4 id="光电式传感器光敏电阻传感器">光电式传感器（光敏电阻传感器）</h4>
<p>如果把光敏电阻连接到外电路中，在外电压的作用下，用光照射就能改变电路中电流的大小。
如下图为工作原理图
<a href="#R-image-028d26d6c1d34103530d10c1df18304b" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%873.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-028d26d6c1d34103530d10c1df18304b"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%873.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h4 id="光敏电阻的重要参数与基本特性">光敏电阻的重要参数与基本特性</h4>
<p><strong>暗电流、暗电阻与亮电流、亮电阻：</strong></p>
<p>光敏电阻在未受到光照时的电阻和流过的电流分别称之为暗电阻和暗电流，有光照时则对应称之为亮电流、亮电阻；</p>
<p><strong>光电流</strong>
亮电流与暗电流的差值；</p>
<h4 id="结露传感器">结露传感器</h4>
<ol>
<li>
<p>理想的干燥空气：78%氮气+21%氧气+1%其他气体</p>
</li>
<li>
<p>多尔顿分压定律：空气的压强P应该等于该混合物中各种气体分压之和,公示如下：
<a href="#R-image-d29ae2daffc1d26da95fe15f8beda932" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%874.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d29ae2daffc1d26da95fe15f8beda932"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%874.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
</li>
<li>
<p>什么是湿度？
空气中所含的水蒸气的量</p>
</li>
<li>
<p>湿度的表示方法：</p>
</li>
</ol>
<ul>
<li>绝对温度</li>
<li>相对温度</li>
<li>露点温度</li>
</ul>
<ol>
<li><strong>露点温度</strong>(露点)：在一定的空气压力下，逐渐降低空气的温度，当空气中所含水蒸气达到饱和状态，而开始结露或结霜时的温度。</li>
</ol>
<h4 id="震动传感器">震动传感器：</h4>
<p>震动三要素：振幅、频率、相位
以简谐运动为例：
x=A cos(wt+y)</p>
<h4 id="红外对管红外传感器">红外对管（红外传感器）</h4>
<p>红外对管中，黑色管子是红外发射传感器。</p>
<h4 id="智慧大棚中的常用传感器">智慧大棚中的常用传感器：</h4>
<p>（1）空气温湿度传感器
（2）光照传感器
（3）土壤湿度传感器
（4）风速传感器
（5）二氧化碳传感器
<a href="#R-image-7e85fd5aac4ac05fd0aa12aa29d0ad0a" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8719.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-7e85fd5aac4ac05fd0aa12aa29d0ad0a"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8719.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>数据分析的基础架构</p>
<p>首先把数据分析的基础架构分为 4 项来看，这 4 项分别是采集、积累、加工、分析。
<a href="#R-image-5889c871e906fe68678fc7c5de7ead16" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8720.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5889c871e906fe68678fc7c5de7ead16"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8720.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-d276af1894b6c81d257417a0aa5f2cdb" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8721.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d276af1894b6c81d257417a0aa5f2cdb"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8721.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-2bbef97d07fb2ad1895684e287248276" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8722.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2bbef97d07fb2ad1895684e287248276"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8722.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol>
<li>高级分析的基础</li>
</ol>
<p>机器学习可以说是高级分析的典型代表。机器学习领域汇集了众多技术，这些技术用于让计算机基于大量数据来学习数据的倾向并作出某些判断。机器学习的算法可以根据输入的数据类型分为“监督学习”和“非监督学习”两种。</p>
<p>监督学习和非监督学习</p>
<ul>
<li>监督学习：当用机器学习的算法让计算机学习数据倾向时，算法会根据用于学习的数据中是否含有“正确答案”的数据而有所不同。
打个比方，假设现在要从传感器数据来判断分析设备的故障情况和建筑物的损坏情况等异常状况。如果采用监督学习的算法，就需要输入过去实际发生异常状况时的数据，即需要明确地输入“异常”的数据。说白了，算法要学习“正确答案”和“不正确答案”之间存在的差异。</li>
<li>非监督学习：监督学习则处理的是未标记的数据集，即数据集中没有预先定义的输出变量或目标变量。
非监督学习的目标在于发现数据内部的隐藏结构、模式、相似性或关联性，而不是预测特定的结果。非监督学习的主要主要任务有以下几种：
<a href="#R-image-acba48042efe546f33cc27b4f3809cc0" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8723.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-acba48042efe546f33cc27b4f3809cc0"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8723.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<h2 id="android-ide-介绍">Android IDE 介绍</h2>
<hr>
<ul>
<li>
<p>Android客户端在物联网体系中属于 <strong>应用程序层</strong> 。</p>
</li>
<li>
<p>Arduino是2005年被设计开发出来的，开发平台的特点有：
<strong>开放性、混合编程、容易拓展</strong>。</p>
</li>
<li>
<p><strong>Arduino开发环境</strong>是免费和开源的，开发语言为C/C++混合编程。</p>
</li>
<li>
<p>Arduino中下载程序到单片机需要先安装<strong>串口转USB的驱动程序。</strong></p>
</li>
</ul>
<hr>
<h3 id="arduino程序的架构大体可分为3个部分">Arduino程序的架构大体可分为3个部分</h3>
<p>（1）声明变量及接口的名称。</p>
<p>（2） <strong>setup</strong>()。
在Arduino程序运行时首先要调用setup()函数，用于初始化变量、设置针脚的输出/输入类型、配置串口、引入类库文件等等。每次Arduino上电或重启后，setup()<strong>函数只运行一次。</strong></p>
<p>（3） <strong>loop</strong>()。
在setup()函数中初始化和定义变量，然后执行loop()函数。顾名思义，该函数在程序运行过程中不断地循环，根据反馈，相应地改变执行情况。通过该函数动态控制Arduino主控板。</p>
<h3 id="arduino-ide编程并下载程序流程">Arduino IDE编程并下载程序流程</h3>
<p>在Arduino IDE编程并下载程序到开发板的过程，实际上是编译器将程序翻译为
机器语言（即二进制语言）的过程。计算机将二进制的指令传送到单片机程序闪存中，单片机识别指令后进行工作。下图是从编写好的程序到Arduno开发板运行程序的流程
<a href="#R-image-1e6ada76ca8b251ad77136b477e67071" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8711.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-1e6ada76ca8b251ad77136b477e67071"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8711.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="arduino开发中">Arduino开发中</h3>
<hr>
<ol>
<li>数字管脚读取函数 <strong>digitalRead（）</strong> ；</li>
<li>模拟管脚读取函数 <strong>analogRead（）</strong> ；</li>
<li>串口调试函数为 <strong>Serial.println()</strong>，用于在串口打印内容</li>
<li><strong>延时函数——Delay()</strong> 延时的基本单位为ms,Delay(200)为延时200ms</li>
</ol>
<hr>
<p>Arduino UNO开发板提供6个模拟接口，模拟信号分辨率为10位（意味着ADC可以将输入的模拟电压分成2^10 = 1024个离散级别进行数字化），它能测到的最小电压为 <strong>5V/1024=0.0049V</strong> 。
<a href="#R-image-486edea2ba229ba18c03dd6472de84fc" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8712.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-486edea2ba229ba18c03dd6472de84fc"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8712.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h4 id="arduino的物理管脚有analogdigitalvccgndvinres等">Arduino的物理管脚有Analog、Digital、VCC、GND、VIN、RES等</h4>
<ol>
<li>
<p><strong>Analog（模拟）管脚</strong>：</p>
<ul>
<li>Arduino Uno等开发板上有一组特定的引脚标记为A0、A1、A2&hellip;A5（或更多，取决于具体型号），它们是模拟输入引脚。</li>
<li>这些引脚可以接收连续变化的电压值（通常在0到5V之间），并将其转换成数字值（0-1023，对应于ADC即模数转换器的分辨率是10位）。</li>
<li>通过这些引脚，你可以读取来自传感器或其他模拟信号源的数据。</li>
</ul>
</li>
<li>
<p><strong>Digital（数字）管脚</strong>：</p>
<ul>
<li>数字管脚用于处理二进制信号，也就是高电平（通常对应5V或3.3V，取决于板子类型和所处的操作模式）和低电平（接地，即0V）。</li>
<li>它们既可以作为输入端口检测外部设备的高低电平状态，也可以作为输出端口驱动LED、继电器或其他数字器件。</li>
<li>部分数字管脚还支持PWM（脉宽调制）输出，这样就可以模拟出不同亮度级别的LED或者调整电机速度等。</li>
</ul>
</li>
<li>
<p><strong>VCC</strong>：</p>
<ul>
<li>VCC代表“电源正极”。</li>
</ul>
</li>
<li>
<p><strong>GND</strong>：</p>
<ul>
<li>GND代表“接地”。</li>
</ul>
</li>
<li>
<p><strong>VIN</strong>：</p>
<ul>
<li>VIN是外部电源输入端，允许用户接入高于5V的电源（比如9V或12V电池）。这个引脚的电压将被板载稳压器转换成稳定的5V供给VCC使用。当Arduino通过USB线供电时，VIN不是必需的，但如果需要更高功率或独立电源，则可以使用此引脚。</li>
</ul>
</li>
<li>
<p><strong>RES / RESET</strong>：</p>
<ul>
<li>RES或RESET是复位引脚，当此引脚被拉低（一般是短接到GND）时，Arduino板上的微控制器会执行复位操作，重启其程序执行从头开始。在一些情况下，可以通过外部电路控制复位信号来实现更高级的功能，例如硬复位或远程复位。</li>
</ul>
</li>
</ol>
<h4 id="soc系统芯片处理器的功能强于mcu处理器的功能">Soc（系统芯片）处理器的功能强于MCU处理器的功能</h4>
<p>SOC（System-on-a-Chip）处理器相较于MCU（Microcontroller Unit）处理器功能更强大的原因主要体现在以下几个方面：</p>
<ol>
<li>
<p><strong>集成度</strong>：</p>
<ul>
<li>SOC芯片高度集成了中央处理器（CPU）、图形处理器（GPU）、内存（RAM、ROM/Flash）、以及其他专用硬件加速器如DSP（数字信号处理器）、通信模块（如Wi-Fi、蓝牙、LTE等）、以及各种外设接口，形成一个一体化的复杂系统。而MCU虽然也在单一芯片上集成了CPU和一些内存资源及I/O接口，但集成度一般低于SOC。</li>
</ul>
</li>
<li>
<p><strong>性能与计算能力</strong>：</p>
<ul>
<li>SOC通常采用高性能的CPU内核架构，可以支持多核设计，运行速度更快，并且可能支持运行复杂的操作系统（如Linux、Android等），能够处理更多的并发任务和执行更为复杂的算法。</li>
<li>MCU往往采用针对低功耗和实时控制优化的精简指令集CPU，更适合于简单、快速响应的任务。</li>
</ul>
</li>
<li>
<p><strong>存储容量和扩展性</strong>：</p>
<ul>
<li>SOC具有更大的内存空间，包括程序存储器和数据存储器，支持更大数据量的处理和存储需求，同时也可以通过外部总线连接更多存储设备。</li>
<li>相比之下，MCU的内部存储器相对有限，虽然也能扩展外部存储，但在规模上通常不及SOC。</li>
</ul>
</li>
<li>
<p><strong>多媒体与通信能力</strong>：</p>
<ul>
<li>SOC普遍具备强大的多媒体处理能力，例如图像处理、音频编解码、视频编码等，还集成有高级网络和无线通信功能，以适应移动设备和物联网应用的需求。</li>
<li>MCU在这些方面的集成程度和性能则较低，除非专门设计用于某些特定领域，否则它们通常不包含这些复杂的功能模块。</li>
</ul>
</li>
<li>
<p><strong>能耗与散热管理</strong>：</p>
<ul>
<li>虽然SOC功能强大，但也面临着更高的能耗和散热挑战。不过，现代的SOC设计采用了先进的电源管理和低功耗技术来平衡性能与能效之间的关系。</li>
<li>MCU在设计之初就重点考虑了低功耗应用，适合电池供电或对能源敏感的应用场景。</li>
</ul>
</li>
</ol>
<h2 id="上课实验知识点">上课实验知识点</h2>
<h3 id="温湿度传感器">温湿度传感器</h3>
<p>温湿度传感器采用的是 <strong>单总线协议</strong> 。</p>
<ol>
<li>单总线传送数据定义以AM2302为例。</li>
</ol>
<p>SDA用于微处理器与AM2302之间的通讯和同步,采用单总线数据格式，一次传送40位数据，高位先出。</p>
<p><a href="#R-image-feb727a20056864d2015fcdcccda9557" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%875.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-feb727a20056864d2015fcdcccda9557"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%875.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<ol start="2">
<li>通信格式</li>
</ol>
<p><a href="#R-image-0fa7a6b4b0261ef47a9ee1ab2ad9de3c" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%876.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0fa7a6b4b0261ef47a9ee1ab2ad9de3c"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%876.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<p>AM2302的湿度分辨率是16bit，高位在前。</p>
<ol start="3">
<li>主机和传感器之间可以通过如下几个步骤完成数据读取。</li>
</ol>
<p><strong>步骤一</strong>
传感器上电后 ，测试环境温湿度数据，并记录数据，此后传感器自动转入<strong>休眠状态</strong>。</p>
<p><strong>步骤二</strong>
微处理器的I/O设置为输出，同时输出低电平，且低电平保持时间不能<strong>小于80ous</strong>，典型值是<strong>拉低1Ms</strong>，然后微处理器的I/O设置为输入状态，释放总线，由于上拉电阻，微处理器的I/O如AM2302的SDA数据线也随之变高，等主机释放总线后，AM2302发送响应信号，即输出80us的低电平作为应答信号，紧接着输出80us的高电平通知外设准备接收数据，信号传输如图7所示
<a href="#R-image-0631585a2f4c7c9fdccd0c2ff47bec24" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%878.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0631585a2f4c7c9fdccd0c2ff47bec24"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%878.png" alt=" " class="lightbox-image        " loading="lazy"></a>
<strong>步骤三</strong>
AM2302发送完响应后，随后由数据总线SDA连续串行输出40位数据，微处理器根据l/o电平的变化接收40位数据。</p>
<ul>
<li>位数据“o”的格式为:50微秒的低电平加26-28微秒的高电平;</li>
<li>位数据“1”的格式为: 50微秒的低电平加70微秒的高电平;</li>
<li>位数据“o”、位数据“1”格式信号如图8所示。
<a href="#R-image-3c13c8cc8ef06e9d62eb280a16088b36" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%879.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3c13c8cc8ef06e9d62eb280a16088b36"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%879.png" alt=" " class="lightbox-image        " loading="lazy"></a></li>
</ul>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>    <span style="color:#75715e">// REQUEST SAMPLE（发送请求，此阶段为激活温湿度传感器）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">pinMode</span>(DHT_PIN, OUTPUT);<span style="color:#75715e">//4号引脚设置输出模式，默认高电平输出
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(DHT_PIN, LOW);<span style="color:#75715e">//设置低电平输出，并延迟18ms
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">18</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">digitalWrite</span>(DHT_PIN, HIGH);<span style="color:#75715e">//设置高电平，并延迟40us
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">delayMicroseconds</span>(<span style="color:#ae81ff">40</span>);
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">//第二阶段：通知开发板，自己准备发数据。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">pinMode</span>(DHT_PIN, INPUT);<span style="color:#75715e">//设置输入模式
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ACKNOWLEDGE or TIMEOUT（确认或超时）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">int</span> count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;<span style="color:#75715e">//定义无符号整形
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> LOW)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;<span style="color:#75715e">//返回DHT_ERR_TIMEOUT = -1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> HIGH)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// READ OUTPUT - 40 BITS =&gt; 5 BYTES or TIMEOUT（读取输出- 40比特=&gt; 5字节或超时）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>; i<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">40</span>; i<span style="color:#f92672">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> LOW)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">long</span> t <span style="color:#f92672">=</span> <span style="color:#a6e22e">micros</span>();   <span style="color:#75715e">//函数返回Arduino板开始运行当前程序时的微秒（us）数。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span>(<span style="color:#a6e22e">digitalRead</span>(DHT_PIN) <span style="color:#f92672">==</span> HIGH)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (count<span style="color:#f92672">--</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> DHT_ERR_TIMEOUT;
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//  |=:按位或后赋值
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> ((<span style="color:#a6e22e">micros</span>() <span style="color:#f92672">-</span> t) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">40</span>) bits[idx] <span style="color:#f92672">|=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">&lt;&lt;</span> cnt);  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//上次读取的时间到现在读取的时间差大于40，那么bits[idx]  
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//的1左移CNT位，假设传的第一个数据是1，即(micros() - t)&gt;40，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//那么把1左移cnt位后赋值给数组bits[]（刚开始的时候cnt=0,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#75715e">//也就是1左移0位）
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (cnt <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)   <span style="color:#75715e">// 高8位数据传完了没有呢？
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        {
</span></span><span style="display:flex;"><span>        cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span>;    <span style="color:#75715e">// 传完了，那让cnt=7，即进行下一轮低八位的传输，
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        idx<span style="color:#f92672">++</span>;      <span style="color:#75715e">// 数组加1，说明下一次存的数据放在了数组的下一位
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> cnt<span style="color:#f92672">--</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    sum <span style="color:#f92672">=</span> bits[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">+</span>bits[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span>(bits[<span style="color:#ae81ff">4</span>] <span style="color:#f92672">!=</span> sum) <span style="color:#66d9ef">return</span> DHT_ERR_CHECK;  <span style="color:#75715e">//校验位
</span></span></span></code></pre></div><h3 id="单总线读写流程">单总线读写流程</h3>
<ul>
<li>初始化</li>
<li>发命令</li>
<li>读取湿度和温度
流程图如下：</li>
</ul>
<p><a href="#R-image-e5790c5803a8d5b476da9be111849b81" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8710.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e5790c5803a8d5b476da9be111849b81"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8710.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h2 id="系统设计">系统设计</h2>
<h3 id="物联网系统的开发流程">物联网系统的开发流程：</h3>
<p>（1）系统规划阶段
（2）验证假设阶段
（3）系统开发阶段
（4）系统交付阶段
（5）维护应用阶段</p>
<p><a href="#R-image-380a813ea63f4f1551e081fb86114d6a" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8717.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-380a813ea63f4f1551e081fb86114d6a"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8717.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>
<h3 id="需求分析">需求分析</h3>
<p>首要步骤是获取用户需求。</p>
<h3 id="物联网详细设计">物联网详细设计</h3>
<p>有代码编写、流程图绘制、 软件测试等。</p>
<h3 id="物联网设备选型的主要流程">物联网设备选型的主要流程：</h3>
<pre><code>（1）处理器选型，选择合适的单片机或开发板。
（2）传感器选型，选择合适的数字或模拟传感器。
（3）中间件选型，选择合适的网络通信方式。
</code></pre>
<h3 id="物联网系统测试的主要流程">物联网系统测试的主要流程：</h3>
<pre><code>（1）进行软件测试，分静态测试和动态测试。
静态测试和动态测试是软件测试中的两种主要类型，它们在软件开发生命周期的不同阶段用来验证软件的质量和正确性。
（2）进行硬件测试和网络测试。
（3）进行系统集成测试。
</code></pre>
<p><strong>静态测试</strong>：
静态测试是指不执行程序代码的情况下进行的测试活动。它主要用于检查软件的非执行属性，主要包括：</p>
<ul>
<li>
<p><strong>文档审查</strong>：检查需求规格说明书、设计文档、用户手册等非代码类文档是否清晰、完整、一致以及符合标准。</p>
</li>
<li>
<p><strong>代码审查</strong>（包括桌面检查、走查和正式审查）：通过人工或自动化工具对源代码进行逐行分析，查找可能存在的错误、缺陷、不符合编码规范的地方，以及潜在的设计问题和结构弱点。</p>
</li>
<li>
<p><strong>静态分析</strong>：利用静态分析工具自动检测代码中的潜在错误，如未初始化的变量、死代码、数据流错误、复杂度过高函数等问题。</p>
</li>
</ul>
<p>静态测试的目标在于发现并修复在软件开发早期就能确定的问题，以减少后期动态测试时发现严重错误的可能性。</p>
<p><strong>动态测试</strong>：
动态测试则是在实际运行软件的过程中进行的测试，重点在于检查程序的实际执行效果，主要包括：</p>
<ul>
<li>
<p><strong>单元测试</strong>：针对单个模块或函数进行测试，确保其内部逻辑功能正常。</p>
</li>
<li>
<p><strong>集成测试</strong>：将各个模块组合在一起测试，验证接口间的交互及整体功能。</p>
</li>
<li>
<p><strong>系统测试</strong>：验证整个系统的功能、性能、安全性等方面是否满足预定要求。</p>
</li>
<li>
<p><strong>验收测试</strong>（包括用户验收测试）：根据业务需求验证软件能否在真实环境中正确工作。</p>
</li>
<li>
<p><strong>压力测试</strong>、<strong>负载测试</strong>和<strong>性能测试</strong>：检验软件在极限条件下的表现，例如处理大量并发请求的能力。</p>
</li>
</ul>
<p>动态测试通常使用黑盒测试、白盒测试和灰盒测试策略来构造测试用例，并通过实际运行程序得到结果与预期结果对比，从而发现并报告错误。</p>
<p>总之，静态测试关注的是不运行程序就可识别的问题，而动态测试则侧重于在实际运行条件下暴露软件行为中的缺陷。两者结合能够更全面地保证软件质量。</p>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<h2 id="串口通信">串口通信</h2>
<p><strong>标准 , ASCI码使用7bit数据来表示所有的大写和小写字母、数字0到9、标点符号,以及在美式英语中使用的特殊控制字符。</strong></p>
<p>串行通信是指使用一条数据线,将数据一位一位地依次传输,每一位数据占据一个固定的时间长度</p>
<p>在进行串口通信时,两个串口设备间需要**发送端(TX)<strong>与</strong>接收端(RX)**交叉相连,并共用电源地(GND)。</p>
<ol>
<li>
<p><strong>串行通信的约定</strong>
串行通信中的这种约定包含两个方面，</p>
<ul>
<li>一方面是通信的速率要保持一致，</li>
<li>另一方面是字符的编码要一致。</li>
</ul>
</li>
<li>
<p><strong>波特率</strong>
通信速率是指单位时间内传输的信息量,可用比特率和波特率来表示。
<strong>比特率</strong> 是指每秒传输的二进制位数,用bps (bits)表示。
<strong>波特率</strong> 是指每秒传输的符号数,若每个符号所含的信息量为1比特,则波特率等于比特率。</p>
</li>
<li>
<p>串口工作原理</p>
</li>
</ol>
<p>在Arduino与其它器件通讯的过程中,数据传输实际上都是以数字信号(即电平高低变化)的形式进行的,串口通信也是如此.当使用Serial.print()函数输出数据时,Arduino的发送端会输出一连串的数字信号,称这些数字信号为数据帧.
例如,当时用Serial.print(&lsquo;A&rsquo;)语句发送数据时,实际发送的数据帧格式如下图所示:
<a href="#R-image-ad473e0ba48a96a7ea3218280f8ca6aa" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8714.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ad473e0ba48a96a7ea3218280f8ca6aa"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8714.png" alt=" " class="lightbox-image        " loading="lazy"></a>
Serial.begin()是Arduino开发平台串口初始化函数。
物联网设备跟云平台的通讯方法分为同步传输和异步传输</p>
<p>以光照度传感器为例，讲解串口通信模式。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> sensorPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> ledPin <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> lineFound <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>() {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(sensorPin, INPUT);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">pinMode</span>(ledPin, OUTPUT);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>() {
</span></span><span style="display:flex;"><span>lineFound <span style="color:#f92672">=</span> <span style="color:#a6e22e">digitalRead</span>(sensorPin);     
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span>(lineFound <span style="color:#f92672">==</span> HIGH) {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, HIGH);
</span></span><span style="display:flex;"><span>} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>Serial.<span style="color:#a6e22e">println</span>(<span style="color:#e6db74">&#34;    &#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">digitalWrite</span>(ledPin, LOW);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">10</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>流程如下：
<a href="#R-image-d3fa7ec5e9fa375d9c172cedcf5e70cf" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8715.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d3fa7ec5e9fa375d9c172cedcf5e70cf"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8715.png" alt=" " class="lightbox-image        " loading="lazy"></a>
串口例程：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> analogInPin <span style="color:#f92672">=</span> A0; 
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span>  sensorValue <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setup</span>(){
</span></span><span style="display:flex;"><span>     Serial.<span style="color:#a6e22e">begin</span>(<span style="color:#ae81ff">115200</span>,<span style="color:#ae81ff">8</span>N1);              
</span></span><span style="display:flex;"><span> }
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loop</span>(){
</span></span><span style="display:flex;"><span>     sensorValue <span style="color:#f92672">=</span> <span style="color:#a6e22e">analogRead</span>(analogInPin);     
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">delay</span>(<span style="color:#ae81ff">250</span>);
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div><p>（1）串口通信模式有：1）波特率为115200 （2）校验方式为无校验 (3)数据位为8位、停止位为1位
（2）串口通信流程图
<a href="#R-image-67c48a9a21df25e50596e0987385b97a" class="lightbox-link"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8716.png" alt=" " class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-67c48a9a21df25e50596e0987385b97a"><img src="./branch-bundle-1/arduino/21%E7%BA%A7%E7%89%A9%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/%E5%9B%BE%E7%89%8716.png" alt=" " class="lightbox-image        " loading="lazy"></a></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 70</div>
<h1 id="7物联网工程">7.物联网工程</h1>


<ul class="children children-li children-sort-">
	
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 80</div>
<h1 id="51单片机">51单片机</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/51%E5%8D%95%E7%89%87%E6%9C%BA/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</a><p>不知道keil5从哪个版本开始就不支持了晶振的设置操作，我在网上搜也得到不同的答案，所以从哪个版本开始限制这就不提了， 好在这样的改变并不会形</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">51单片机 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E4%BB%A3%E7%A0%81%E7%83%A7%E5%BD%95/">代码烧录</a></li>
  </ul>
</div>
            </header>
<h1 id="pretueskiel5仿真软件配合使用时需要注意的地方">pretues&#43;kiel5仿真软件配合使用时需要注意的地方</h1>

<p>不知道keil5从哪个版本开始就不支持了晶振的设置操作，我在网上搜也得到不同的答案，所以从哪个版本开始限制这就不提了，
好在这样的改变并不会形象我们使用keil5。最近在刚进阶学习stm32，用到了<a href="./layout/variables">pretues_8.11</a> 仿真软
件和<a href="./layout/variables">keil5</a>代码编辑器，自己把心中所得分享一下。</p>
<p><strong>别人编译编译成功的工程，我另外用<a href="./layout/variables">keil5</a>打开编译为什么会失败？</strong></p>
<p>假设你拿到的别人的工程所选芯片为<a href="./layout/variables">stm32f103VC</a>，那么你在另外的电脑打开<a href="./layout/variables">keil5</a>，在设置里选芯片也是<a href="./layout/variables">stm32f103VC</a>，如果选的芯片与工程最初选的型号不同，那编译可能会失败，接着在打勾生成.hex文件。</p>
<p><strong>pretues里没有找到<a href="./layout/variables">keil5</a>里选择的芯片，能用别的芯片代替吗？</strong></p>
<p>答案是可以的，但尽量使用版本更高的芯片，使之能向下兼容，在<a href="./layout/variables">keil5</a>如果选了<a href="./layout/variables">stm32f103VC</a>，而pretues仿真的芯片是<a href="./layout/variables">stm32f103C6</a>，那么你并不用担心芯片不对应而导致你仿真失败。</p>
<p><strong>在pretues导入.hex文件后直接开始仿真，为什么报了许多错误？</strong></p>
<p>可能原因：在选择好<a href="./layout/variables">.hex</a>文件后，还必须设置晶振频率，即12MHz，如果没置会导致仿真失败，另外你不用担心选择的.hex文件路径有中文，我测过即使导入文件路径有中文也可以正常运行。</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/51%E5%8D%95%E7%89%87%E6%9C%BA/">51单片机</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 90</div>
<h1 id="操作系统">操作系统</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">Linux期末复习</a><p>认识Linux 安装Linux 图形界面与命令行 文件管理与常用命令 文件/目录的打包和压缩 gzip压缩文件和gunzip、zcat压缩文件命令 一般</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">操作系统 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
    <li><a class="term-link" href="./tags/%E7%A1%AC%E4%BB%B6/">硬件</a></li>
  </ul>
</div>
            </header>
<h1 id="linux期末复习">Linux期末复习</h1>

<h2 id="认识linux">认识Linux</h2>
<h3 id="安装linux">安装Linux</h3>
<h3 id="图形界面与命令行">图形界面与命令行</h3>
<h2 id="文件管理与常用命令">文件管理与常用命令</h2>
<h3 id="文件目录的打包和压缩">文件/目录的打包和压缩</h3>
<h4 id="gzip压缩文件和gunzipzcat压缩文件命令">gzip压缩文件和gunzip、zcat压缩文件命令</h4>
<p>一般压缩解压文件：

<div class="tab-panel" data-tab-group="b98457d8c388ecda0219e8f70e8804e9">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('b98457d8c388ecda0219e8f70e8804e9','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> gzip [文件名]
 gunzip [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div>
例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# gzip hello.txt
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt.gz
    [root@localhost stdio]# gunzip hello.txt.gz 
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# </code></pre></div><p>如果不想删除源文件要怎么做呢？使用如下命令：

<div class="tab-panel" data-tab-group="fe1dd8e4dc1fe87b0a95e9999f6f8a6b">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: red ;" tabindex="-1"
      onclick="switchTab('fe1dd8e4dc1fe87b0a95e9999f6f8a6b','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: red ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> gzip -c [文件名] &gt; [压缩文件名.gz]
 zcat [解压文件名.gz] &gt;[压缩文件名.gz]</code></pre></div></div>
    </div>
  </div>
</div>
例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt
    [root@localhost stdio]# gzip -c hello.txt &gt;hello.txt.gz
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt  hello.txt.gz
    [root@localhost stdio]# zcat  hello.txt.gz &gt;he.txt
    [root@localhost stdio]# ls
    1.c  2.c  3.c  hello.txt  hello.txt.gz  he.txt
[root@localhost stdio]# </code></pre></div><p>在上面的命令中，<strong>zcat [解压文件名.gz] &gt;[压缩文件名.gz]</strong> 与 <strong>gunzip -c [解压文件名.gz] &gt;[压缩文件名.gz]</strong> 作用一样，另外，zcat [文件名]会将文件压缩信息输出在窗口上，即输出在 <strong>std</strong>。</p>
<h4 id="bzip2压缩文件和bunzip2压缩文件命令">bzip2压缩文件和bunzip2压缩文件命令</h4>
<p>一般压缩解压文件：

<div class="tab-panel" data-tab-group="2aacd4fefc307579e76a48e1cce47362">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('2aacd4fefc307579e76a48e1cce47362','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    bzip2 [文件名]
    bunzip2 [解压文件名]
    //压缩解压后不会删除原文件
    bzip2 -k [文件名]
    bunzip2 -k [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div></p>
<p>例子：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt
[root@localhost stdio]# bzip2 hello.txt 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt.bz2
[root@localhost stdio]# bunzip2 hello.txt.bz2 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt

[root@localhost stdio]# bzip2 -k  hello.txt 
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt  hello.txt.bz2
[root@localhost stdio]# rm hello.txt
rm：是否删除普通文件 &#34;hello.txt&#34;？y
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt.bz2
[root@localhost stdio]# bunzip2 -k hello.txt.bz2
[root@localhost stdio]# ls
1.c  2.c  3.c  hello.txt  hello.txt.bz2
[root@localhost stdio]# </code></pre></div><h4 id="tar归档文件命令">tar归档文件命令</h4>

<div class="tab-panel" data-tab-group="e360b6307430d338c8baf735c64388fa">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-nav-button tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;" tabindex="-1"
      onclick="switchTab('e360b6307430d338c8baf735c64388fa','命令fa-fw-fas-fa-info-circle')"
    >
      <span class="tab-nav-text"><i class="fa-fw fas fa-info-circle"></i> 命令</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="命令fa-fw-fas-fa-info-circle"
      class="tab-content tab-panel-style cstyle info active" style="--VARIABLE-BOX-color: blue ;">
      <div class="tab-content-text">

<p>在Linux系统中，tar 是一个非常重要的归档工具，用于将一组文件和目录打包到一个单一的.tar文件中。它创建的这种归档文件并不进行压缩，仅仅是将多个文件集合在一起，并保持原始文件的权限、所有权和其他元数据信息。</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    tar -cvf [文件名]
    tar -xvf [解压文件名]</code></pre></div><p>然而，为了减少存储空间占用以及在网络上传输时加快速度，通常会结合使用 tar 和压缩工具（如gzip或bzip2）对归档文件进行压缩。这里 -z 或 -j 参数的作用就是启用压缩功能</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    tar -czvf [文件名]
    tar -xzvf [解压文件名]

    tar -cjvf [文件名]
    tar -xjvf [解压文件名]</code></pre></div><p>如果要选择性的归档或压缩、解压某个文件或目录，那么需要加 <strong>w</strong>，如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-l" data-lang="l">    tar -cwzvf [文件名]
    tar -xwzvf [解压文件名]

    tar -cwjvf [文件名]
    tar -xwjvf [解压文件名]</code></pre></div></div>
    </div>
  </div>
</div>
<p>在命令中;</p>
<ul>
<li>c（create）：表示创建新备份</li>
<li>z（gzip或gunzip）:表示使用gzip指令处理文件</li>
<li>v（verbose）：显示指令执行过程</li>
<li>f（file）:指定备份文件</li>
<li>w(interactive):对每一步都进行确认</li>
<li>j:表示使用bzip2、bunzip2指令进行压缩解压</li>
</ul>
<p>如果加选项 <strong>-C</strong> （directory），则说明转到指定的目录，命令如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost ~]# tar -cjvf stdio.tar stdio/
    stdio/
    stdio/1.c
    [root@localhost ~]# tar -xjvf stdio.tar -C  st/
    stdio/
    stdio/1.c
    [root@localhost ~]# cd st/
    [root@localhost st]# ls
    stdio
    [root@localhost st]# ls stdio/
    1.c
    [root@localhost st]# </code></pre></div><h2 id="用户与用户组管理">用户与用户组管理</h2>
<h3 id="用户与组文件">用户与组文件</h3>
<h4 id="用户文件-passwd">用户文件-passwd</h4>
<p>存放用户登录用户信息的文件位置：/etc/passwd
文件中域的的格式：</p>
<hr>
<p>username:passwd:uid:gid:userinfo:home:shell:</p>
<hr>
<p>例子：</p>
<hr>
<p>[root@localhost st]# tail -1 /etc/passwd
daliu:x:1008:1006::/home/daliu:/bin/bash</p>
<hr>
<p><strong>/etc/passwdw</strong> 文件中域的含义</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">username</td>
<td style="text-align:center">用户名</td>
</tr>
<tr>
<td style="text-align:center">password</td>
<td style="text-align:center">登录密码（一般显示的是密码转换后的乱码）</td>
</tr>
<tr>
<td style="text-align:center">uid</td>
<td style="text-align:center">用户ID（0-99一般为系统保留）</td>
</tr>
<tr>
<td style="text-align:center">gid</td>
<td style="text-align:center">用户组ID</td>
</tr>
<tr>
<td style="text-align:center">userinfo</td>
<td style="text-align:center">用户信息</td>
</tr>
<tr>
<td style="text-align:center">home</td>
<td style="text-align:center">分配该用户的主目录（但位置是人为决定的，自己可以修改）</td>
</tr>
<tr>
<td style="text-align:center">shell</td>
<td style="text-align:center">登录后启动的shell</td>
</tr>
</tbody>
</table>
<p>一般root用户的UID为0，UID一般是唯一的为的是区分不同的用户，但UID为0的除外，UID为0则说明为超级用户；</p>
<p>创建用户时，系统会分配一个主目录给用户一般在 <strong>home</strong> 目录下，例如用户user主目录为 <strong>/home/user</strong>。</p>
<h4 id="用户文件-shadow">用户文件-shadow</h4>
<p>Linux系统中的<code>/etc/shadow</code>文件是存放用户密码信息的重要安全文件，也称为“影子口令文件”。它的主要作用是存储用户的加密密码以及与密码相关的属性，以增强系统的安全性。</p>
<p>在早期的Unix/Linux系统中，密码是以明文或简单加密的形式存储在<code>/etc/passwd</code>文件中。为了提高系统的安全性，从1970年代末期开始引入了影子口令的概念，将密码字段从<code>/etc/passwd</code>移出，并存放在只有超级用户（root）可以读取的<code>/etc/shadow</code>文件中，而原来的 <strong>/etc/passwd</strong> 中的密码字段显示 <strong>x</strong> ,这就是上面的例子中显示x的原因。</p>
<p>通过这种方式，即使攻击者获取了<code>/etc/shadow</code>文件，由于密码已经被高度加密，直接破解难度大大增加，从而有效提高了系统的密码安全级别。同时，通过对密码策略的设定，还可以实现对用户密码复杂度和有效期的管理。</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">username</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">password</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">min</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">max</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">warm</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">inactive</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">expire</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">flag</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<p>下面就举个例子：</p>
<hr>
<p>[root@localhost st]# tail -1 /etc/passwd
daliu:x:1008:1006::/home/daliu:/bin/bash</p>
<p>[root@localhost st]# tail -1 /etc/shadow
daliu:$6$f703Izgm$gIA74I6Vyqdjstz3BazhvEUVWfSyelNuv7UKTUtB3cScauSctebqrBIr/KShHnBcWWQideao3aucMrXsO.I6Z/:19694:0:99999:7:::</p>
<hr>
<h4 id="用户组文件-group">用户组文件-group</h4>
<p>用户组一方面是为了查找用户时更方便，比如查找user用户，你不需要去passwd文件一行一行的查找，你只需要去group文件找到对应的用户组即可。</p>
<p>同样的，用户组也有类似passwd、shadow之和这样的文件，分别为group、gshadow.</p>
<p><strong>/etc/group</strong> 文件中域的含义如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">group_name</td>
<td style="text-align:center">组用户名</td>
</tr>
<tr>
<td style="text-align:center">group_password</td>
<td style="text-align:center">加密后的用户组口令</td>
</tr>
<tr>
<td style="text-align:center">group_id</td>
<td style="text-align:center">用户组ID</td>
</tr>
<tr>
<td style="text-align:center">group_members</td>
<td style="text-align:center">以逗号隔开的用户清单</td>
</tr>
</tbody>
</table>
<p><strong>/etc/gshadow</strong> 文件中域的含义如下：</p>
<table>
<thead>
<tr>
<th style="text-align:center">域</th>
<th style="text-align:center">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">group_name</td>
<td style="text-align:center">组用户名</td>
</tr>
<tr>
<td style="text-align:center">group_password</td>
<td style="text-align:center">加密后的用户组口令</td>
</tr>
<tr>
<td style="text-align:center">group_members</td>
<td style="text-align:center">以逗号隔开的用户清单</td>
</tr>
</tbody>
</table>
<h4 id="检验用户与用户组文件之间是否正确">检验用户与用户组文件之间是否正确</h4>
<ul>
<li>检验 <strong>/etc/passwd</strong> 与 <strong>/etc/shadow</strong> 文件之间的正确性，使用命令 <strong>pwck</strong>,当发生错误，两个文件之间信息不对应时，系统会提示对相应项进行修改；</li>
<li>检验 <strong>/etc/group</strong> 与 <strong>/etc/gshadow</strong> 文件之间的正确性，使用命令 <strong>grpck</strong>,当发生错误，两个文件之间信息不对应时，系统会提示对相应项进行修改。</li>
</ul>
<h3 id="相关的命令操作">相关的命令操作</h3>
<p>1.添加用户与用户组———— <strong>useradd</strong> &amp; <strong>groupadd</strong></p>
<p>用法：</p>
<ul>
<li>useradd [选项] 登录</li>
<li>useradd -D</li>
<li>useradd -D [选项]</li>
</ul>
<p>值得注意的是，对于选项的-d、-md，加了m表示在/home目录创建用户目录，如果不加，表示该目录已存在不需要再使用m,详细请结合下面的展开内容来开。

<div class="expand">
    <input type="checkbox" id="R-expand-0373744288b901caec96aad687ca318d" aria-controls="R-expandcontent-0373744288b901caec96aad687ca318d" >
    <label class="expand-label" for="R-expand-0373744288b901caec96aad687ca318d" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-0373744288b901caec96aad687ca318d" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">选项：
  -b, --base-dir BASE_DIR	新账户的主目录的基目录
  -c, --comment COMMENT         新账户的 GECOS 字段
  -d, --home-dir HOME_DIR       新账户的主目录
  -D, --defaults		显示或更改默认的 useradd 配置
 -e, --expiredate EXPIRE_DATE  新账户的过期日期
  -f, --inactive INACTIVE       新账户的密码不活动期
  -g, --gid GROUP		新账户主组的名称或 ID
  -G, --groups GROUPS	新账户的附加组列表
  -h, --help                    显示此帮助信息并推出
  -k, --skel SKEL_DIR	使用此目录作为骨架目录
  -K, --key KEY=VALUE           不使用 /etc/login.defs 中的默认值
  -l, --no-log-init	不要将此用户添加到最近登录和登录失败数据库
  -m, --create-home	创建用户的主目录
  -M, --no-create-home		不创建用户的主目录
  -N, --no-user-group	不创建同名的组
  -o, --non-unique		允许使用重复的 UID 创建用户
  -p, --password PASSWORD		加密后的新账户密码
  -r, --system                  创建一个系统账户
  -R, --root CHROOT_DIR         chroot 到的目录
  -s, --shell SHELL		新账户的登录 shell
  -u, --uid UID			新账户的用户 ID
  -U, --user-group		创建与用户同名的组
  -Z, --selinux-user SEUSER		为 SELinux 用户映射使用指定 SEUSER
  </code></pre></div></div>
</div></p>
<p>用法： <strong>groupadd [选项] [组名]</strong> ，一般会用到的选项有</p>
<ul>
<li>-g: 用户设置组ID；</li>
<li>-o: 与-g配合使用，设置不唯一的组ID;</li>
<li>-n: 修改组的名字，如：gpasswd -n [新组名] [旧组名]</li>
</ul>
<p>2.删除用户与用户组———— <strong>userdel</strong> &amp; <strong>groupdel</strong></p>
<ul>
<li>userdel:一般用法就是在后面加要删除的用户，如果加选项-r则会删除主目录文件；</li>
<li>groupdel：在后面加要删除的用户组</li>
</ul>
<p>3.修改用户与用户组———— <strong>usermod</strong> 、<strong>passwd</strong> &amp; <strong>gpasswd</strong></p>
<ul>
<li>usermod： 一般就是对问文件中的域进行修改，会加加上选项-u、-g、-s等，最后还得指定用户，用法： <strong>usermod [选项] [用户名]</strong>。另外，<strong>-L（-U）</strong> 的作用是对用户的锁定（解锁）；</li>
<li>passwd：一般就是用来修改用户的密码，在登录的是root用户情况下passwd是要指定修改密码的用户的，而如果登录的是用户本身，使用passwd时就不用指定在；</li>
<li>gpasswd： 用法： <strong>gpasswd [选项] [组名]</strong> ，一般会用到的选项有
<ul>
<li>-a(添加组的用户)，</li>
<li>-d(删除组里的用户)，gpasswd -d [用户名] [组名]</li>
<li>-A(添加组的管理员).</li>
<li>-g(修改组GID),例如：gpasswd -g [新ID] [组名]</li>
</ul>
</li>
</ul>
<p>对于usermod的进一步说明，除了上面提到的选项，还有如下选项：</p>

<div class="expand">
    <input type="checkbox" id="R-expand-b33ccb3e8a5047f3dc71fed36d27d24c" aria-controls="R-expandcontent-b33ccb3e8a5047f3dc71fed36d27d24c" >
    <label class="expand-label" for="R-expand-b33ccb3e8a5047f3dc71fed36d27d24c" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-b33ccb3e8a5047f3dc71fed36d27d24c" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    选项：
  -c, --comment 注释            GECOS 字段的新值
  -d, --home HOME_DIR           用户的新主目录
  -e, --expiredate EXPIRE_DATE  设定帐户过期的日期为 EXPIRE_DATE
  -f, --inactive INACTIVE       过期 INACTIVE 天数后，设定密码为失效状态
  -g, --gid GROUP               强制使用 GROUP 为新主组
  -G, --groups GROUPS           新的附加组列表 GROUPS
  -a, --append GROUP            将用户追加至上边 -G 中提到的附加组中，
                                并不从其它组中删除此用户
  -h, --help                    显示此帮助信息并推出
  -l, --login LOGIN             新的登录名称
  -L, --lock                    锁定用户帐号
  -m, --move-home               将家目录内容移至新位置 (仅于 -d 一起使用)
  -o, --non-unique              允许使用重复的(非唯一的) UID
  -p, --password PASSWORD       将加密过的密码 (PASSWORD) 设为新密码
  -R, --root CHROOT_DIR         chroot 到的目录
  -s, --shell SHELL             该用户帐号的新登录 shell
  -u, --uid UID                 用户帐号的新 UID
  -U, --unlock                  解锁用户帐号
  -Z, --selinux-user  SEUSER       用户账户的新 SELinux 用户映射</code></pre></div></div>
</div>
<p>3.登录用户与用户组———— <strong>su</strong> <strong>newgrp</strong></p>
<p>root用户与普通用户之间的切换使用su,如果要切换根目录则需要在su 后加-，即： <strong>su - [用户]</strong>。</p>
<p>在Linux中，组的登录使用 newgrp ，即 <strong>newgrp [组名]</strong>。</p>
<p>下面通过一个例子加以理解：</p>
<p>添加一个用户名为15user，且该用户在用户组15group中，设置用户组和用户密码为123，创建一个用户15user2让该用户为用户组管理员,修改user的UID为2024，最后删除所用所建信息。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-cd756296aa80e44047ff34cc6310c02e" aria-controls="R-expandcontent-cd756296aa80e44047ff34cc6310c02e" >
    <label class="expand-label" for="R-expand-cd756296aa80e44047ff34cc6310c02e" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-cd756296aa80e44047ff34cc6310c02e" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">[root@localhost ~]# groupadd 15group
[root@localhost ~]# useradd -g 15group 15user
[root@localhost ~]# tail -1 /etc/passwd
15user:x:1001:1007::/home/15user:/bin/bash
[root@localhost ~]# tail -1 /etc/group
15group:x:1007:

[root@localhost ~]# gpasswd 15group
正在修改 15group 组的密码
新密码：
请重新输入新密码：
[root@localhost ~]# passwd 15user
更改用户 15user 的密码 。
新的 密码：
无效的密码： 密码少于 8 个字符
重新输入新的 密码：
passwd：所有的身份验证令牌已经成功更新。
[root@localhost ~]# useradd 15user2

[root@localhost ~]# gpasswd -A 15user2 15group
[root@localhost ~]# tail -2 /etc/group
15group:x:1007:
15user2:x:1002:
[root@localhost ~]# tail -2 /etc/gshadow
15group:$6$d4pzl/CPrp$3NYvX8gzE3DBm35BLqAE8aGzfUhrUZTSMGQfeRve2iUhrH1tZGR8I8t91gWzFD2GWFEDaaocO7XO85RjKDY.q1:15user2:
15user2:!::

[root@localhost ~]# usermod -u  2024 15user
[root@localhost ~]# tail -2 /etc/passwd
15user:x:2024:1007::/home/15user:/bin/bash
15user2:x:1002:1002::/home/15user2:/bin/bash

[root@localhost ~]# userdel 15user
[root@localhost ~]# groupdel 15group
[root@localhost ~]# userdel 15user2</code></pre></div></div>
</div>
<p>在上面的例子中，我们使用gpasswd -A来设置用户组管理员。</p>
<h2 id="文件目录和目录权限管理">文件目录和目录权限管理</h2>
<h3 id="文件访问权限与用户分类">文件访问权限与用户分类</h3>
<h4 id="文件的访问权限">文件的访问权限</h4>
<ul>
<li>读(r)：允许读文件的内容</li>
<li>写(w)：允许向文件中写入数据</li>
<li>执行(x)：允许将文件作为程序执行</li>
</ul>
<h4 id="目录的访问权限">目录的访问权限</h4>
<ul>
<li>读(r)：允许查看目录中有哪些文件和目录；</li>
<li>写(w)：允许该在目录下创建（或删除）文件、目录，修改文件名字或者目录名字</li>
<li>执行(x)：允许访问目录(用 cd 命令进入该目录，并查看目录中可读文件的内容)</li>
</ul>
<h4 id="用户分类">用户分类</h4>
<ul>
<li>文件所有者（owner）：建立文件、目录的用户。</li>
<li>同组用户(group)：属于同一组群的用户对属于该组群的文件有相同的访问权限。</li>
<li>其他用户(other)：除了文件所有者、同组用户的其他用户。</li>
</ul>
<p>我们先用ls -l 查看文件的权限信息：</p>
<p><a href="#R-image-e4a5caf18c5ef9154b6dbfc1d0fd595b" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu2.png" alt="tu2" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e4a5caf18c5ef9154b6dbfc1d0fd595b"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu2.png" alt="tu2" class="lightbox-image        " loading="lazy"></a></p>
<p>在上面的开头有三段他们分别表示为文件所有者、同组用户、其他用户：</p>
<p><a href="#R-image-3f0a0af8df02fbb974e07354778c8285" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu1.png" alt="tu1" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-3f0a0af8df02fbb974e07354778c8285"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu1.png" alt="tu1" class="lightbox-image        " loading="lazy"></a></p>
<p>其中的d表示目录。</p>
<h3 id="权限修改">权限修改</h3>
<h4 id="访问权限的表示">访问权限的表示</h4>
<ul>
<li>（1）字母表示法（如：rwxr-xr-x）</li>
<li>（2）数字表示法 （如：755）
<a href="#R-image-d741d3ec8d07c08b4f38e5c2d3bfa6db" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu3.png" alt="tu3" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-d741d3ec8d07c08b4f38e5c2d3bfa6db"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/tu3.png" alt="tu3" class="lightbox-image        " loading="lazy"></a></li>
</ul>
<p>使用数字进行文件权限的划分，其中r=4、w=2、x=1、-=0，这样rwx这组权限就是4+2+1=7，r-x这组权限就是5。</p>
<h4 id="修改权限的命令chmod">修改权限的命令：chmod</h4>
<ol>
<li>命令格式1：
chmod 
<span class="math align-center">$n{_1}n{_2}n{_3}$</span> &lt;文件|目录&gt;</li>
</ol>
<ul>
<li>功能：为指定文件或目录修改给定的数值访问权限。</li>
<li>选项：
<span class="math align-center">$n{_1}n{_2}n{_3}$</span>三位数字表示的文件访问权限。</li>
</ul>
<ol>
<li>命令格式2：
chmod [用户标识] [设定方法] [权限字符] &lt;文件名或目录名〉</li>
</ol>
<ul>
<li>功能：修改文件或目录的访问权限。</li>
<li>选项：
<ul>
<li>（1）用户标识：所有者（u）、同组（g）、其他人（o）、所有的人员（a）</li>
<li>（2）设定方法：+ 增加权限、- 删除权限、= 分配权限，同时删除旧的权限</li>
<li>（3）权限字符：r（读）、w（写）、x（执行）、u（和所有者的权限相同）、g（和所同组用户的权限相同）、o（和其他用户的权限相同）</li>
</ul>
</li>
</ul>
<h4 id="修改文件所有者的命令chown">修改文件所有者的命令：chown</h4>
<ul>
<li>格式：chown [-R] &lt;用户[：组]&gt; &lt;文件或目录&gt;</li>
<li>功能：更改属主和组。</li>
<li>选项：
-R：对目录及其子目录进行递归设置。</li>
</ul>
<p>例如：chown sjh：sjh result.txt</p>
<h4 id="修改文件所属组群的命令chgrp">修改文件所属组群的命令：chgrp</h4>
<p>格式：chgrp group file</p>
<p>其中group：组名或组代号</p>
<p>功能： 改变文件或目录组群</p>
<p>例如：chgrp user result.txt</p>
<p>关于chown与chgrp的命令的例子：</p>

<div class="expand">
    <input type="checkbox" id="R-expand-1b8ca7cb2a4c2d53d3e99e604d73a250" aria-controls="R-expandcontent-1b8ca7cb2a4c2d53d3e99e604d73a250" >
    <label class="expand-label" for="R-expand-1b8ca7cb2a4c2d53d3e99e604d73a250" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-1b8ca7cb2a4c2d53d3e99e604d73a250" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    [root@localhost ~]# chown user2:user2 /tmp/test/user1_2.txt
    [root@localhost ~]# ls -l /tmp/test/
    总用量 0
    -rw-rw-r--. 1 user2 user2 0 1月  15 19:40 user1_2.txt
    [root@localhost ~]# chgrp root /tmp/test/user1_2.txt
    [root@localhost ~]# ls -l /tmp/test/
    总用量 0
    -rw-rw-r--. 1 user2 root 0 1月  15 19:40 user1_2.txt
    [root@localhost ~]# </code></pre></div></div>
</div>
<h4 id="修改默认权限的命令umask">修改默认权限的命令：umask</h4>
<p>格式：umask [mask]</p>
<p>功能：设置文件或目录的默认权限</p>
<p>注意：系统默认屏蔽的权限为022（umask的默认值为0022），因此新
创建的目录权限就为777-022=755，用字符表示就是rwxr-xr-x，新创
建的普通文件权限为666-022=644，即rw&ndash;r&ndash;r&ndash;。</p>
<h4 id="文件隐藏属性">文件隐藏属性</h4>
<ul>
<li>
<p>1）查看文件隐藏属性：lsattr</p>
</li>
<li>
<p>2）修改文件隐藏属性：chattr</p>
</li>
<li>
<p>chattr [+-=] [ ai] 文件或目录名称</p>
<ul>
<li>a: 当设置a之后，这个文件将只能增加数据，而不能删除也不能修改数据，
必须要为root才能设置这个属性。</li>
<li>i：不能删除，不能修改，不能改名。必须要为root才能设置这个属性。</li>
</ul>
</li>
</ul>
<h3 id="文件特殊权限">文件特殊权限</h3>
<p>文件特殊权限有以下三种：</p>
<p>1）SUID：Set UID（只对二进制程序有效，对shell script无效）</p>
<p>例如：ll /usr/bin/passwd</p>
<p>注意：当用户执行passwd命令的时候，需要修改/etc/shadow文件，而该文件普通用户并没有任何权限。</p>
<p>2）SGID：Set GID</p>
<p>例如：ll /usr/bin/locate
注意：当用户执行locate命令的时候，需要读取/var/lib/mlocate/mlocate.db文件。</p>
<p>3）SBIT：Sticky Bit （只对目录有效）</p>
<p>设置方法：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">    chmod -o+t [指定目录名]
    或者
    chmod 1777 [指定目录名]</code></pre></div><p>对一个目录进行如上设置以后，假设有用户A和B，用户A在该目录下创建的文件只有他自己的root用户可以删，像B这样的其他用户删不了。</p>
<p><a href="https://blog.csdn.net/weiling_shen/article/details/7577571" target="_blank">特殊文件说明文章链接</a></p>
<h2 id="软件包管理">软件包管理</h2>
<p>接下里介绍两个软件安装的工具，分别是RPM：Red Hat Package Manager（Red Hat软件包管，以及YUM:Yellow dog Dpdater,Modified.</p>
<p>RPM工具不需要网络，需要提前准备好安装包，但是他也有缺点安装的时候如果缺少依赖包你还需要再安装依赖包；</p>
<p>而YUM工具需要再有网的状态下才可以下载，它免去了依赖包提醒，自动将依赖包下载好，较为方便，我跟推荐使用YUM。</p>
<h3 id="rpm工具的使用">RPM工具的使用</h3>
<p>1．安装软件包（install）</p>
<p><strong>rpm -ivh rpm软件包全名</strong>：</p>
<ul>
<li>i：安装一个新的软件包</li>
<li>v：显示详细信息</li>
<li>h：显示安装进度条理工具</li>
</ul>
<p>2．查询已安装的软件包（query）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">rpm –qa //查询出本机所有已经安装的软件
rpm –q httpd //查询httpd软件包是否已经安装
rpm -q【i l c d R】 vsftpd
rpm -qf /etc/inittab
查询未安装的软件包：
rpm -qp 【i l c d R】 gconf-editor-2.28.0-3.el6.i686.rpm</code></pre></div><p>3．升级与更新（upgrade/freshen）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux">rpm -Uvh 软件包名称
//原来没有安装过的，直接安装；如果已安装过，则更新至新版
rpm -Fvh 软件包名称
//原来没有安装过的，不安装；如果已安装过，则更新至新版</code></pre></div><p>4．卸载RPM包（erase）</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-linux" data-lang="linux"> rpm -e vsftpd
 注意：卸载时只需要给出软件包名称vsftpd，而不需要给出软件包的全部名称信息vsftpd-2.2.2-6.el6.i686.rpm。</code></pre></div><h3 id="yum工具的使用">YUM工具的使用</h3>
<p><strong>yum在线升级机制：</strong></p>
<ul>
<li>安装软件 yum install gcc</li>
<li>删除软件 yum remove gcc</li>
<li>查询软件 yum search gcc</li>
</ul>
<p><strong>软件包管理：</strong></p>
<ul>
<li>举例一：搜寻与磁盘阵列(raid)相关的软件有哪些？
[root@www ~]# yum search raid</li>
<li>举例二：找出mdadm这个软件的功能为何？
[root@www ~]# yum info mdadm</li>
<li>举例三：列出yum 服务器上面提供的所有软件名称。
[root@www ~]# yum list</li>
<li>举例四：列出目前服务器上可供本机进行升级的软件有哪些？
[root@www ~]# yum list updates</li>
<li>举例五：列出提供passwd这个文件的软件有哪些？
[root@www ~]# yum provides passwd</li>
</ul>
<p><strong>yum的软件组功能：</strong></p>
<ul>
<li>查询软件组：yum grouplist（查阅目前容器与本机上面的可用与安装过
的软件群组有哪些？）</li>
</ul>
<p>yum groupinfo Eclipse（查询Eclipse软件组的相关信息）</p>
<ul>
<li>安装软件组： yum groupinstall Eclipse</li>
<li>删除软件组： yum groupremove Eclipse</li>
</ul>
<h2 id="硬盘分区及格式化">硬盘分区及格式化</h2>
<h3 id="硬盘分区介绍">硬盘分区介绍</h3>
<ul>
<li>硬盘的分区分为主磁盘分区和扩展磁盘分区。</li>
<li>一个硬盘最多可以划分为 <strong>4</strong> 个主磁盘分区，这时不能再创建扩展分区。</li>
<li>一个硬盘中最多只能创建 <strong>1个扩展分区</strong> ，扩展分区不能直接使用，必须在扩展分区中再划分出逻辑分区才可以使用。</li>
<li>逻辑分区是从5开始的，每多1个分区，数字加1就可以。</li>
</ul>
<h4 id="硬盘标识">硬盘标识</h4>
<p>（1）IDE硬盘：hd[a-d]*</p>
<p>hd表示硬盘类型为IDE，中括号中的字母为a、b、c、d中的一个，a是基本盘，b是从盘，是辅助主盘，d是辅助从盘，*指分区，即主分区和扩展分区。</p>
<p>例如：hda1代表第一块IDE硬盘上的第一个分区。hdb5代表第二块IDE硬盘的第一个逻辑分区。</p>
<p>（2）SCSI/SATA硬盘：sd[a-p]*</p>
<p>sd表示SCSI/SATA硬盘。SCSI/SATA的引导盘使用设备文件/dev/sda1、/dev/sda2、/dev/sda3、/dev/sda4作为主分区或者扩展分区，而以/dev/sda5，/dev/sda6等作为逻辑分区。</p>
<h3 id="创建硬盘分区">创建硬盘分区</h3>
<p>先使用ls -l /dev |grep &lsquo;sd&rsquo;查看文件里是否有可用的磁盘，如果没有需要创建一个磁盘，创建步骤：</p>
<p>1．通过虚拟机设置增加一块SCSI硬盘，大小为5G，重启系统。

<div class="expand">
    <input type="checkbox" id="R-expand-4291bf9c8b23dbb35554be1ded6caadf" aria-controls="R-expandcontent-4291bf9c8b23dbb35554be1ded6caadf" >
    <label class="expand-label" for="R-expand-4291bf9c8b23dbb35554be1ded6caadf" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-4291bf9c8b23dbb35554be1ded6caadf" class="expand-content">

<p><a href="#R-image-6ff922204838e744a96ff87f2a29a7d9" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6ff922204838e744a96ff87f2a29a7d9"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%874.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>按照下图点击下一步</p>
<p><a href="#R-image-5285f7be8d5f405ebf33d4f1ea692aa8" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-5285f7be8d5f405ebf33d4f1ea692aa8"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%875.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p><a href="#R-image-b960c8d790bfa1ff6deccfd4a9bf5167" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b960c8d790bfa1ff6deccfd4a9bf5167"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%876.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>根据实际情况输入所需硬盘大小，这里输入5GB</p>
<p><a href="#R-image-e194e6772679b7c5f4f3fb489625757f" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-e194e6772679b7c5f4f3fb489625757f"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%877.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>然后点击完成</p>
<p><a href="#R-image-2d8c01ae290fd214b28d851ddc129cd8" class="lightbox-link"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt="tu4" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-2d8c01ae290fd214b28d851ddc129cd8"><img src="./branch-bundle-1/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/%E5%9B%BE%E7%89%878.png" alt="tu4" class="lightbox-image        " loading="lazy"></a></p>
<p>最后在命令窗口输入reboot重启。</p>
</div>
</div></p>
<p>2．将该硬盘分为2个主分区（每个主分区的大小为1G），1个扩展分区（大小为3G），将第2个主分区制作成swap分区。</p>
<p>命令：

<div class="expand">
    <input type="checkbox" id="R-expand-ca946c661c7b8548bbe9dfb451677e92" aria-controls="R-expandcontent-ca946c661c7b8548bbe9dfb451677e92" >
    <label class="expand-label" for="R-expand-ca946c661c7b8548bbe9dfb451677e92" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-ca946c661c7b8548bbe9dfb451677e92" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>    <span style="color:#f92672">//</span>先用命令查看sd,sd表示SCSI<span style="color:#f92672">/</span>SATA硬盘<span style="color:#960050;background-color:#1e0010">，</span>
</span></span><span style="display:flex;"><span>    ls <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>sd <span style="color:#f92672">|</span>grep sd
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>硬盘分区
</span></span><span style="display:flex;"><span>    fdisk  <span style="color:#f92672">/</span>dev<span style="color:#f92672">/</span>sdb
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>使用m查看帮助命令<span style="color:#960050;background-color:#1e0010">，</span>n为新建命令<span style="color:#960050;background-color:#1e0010">，</span>d为删除命令<span style="color:#960050;background-color:#1e0010">，</span>w为写入命令<span style="color:#960050;background-color:#1e0010">，</span>每次配完都要写入才有效<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    p  <span style="color:#f92672">//</span>这是新建主分区的意思
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>接着指定分区起始位置<span style="color:#960050;background-color:#1e0010">，</span>一般我们默认<span style="color:#960050;background-color:#1e0010">，</span>所以回车就可以
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>然后就是指定分区的大小<span style="color:#960050;background-color:#1e0010">，</span>这里我设置1G<span style="color:#960050;background-color:#1e0010">、</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>可以用p命令查看设置的情况
</span></span><span style="display:flex;"><span>    P
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">//</span>按照上面的流程进行其他的设置<span style="color:#960050;background-color:#1e0010">，</span>一下给出步骤命令
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    p
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    e
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>G</span></span></code></pre></div></div>
</div>
3．将扩展分区划出2个逻辑分区（大小分别为1G、2G）。</p>
<p>命令：

<div class="expand">
    <input type="checkbox" id="R-expand-3950375c556441540b0f39a8ec0cca39" aria-controls="R-expandcontent-3950375c556441540b0f39a8ec0cca39" >
    <label class="expand-label" for="R-expand-3950375c556441540b0f39a8ec0cca39" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-3950375c556441540b0f39a8ec0cca39" class="expand-content">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#f92672">//</span>到这步后我们可以给扩展分区分配逻辑分区<span style="color:#960050;background-color:#1e0010">，</span>分配时逻辑分区用l命令<span style="color:#960050;background-color:#1e0010">。</span>
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    l
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>G
</span></span><span style="display:flex;"><span>    n
</span></span><span style="display:flex;"><span>    l
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>G</span></span></code></pre></div></div>
</div></p>
<h3 id="查看磁盘情况与磁盘格式化">查看磁盘情况与磁盘格式化</h3>
<ul>
<li>（1）查看系统中的新硬盘：<strong><code>ls /dev/sd*</code></strong></li>
<li>（2）查看分区：<code>fdisk –l /dev/sda</code></li>
<li>（3）创建主分区：<strong><code>fdisk /dev/sdc</code></strong></li>
<li>（4）创建扩展分区：输入n,再输入e</li>
<li>（5）创建逻辑分区: 输入n,再输入l</li>
<li>（6）修改分区类型</li>
<li>（7）格式化分区：
<ul>
<li><strong><code>mkfs –t ext4 /dev/sdc1</code></strong> 还可以写成**<code>mkfs.ext4 /dev/sdc1</code>**</li>
<li>格式化交换分区略有不同，使用命令 <strong>mkswap</strong> ,例如： <code>mkswap dev/sdb2</code></li>
</ul>
</li>
<li>（8）磁盘检查命令：<code>fsck –t ext4 /dev/sdc1</code>
<ul>
<li><code>badblocks /dev/sdb5</code></li>
</ul>
</li>
<li>（9）查看磁盘使用情况 <code>df</code>,或使用<code>df -h</code>输出更易于查看。</li>
</ul>
<p>上面的-t意思是参数TYPE的意思，后面接ext4()、vfat(FAT32)、ntfs()等，</p>
<h3 id="挂载文件系统mount">挂载文件系统：mount</h3>
<ul>
<li>1、 <strong>挂载硬盘分区：</strong>
<ul>
<li>步骤1：mkdir /usr/music</li>
<li>步骤2：mount /dev/sdc5 /usr/music</li>
</ul>
</li>
<li>2、 <strong>挂载光驱：</strong>
<ul>
<li>步骤1：mkdir /mnt/cdrom</li>
<li>步骤2：mount /dev/cdrom /mnt/cdrom</li>
</ul>
</li>
<li>3、 <strong>挂载U盘：</strong>
<ul>
<li>步骤1：mkdir /mnt/usb</li>
<li>步骤2：mount /dev/sdd1 /mnt/usb</li>
</ul>
</li>
<li>4、 <strong>挂载Windows下的C盘</strong> （FAT32格式）：
<ul>
<li>步骤1：mkdir /mnt/dosc</li>
<li>步骤2：mount -t vfat /dev/sda1 /mnt/dos</li>
</ul>
</li>
</ul>
<p><strong>注意：</strong> C盘必须已经被格式化为FAT32格式。</p>
<h3 id="显示系统内所有已经挂载的文件系统">显示系统内所有已经挂载的文件系统</h3>
<p><strong>mount</strong>
不带任何参数执行mount命令，则会显示当前系统中已经挂载的所有的文件系统列表。</p>
<h3 id="卸载设备umount">卸载设备：umount</h3>
<p>格式： umount &lt;设备名或挂载点&gt;</p>
<p>说明：卸载指定的设备，既可以使用设备名也可以使用挂载点。</p>
<p>举例： # umount /dev/cdrom</p>
<h3 id="自动挂载文件系统etcfstab">自动挂载文件系统：/etc/fstab</h3>
<p>每条记录由6个字段组成。</p>
<p>1.设备名称
2.设备挂载点
3.文件系统类型
4.挂载选项
5.是否备份
6.自检顺序</p>
<p>如果想要系统自动挂载/dev/sdc5分区，可在<code>/etc/fstab</code>文件添加下面这行：</p>
<p><code>/dev/sdc5 /usr/music ext4 defaults 0 0</code></p>
<p><strong>注意</strong>:由于fstab文件非常重要，如果这个文件有错误，就可能会造成系统不能正常启动。因此向fstab文件中添加数据时应非常小心。修改完该文件后务必使用<code>mount -a</code>命令测试有没有错误。</p>
<h3 id="磁盘配额">磁盘配额</h3>
<p>以sdb1为例</p>
<p>第一步：先配置sdb磁盘，然后挂载sdb1磁盘</p>
<p>第二步：使用quotaon /sdb1/生成aquota.group和aquota.user文件</p>
<p>第三步：对用户或用户组进行磁盘限制,例如：edquota -u user1，然后会进入一个文件，文件里的0表示禁用，在里面可以设置创建文件个数或文件大小的软限制、硬限制；</p>
<p>第四步：我们登录user1，在/sdb/目录下创建文件，使用 <code>db if=/dev/zero of=/sdb1/test/ bs=1k count=10</code>这条命令进行测试，这是一个写文件大小的命令，这样可以快速测试文件大小的软限制和硬限制；</p>
<p>第五步：子里面建文件，检验创建文件个数的软限制和硬限制；</p>
<p>第六步: 可以使用repquota -u查看目录的情况；</p>
<p>第七步：关闭磁盘匹配额，quotatoff /sdb1/</p>
<h2 id="linux编程">Linux编程</h2>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/f1-%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/">F1-复习资料</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 100</div>
<h1 id="贺青工程">贺青工程</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E5%B0%8F%E7%A8%8B%E5%BA%8Fui%E8%AE%BE%E8%AE%A1/">志愿活动软件设计与开发</a><p>设计一款可以参加志愿活动的小程序，其制作流程大致如下： 需求分析与规划 确定目标用户群体及其需求：考虑志愿者、活动组织者和管理员等不同角色的功能</p></li>
<li><a href="./branch-bundle-1/%E8%B4%BA%E9%9D%92%E5%B7%A5%E7%A8%8B/%E9%AA%8C%E6%94%B6%E6%96%B9%E6%A1%88/">验收问题</a><p>页面美化验收 1.登录页面 2.首页&mdash;将志愿活动和活动时长数据放到轮播图下面 3.我的页面优化了吗？ 4.点击找回密码后，页面颜色不够美</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">贺青工程 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
  </ul>
</div>
            </header>
<h1 id="志愿活动软件设计与开发">志愿活动软件设计与开发</h1>

<p>设计一款可以参加志愿活动的小程序，其制作流程大致如下：</p>
<h2 id="需求分析与规划">需求分析与规划</h2>
<p>确定目标用户群体及其需求：考虑志愿者、活动组织者和管理员等不同角色的功能需求。</p>
<p><strong>志愿者：</strong></p>
<ul>
<li><strong>注册/登录</strong>：志愿者可以通过手机号、邮箱或第三方账号进行注册和登录。</li>
<li><strong>个人中心</strong>：查看并编辑个人信息，包括姓名、联系方式、服务时长、参与过的活动记录等。</li>
<li><strong>活动浏览</strong>：查看活动列表，搜索感兴趣的服务项目，支持按地区、时间、类型筛选。</li>
<li><strong>活动报名</strong>：选择感兴趣的志愿活动进行报名，填写相关报名表单，并能收到报名成功或失败的反馈信息。</li>
<li><strong>签到打卡</strong>：参加活动时通过GPS定位、二维码扫描等方式进行签到和签退，记录服务时长。</li>
<li><strong>互动交流</strong>：可在活动详情页留言评论，与其他志愿者交流心得，也可以对已完成的活动进行评价。</li>
<li><strong>积分系统</strong>：根据参与活动的情况获取积分，可用于兑换礼品或其他激励。</li>
</ul>
<p><strong>活动组织者：</strong></p>
<ul>
<li><strong>活动发布</strong>：创建新的志愿活动，填写活动名称、地点、时间、内容描述、所需志愿者数量、技能要求等详细信息。</li>
<li><strong>活动管理</strong>：查看已发布的活动状态，审核志愿者报名申请，确认志愿者名单，发送通知消息给志愿者。</li>
<li><strong>数据统计</strong>：查看各项活动的报名人数、实际参与人数、总服务时长等统计数据。</li>
<li><strong>评价反馈</strong>：查阅志愿者对活动的评价和建议，以便改进后续活动组织。</li>
<li><strong>资源管理</strong>：上传活动相关的文档、图片等资源，管理活动物料。</li>
</ul>
<p><strong>管理员：</strong></p>
<ul>
<li><strong>用户管理</strong>：审核志愿者注册信息，处理用户投诉与咨询，维护用户账户安全。</li>
<li><strong>权限管理</strong>：分配不同的角色权限，如设置哪些用户可以发布活动、审核报名等。</li>
<li><strong>活动审批</strong>：对于某些大型或重要的活动，可能需要经过管理员审核后才能正式发布上线。</li>
<li><strong>系统配置</strong>：设置全局参数，如积分规则、活动类别等基础数据的增删改查。</li>
<li><strong>数据分析</strong>：获取平台整体运营数据，分析用户行为、活跃度以及志愿服务的整体状况，为决策提供依据。</li>
</ul>
<h3 id="功能列表梳理">功能列表梳理</h3>
<h4 id="活动浏览报名参与签到打卡服务时长记录通知公告评价反馈积分兑换等功能模块">活动浏览、报名参与、签到打卡、服务时长记录、通知公告、评价反馈、积分兑换等功能模块。</h4>
<ul>
<li>数据结构设计：定义数据库表结构，包括但不限于用户信息、活动信息、报名记录等。</li>
</ul>
<h2 id="原型设计与uiux设计">原型设计与UI/UX设计</h2>
<ul>
<li>创建低保真或高保真原型，展示小程序的主要界面布局及交互流程。</li>
<li>设计符合用户体验的UI界面，确保简洁易用且美观大方。</li>
</ul>
<h2 id="技术选型与开发环境搭建">技术选型与开发环境搭建</h2>
<ul>
<li>根据团队技术栈选择合适的开发平台，如微信小程序、支付宝小程序、百度小程序等。</li>
<li>搭建开发环境，安装所需的IDE工具（如微信开发者工具）及相关依赖库。</li>
</ul>
<h2 id="后端服务器开发">后端服务器开发</h2>
<ul>
<li>设计并实现后端API接口，处理用户的注册登录、活动发布与管理、报名审核等操作。</li>
<li>开发数据库系统，用于存储用户信息、活动数据等内容。</li>
</ul>
<h2 id="前端小程序开发">前端小程序开发</h2>
<ul>
<li>根据原型图编写前端页面代码，使用各小程序平台提供的组件和API进行功能开发。</li>
<li>实现用户认证、活动详情展示、报名表单提交、状态更新等功能。</li>
</ul>
<h2 id="测试与优化">测试与优化</h2>
<ul>
<li>单元测试：对各个功能模块进行独立测试，确保逻辑正确无误。</li>
<li>集成测试：模拟真实场景，测试整个应用的完整流程是否顺畅。</li>
<li>性能测试：检查在大量并发请求下系统的响应速度和稳定性。</li>
<li>用户体验测试：邀请部分目标用户试用，并根据反馈进行迭代优化。</li>
</ul>
<h2 id="上线部署与版本管理">上线部署与版本管理</h2>
<ul>
<li>将完成开发和测试的小程序上传至对应平台进行审核发布。</li>
<li>制定版本更新策略，持续收集用户反馈，定期更新优化软件。</li>
</ul>
<h2 id="后期维护与运营">后期维护与运营</h2>
<ul>
<li>定期检查系统性能，及时修复已知问题和潜在隐患。</li>
<li>对接新的需求，不断丰富和完善产品功能。</li>
<li>进行数据分析，了解用户行为，以数据驱动产品迭代优化。</li>
</ul>
<p>自我异化的解释</p>
<p>类力量：</p>
<p>肉体存在于感性存在
随地大小便是前者，上公厕表示后者</p>
<p>资本主义的三大作用
推动世界史的形成，
为人类的全面发展准备物质资料</p>
<p>人是人感性活动的产物，人类与自然界打交道
人的类存在基础是感性存在
感性的存在就是把自然的东西变成人的东西，就是变成社会的存在，就像美，美的感觉的</p>
<p>人不仅是感性的对象，还是感性的活动的产物

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%BD%AF%E4%BB%B6/">软件</a></li>
  </ul>
</div>
            </header>
<h1 id="验收问题">验收问题</h1>

<h2 id="页面美化验收">页面美化验收</h2>
<ul>
<li><input disabled="" type="checkbox"> 1.登录页面</li>
<li><input disabled="" type="checkbox"> 2.首页&mdash;将志愿活动和活动时长数据放到轮播图下面</li>
<li><input disabled="" type="checkbox"> 3.我的页面优化了吗？</li>
<li><input disabled="" type="checkbox"> 4.点击找回密码后，页面颜色不够美观，该页面应符合小程序主色调</li>
<li><input disabled="" type="checkbox"> 5.首页&mdash;-为你推荐的志愿活动适当放大活动名称字体，调整活动名称下面的显示信息，请适当调整字体大小、行距、间距。</li>
<li><input disabled="" type="checkbox"> 6.贺院学子一直在行动调整这个模块数字、志愿活动、志愿者等字段的字体大小，现在看起来感觉数字和文字很随意，请适当调整。</li>
<li><input disabled="" type="checkbox"> 7.让“无权限”字段直接显示在页面上，字体背景设置为透明，而不是像现在这样看起来像一个按键。</li>
<li><input disabled="" type="checkbox"> 8.我的组织页面中，显示的组织之间间距太近，请适当调整。</li>
</ul>
<h2 id="小程序功能验收">小程序功能验收</h2>
<ul>
<li><input disabled="" type="checkbox"> 1.不同的登录方式有问题吗？</li>
<li><input disabled="" type="checkbox"> 2.<strong>签到开始时间为活动开始前半小时</strong>，（现在是没到签到时间不可以签到，精确度很高）</li>
<li><input disabled="" type="checkbox"> 3.活动结束后不能进行签退，但是活动发起者可以对其进行补签，补签时长可以自定，自定义时长不能超过该志愿者从开始签到至活动结束的时长。</li>
<li><input disabled="" type="checkbox"> 4.服务时长为签到签退时间差吗？</li>
<li><input disabled="" type="checkbox"> 5.签到签退需要在活动地点三公里以内才能进行。</li>
<li><input disabled="" type="checkbox"> 6.活动发起者发布活动后或得四位数数字密码，该密码在志愿者点击签到或签退时弹出小弹窗，输入密码后实现签到签退。</li>
<li><input disabled="" type="checkbox"> 7.当成员加入活动时，活动发起者能够一键通过成员的审核</li>
<li><input disabled="" type="checkbox"> 8.发现页面上方，将日期和距离归纳在一个板块“排序”</li>
<li><input disabled="" type="checkbox"> 9.当我登录后点击返回，返回到的页面是上一次的登录页面，需要一步一步返回，请设置为登陆成功后直接跳转到我的页面。</li>
<li><input disabled="" type="checkbox"> 10.</li>
<li><input disabled="" type="checkbox"> 11.

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></li>
</ul>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E9%A1%B9%E7%9B%AE/">X1-项目</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="chapter">
            <header class="headline">
            </header>
<div class="article-subheading">目录 200</div>
<h1 id="哲学">哲学</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./branch-bundle-1/%E5%93%B2%E5%AD%A6/%E5%BA%84%E5%AD%90%E4%B9%8B%E9%81%93/">庄子之道</a><p>今天通过王德峰老师的视频课来进一步的了解《庄子》的哲学之道，推荐看曹楚基注释的《庄子》。 行无为而知避害，避害就是避开人为，像自然灾害不在道家</p></li>
<li><a href="./branch-bundle-1/%E5%93%B2%E5%AD%A6/%E8%B4%B9%E5%B0%94%E5%B7%B4%E5%93%88%E6%8F%90%E7%BA%B2/">费尔巴哈提纲</a><p>一 从前的一切唯物主义（包括费尔巴哈的唯物主义）的主要缺点是：对对象、现实、感性，只是从客体的或者直观的形式去理解，而不是把它们当作感性的人的</p></li>
</ul>
<p>在我个人看来中国的哲学重在修心，探讨入世出世，为人处世的哲学问题，而相比于西方的哲学，我觉得中国的哲学更贴近与生活，人的内心变化影响着人的生活，西方哲学注重探讨自然界的规律。所以我有时也很能理解为什么科技革命发生在西方，而不是我们中国，西方哲学下的社会似乎总能带来一些新东西，有时候会让你感觉到它带来了不属于这个世界的新事物，最典型的就是科技的发展带来的一些新事物。但这样的看法看待中国哲学和西方哲学还是太片面了，在哲学的大集合里，哲学主要还是为人服务的“ <strong>工具</strong> ”，哪个顺手我就用哪一个，哪个能帮我与事物更好的打交道，我就用哪个。</p>
<p>学哲学是为了了解自己，看透世界，这就是当下我觉得学哲学的意义。</p>
<p>学中国的哲学不是为了出家，不是为了攀登看破红尘的高山。如果你不是很富有，家境也不怎么样，我劝你打消这个念头，父母辛苦把你养大，你跑去山里去修道？国家现在还没有富起来，你不投身于社会为祖国做贡献，幻想着修自己心中所谓的道？你能安心吗？我想学完中国哲学的人不应该是有这样的想法，而是有与社会权力打交道的巧招妙招，有为家为国做贡献的决心，有好好活下去的勇气。</p>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">哲学 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%93%B2%E5%AD%A6/">哲学</a></li>
  </ul>
</div>
            </header>
<h1 id="庄子之道">庄子之道</h1>

<p>今天通过王德峰老师的视频课来进一步的了解《庄子》的哲学之道，推荐看曹楚基注释的《庄子》。</p>
<p>行无为而知避害，避害就是避开人为，像自然灾害不在道家讨论的范围内。避害的方法有两个:</p>
<ul>
<li>一是天下的人为的事情辨认出来。</li>
<li>二是自己不参与任何人为的事情。不参与是一种人生态度。</li>
</ul>
<p><strong>一、如何辨别人为？</strong></p>
<p><strong>二、如何不参与人为之？</strong></p>
<p>庄子行于山中，见大木枝叶盛茂。伐木者止其旁而不取也。问其故，曰:“无所可用。”庄子曰:“此木以不材得终其天年。”夫子出于山。舍于故人之家。故人喜命竖子杀雁而烹之。竖子请曰:“其一能鸣，其一不能鸣，请奚杀?”主人曰:“杀不能鸣者。”明日弟子问于庄子曰:“昨日山中之木以不材得终其天年，今主人之雁以不材死，先生将何处?”庄子笑曰:“周将处夫材与不材之间。材与不材之间，似之而非也，故未免乎累。若夫乘道德<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>而浮游<sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>则不然<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>。   <em>——《庄子山木篇》</em></p>
<p>全身避害，终究避不了害，怎么办呢？</p>
<p>列子有言：生非贵之所能存，生非爱之所能厚。</p>
<p>老子的给出的方法：贵以身为天下，若可寄天下;爱以身为天下，若可托天下<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>。</p>
<p>下面是原文： <strong>宠辱若惊，贵大患若身。</strong> 何谓宠辱若惊?宠为下，得之若惊，失之若惊，是谓宠辱若惊。何谓贵大患若身?吾所以有大患者，为吾有身，及吾无身，吾有何患?故贵以身为天下，若可寄天下;爱以身为天下，若可托天下。 ——《道德经》第十三章</p>
<hr>
<p>接下来讨论逍遥游与齐物论。前一篇将境界，后一篇讲道理，前一篇讲要达到哪一种境界，后一篇是如何讲达到这种境界。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-6617a80bdb7d8f9e730974cfb2aba87d" aria-controls="R-expandcontent-6617a80bdb7d8f9e730974cfb2aba87d" >
    <label class="expand-label" for="R-expand-6617a80bdb7d8f9e730974cfb2aba87d" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        《逍遥游》原文
    </label>
    <div id="R-expandcontent-6617a80bdb7d8f9e730974cfb2aba87d" class="expand-content">

<p>北冥有鱼，其名为鲲。鲲之大，不知其几千里也；化而为鸟，其名为鹏。鹏之背，不知其几千里也；怒而飞，其翼若垂天之云。是鸟也，海运则将徙于南冥。南冥者，天池也。《齐谐》者，志怪者也。《谐》之言曰：“鹏之徙于南冥也，水击三千里，抟扶摇而上者九万里，去以六月息者也。”野马也，尘埃也，生物之以息相吹也。天之苍苍，其正色邪？其远而无所至极邪？其视下也，亦若是则已矣。且夫水之积也不厚，则其负大舟也无力。覆杯水于坳堂之上，则芥为之舟；置杯焉则胶，水浅而舟大也。风之积也不厚，则其负大翼也无力。故九万里，则风斯在下矣，而后乃今培风；背负青天，而莫之夭阏者，而后乃今将图南。蜩与学鸠笑之曰：“我决起而飞，抢榆枋而止，时则不至，而控于地而已矣，奚以之九万里而南为？”适莽苍者，三餐而反，腹犹果然；适百里者，宿舂粮；适千里者，三月聚粮。之二虫又何知！小知不及大知，小年不及大年。奚以知其然也？朝菌不知晦朔，蟪蛄不知春秋，此小年也。楚之南有冥灵者，以五百岁为春，五百岁为秋；上古有大椿者，以八千岁为春，八千岁为秋。此大年也。而彭祖乃今以久特闻，众人匹之，不亦悲乎？</p>
<p>　　汤之问棘也是已：“穷发之北，有冥海者，天池也。有鱼焉，其广数千里，未有知其修者，其名为鲲。有鸟焉，其名为鹏，背若泰山，翼若垂天之云；抟扶摇羊角而上者九万里，绝云气，负青天，然后图南，且适南冥也。斥鷃笑之曰：‘彼且奚适也？我腾跃而上，不过数仞而下，翱翔蓬蒿之间，此亦飞之至也。而彼且奚适也？’”此小大之辩也。</p>
<p>　　故夫知效一官、行比一乡、德合一君、而征一国者，其自视也，亦若此矣。而宋荣子犹然笑之。且举世誉之而不加劝，举世非之而不加沮，定乎内外之分，辩乎荣辱之境，斯已矣。彼其于世，未数数然也。虽然，犹有未树也。夫列子御风而行，泠然善也，旬有五日而后反。彼于致福者，未数数然也。此虽免乎行，犹有所待者也。若夫乘天地之正，而御六气之辩，以游无穷者，彼且恶乎待哉？故曰：至人无己，神人无功，圣人无名。</p>
<p>尧让天下于许由，曰：“日月出矣，而爝火不息；其于光也，不亦难乎？时雨降矣，而犹浸灌；其于泽也，不亦劳乎？夫子立而天下治，而我犹尸之；吾自视缺然，请致天下。”许由曰：“子治天下，天下既已治也；而我犹代子，吾将为名乎？名者，实之宾也；吾将为宾乎？鹪鹩巢于深林，不过一枝；偃鼠饮河，不过满腹。归休乎君，予无所用天下为！庖人虽不治庖，尸祝不越樽俎而代之矣！”</p>
<p>　　肩吾问于连叔曰：“吾闻言于接舆，大而无当，往而不反。吾惊怖其言。犹河汉而无极也；大有径庭，不近人情焉。”连叔曰：“其言谓何哉？”曰：“藐姑射之山，有神人居焉。肌肤若冰雪，淖约若处子，不食五谷，吸风饮露，乘云气，御飞龙，而游乎四海之外；其神凝，使物不疵疠而年谷熟。吾以是狂而不信也。”连叔曰：“然。瞽者无以与乎文章之观，聋者无以与乎钟鼓之声。岂唯形骸有聋盲哉？夫知亦有之！是其言也犹时女也。之人也，之德也，将旁礴万物以为一，世蕲乎乱，孰弊弊焉以天下为事！之人也，物莫之伤：大浸稽天而不溺，大旱金石流，土山焦而不热。是其尘垢秕糠将犹陶铸尧舜者也，孰肯以物为事？”宋人资章甫而适诸越，越人断发文身，无所用之。尧治天下之民，平海内之政，往见四子藐姑射之山，汾水之阳，窅然丧其天下焉。</p>
<p>　　惠子谓庄子曰：“魏王贻我大瓠之种，我树之成，而实五石。以盛水浆，其坚不能自举也。剖之以为瓢，则瓠落无所容。非不呺然大也，吾为其无用而掊之。”庄子曰：“夫子固拙于用大矣。宋人有善为不龟手之药者，世世以洴澼絖为事。客闻之，请买其方百金。聚族而谋曰：‘我世世为洴澼絖，不过数金，今一朝而鬻技百金，请与之。’客得之，以说吴王。越有难，吴王使之将，冬，与越人水战，大败越人。裂地而封之。能不龟手一也，或以封，或不免于洴澼絖，则所用之异也。今子有五石之瓠，何不虑以为大樽，而浮于江湖，而忧其瓠落无所容？则夫子犹有蓬之心也夫！”</p>
<p>　　惠子谓庄子曰：“吾有大树，人谓之樗。其大本拥肿而不中绳墨，其小枝卷曲而不中规矩，立之涂，匠者不顾。今子之言大而无用，众所同去也。”庄子曰：“子独不见狸狌乎？卑身而伏，以候敖者；东西跳梁，不辟高下；中于机辟，死于罔罟。今夫斄牛，其大若垂天之云。此能为大矣，而不能执鼠。今子有大树，患其无用，何不树之于无何有之乡，广莫之野，彷徨乎无为其侧，逍遥乎寝卧其下。不夭斤斧，物无害者，无所可用，安所困苦哉！”</p>
</div>
</div>
<p>轻物重生————老子:反者道之动，以不变应万变————庄子:齐生死一物我</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>道德：事物的德性。&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>浮游：即物物而不物于物。意思是说，做一件事情，不被这件事情所支配。&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>若夫乘道德而浮游则不然。按照事物的德性去做该做的事情，但又不被事物所支配。&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>看重自己的身体把它等同于看重天下，于是就可以把身体寄托于天下（这里这么说的原因是如果你爱惜自己的身体向把一艘船藏到山沟里一样，不让人发现，但第二天还是被人偷走了一样，如果你把船藏于天下，那么不管怎么样船都不会被偷走。）。爱惜自己身体等同于爱惜天下，于是可以把它寄托于天下。&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%93%B2%E5%AD%A6/">哲学</a></li>
  </ul>
</div>
            </header>
<h1 id="费尔巴哈提纲">费尔巴哈提纲</h1>

<p>一</p>
<p>　　从前的一切唯物主义（包括费尔巴哈的唯物主义）的主要缺点是：对对象、现实、感性，只是从客体的或者直观的形式去理解，而不是把它们当作感性的人的活动，当作实践去理解，不是从主体方面去理解。因此，和唯物主义相反，能动的方面却被唯心主义抽象地发展了，当然，唯心主义是不知道现实的、感性的活动本身的。费尔巴哈想要研究跟思想客体确实不同的感性客体：但是他没有把人的活动本身理解为对象性的［gegenständliche］活动。因此，他在《基督教的本质》中仅仅把理论的活动看作是真正人的活动，而对于实践则只是从它的卑污的犹太人的表现形式去理解和确定。因此，他不了解“革命的”、“实践批判的”活动的意义。</p>
<p>二</p>
<p>　　人的思维是否具有客观的［gegenständliche］真理性，这不是一个理论的问题，而是一个实践的问题。人应该在实践中证明自己思维的真理性，即自己思维的现实性和力量，自己思维的此岸性。关于思维——离开实践的思维——的现实性或非现实性的争论，是一个纯粹经院哲学的问题。</p>
<p>三</p>
<p>　　关于环境和教育起改变作用的唯物主义学说忘记了：环境是由人来改变的，而教育者本人一定是受教育的。因此，这种学说一定把社会分成两部分，其中一部分凌驾于社会之上。</p>
<p>　　环境的改变和人的活动或自我改变的一致，只能被看作是并合理地理解为革命的实践。</p>
<p>四</p>
<p>　　费尔巴哈是从宗教上的自我异化，从世界被二重化为宗教世界和世俗世界这一事实出发的。他做的工作是把宗教世界归结于它的世俗基础。但是，世俗基础使自己从自身中分离出去，并在云霄中固定为一个独立王国，这只能用这个世俗基础的自我分裂和自我矛盾来说明。因此，对于这个世俗基础本身应当在自身中、从它的矛盾中去理解，并在实践中使之革命化。因此，例如，自从发现神圣家族的秘密在于世俗家庭之后，世俗家庭本身就应当在理论上和实践中被消灭。</p>
<p>五</p>
<p>　　费尔巴哈不满意抽象的思维而喜欢直观；但是他把感性不是看作实践的、人的感性的活动。</p>
<p>六</p>
<p>　　费尔巴哈把宗教的本质归结于人的本质。但是，人的本质不是单个人所固有的抽象物，在其现实性上，它是一切社会关系的总和。</p>
<p>　　费尔巴哈没有对这种现实的本质进行批判，因此他不得不：</p>
<p>　　（１）撇开历史的进程，把宗教感情固定为独立的东西，并假定有一种抽象的——孤立的——人的个体。</p>
<p>　　（２）因此，本质只能被理解为“类”，理解为一种内在的、无声的、把许多个人自然地联系起来的普遍性。</p>
<p>七</p>
<p>　　因此，费尔巴哈没有看到，“宗教感情”本身是社会的产物，而他所分析的抽象的个人，是属于一定的社会形式的。</p>
<p>第八条</p>
<p>全部社会生活在本质上是实践的。凡是把理论引向神秘主义的神秘东西，都能在人的实践中以及对这个实践的理解中得到合理的解决。</p>
<p>九</p>
<p>直观的唯物主义，即不是把感性理解为实践活动的唯物主义至多也只能达到对单个人和市民社会的直观。</p>
<p>十</p>
<p>　　 旧唯物主义的立脚点是市民社会，新唯物主义的立脚点则是人类社会或社会的人类。</p>
<p>十一</p>
<p>　　哲学家们只是用不同的方式解释世界，问题在于改变世界</p>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/z1-%E5%93%B2%E5%AD%A6/">Z1-哲学</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E5%89%8D%E7%AB%AF/">前端</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%BB%9C/">网络</a></li>
    <li><a class="term-link" href="./tags/%E7%BD%91%E7%AB%99/">网站</a></li>
  </ul>
</div>
            </header>
<h1 id="如何用旧电脑搭建自己的服务器">如何用旧电脑搭建自己的服务器？</h1>

<p>拥有一个属于自己的服务器个人感觉就很赞，我最初是在不买公网IP情况下，用一台电脑做服务器，然后另外一台电脑可以远程访问，部署网站，然后别人可以访问这个网站，这样一个功能。如果你也有这样的想法还请阅读下去，希望自己的经验对你有所帮助。</p>
<h2 id="所需设备">所需设备</h2>
<p>一台旧电脑，一台目前在使用的电脑。</p>
<h2 id="在旧电脑上安装natapp程序">在旧电脑上安装natapp程序</h2>
<p>在百度上搜索NATAPP，或点击这个链接:<a href="https://natapp.cn/" target="_blank">NATAPP</a>,</p>
<p><a href="#R-image-b4b79f069aba4ed7252bf8a8d24d4636" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-02%20113627.png" alt="网站首页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-b4b79f069aba4ed7252bf8a8d24d4636"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-02-02%20113627.png" alt="网站首页面" class="lightbox-image        " loading="lazy"></a></p>
<p>进入网站后先简单注册一下用户,顺便实名认证一下，因为买隧道会提示需要实名，接着点击首页下载自己的电脑系统对应版本，我的是Windows（下面的测试也是基于Windows）</p>
<p><a href="#R-image-0afaf8968735008d9a5a15543fa27306" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE1.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0afaf8968735008d9a5a15543fa27306"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE1.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>下载好后解压文件，得到如下图程序：</p>
<p><a href="#R-image-16b4bf64ab1a7c58d7d97ce7e5220862" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE2.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-16b4bf64ab1a7c58d7d97ce7e5220862"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE2.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>在解压文件下新建一个文件： <code>config.ini</code>,做好这一步后我们去购买免费的隧道，如下图：</p>
<p><a href="#R-image-6ab25df7c3b04cc381bff2f5cd6efd4c" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE3.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6ab25df7c3b04cc381bff2f5cd6efd4c"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE3.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>点击网站的文档，然后点击教程/文档里的 <strong>使用本地配置文件config.ini</strong> 文章，</p>
<p><a href="#R-image-457b04439784f88537c99a89f6f59ca0" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE6.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-457b04439784f88537c99a89f6f59ca0"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE6.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>然后复制里面的配置信息：</p>
<p><a href="#R-image-69a9070145ed746f2e8449568eed0e97" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE7.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-69a9070145ed746f2e8449568eed0e97"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE7.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-config.ini" data-lang="config.ini"><span style="display:flex;"><span><span style="color:#75715e">#将本文件放置于natapp同级目录 程序将读取 [default] 段</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#在命令行参数模式如 natapp -authtoken=xxx 等相同参数将会覆盖掉此配置</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#命令行参数 -config= 可以指定任意config.ini文件</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">[default]</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">authtoken</span><span style="color:#f92672">=</span>                      <span style="color:#e6db74">#对应一条隧道的authtoken</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clienttoken</span><span style="color:#f92672">=</span>                    <span style="color:#e6db74">#对应客户端的clienttoken,将会忽略authtoken,若无请留空,</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">log</span><span style="color:#f92672">=</span><span style="color:#e6db74">none                        #log 日志文件,可指定本地文件, none=不做记录,stdout=直接屏幕输出 ,默认为none</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">loglevel</span><span style="color:#f92672">=</span><span style="color:#e6db74">ERROR                  #日志等级 DEBUG, INFO, WARNING, ERROR 默认为 DEBUG</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">http_proxy</span><span style="color:#f92672">=</span>                     <span style="color:#e6db74">#代理设置 如 http://10.123.10.10:3128 非代理上网用户请务必留空</span></span></span></code></pre></div><p>在字段<code>authtoken</code>后面值在我的隧道配置里可以找到，如下：</p>
<p><a href="#R-image-34c9bbb6a501fcc6470eaf97bb4a8427" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE4.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-34c9bbb6a501fcc6470eaf97bb4a8427"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE4.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>复制下图<code>authtoken</code>的值填到config.ini文件里</p>
<p><a href="#R-image-a72fdccc6abf0e74f4db175e7e95bcea" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a72fdccc6abf0e74f4db175e7e95bcea"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>我这边演示的效果如下：</p>
<p><a href="#R-image-ca58e2147fd81edb9ea23ffaafec5bcb" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE8.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-ca58e2147fd81edb9ea23ffaafec5bcb"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE8.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a>
<a href="#R-image-6dd44eeae50cec3c425abe13297adce2" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE9.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-6dd44eeae50cec3c425abe13297adce2"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE9.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>完成上面的操作后，我们运行NATAPP程序，结果如下：</p>
<p><a href="#R-image-0545c326be8d56f925f17e36c7469d0a" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE10.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-0545c326be8d56f925f17e36c7469d0a"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE10.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>你会得到一个随机的网址，这个网址指向你的本地端口，当你有网站挂载到本地端口时，你就可以通过网址访问到你的本地端口网址，内网外网都可以，但是这个网址每一次运行都会不一样，这点需要注意，然后就是端口的设置，看下图：</p>
<p><a href="#R-image-07a6df7375869d83f2f48bffb057532f" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-07a6df7375869d83f2f48bffb057532f"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE5.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>我这里写的的端口是1313，如果你网站运行后不在1313，例如你运行网站后，本地的网站启动端口是8080.那你就把这个地方的1313改为8080就可以了。</p>
<p>下面我们举个例子看看，假设我现在我需要外网的网友访问我挂在在自己电脑本地的网站，那们在做好上面的操作后我先去启动自己的网站，这里使用hugo的网站模版，用code程序打开网站模版，然后调出终端，在终端输入命令 <code>hugo server</code> ,表示启动网站，如下图：</p>
<p><a href="#R-image-21c8410562dbc2b0efd4537a3ce9bc27" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE11.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-21c8410562dbc2b0efd4537a3ce9bc27"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE11.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>然后去复制刚才运行NATAPP程序后的网站，在浏览器中打开，我们先试一下局域网能不能访问，结果如下：</p>
<p><a href="#R-image-170d74ae72fa98934b0839f05d715bd8" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE12.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-170d74ae72fa98934b0839f05d715bd8"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE12.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>将网站发给自己的朋友，测试外网是否可以访问，</p>
<p><a href="#R-image-a88830c76d77d70ee41704ed021fe6be" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE13.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-a88830c76d77d70ee41704ed021fe6be"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE13.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>结果是外网可以正常可以访问。</p>
<p><a href="#R-image-17c87b8ee61616f67b26fa87af96101b" class="lightbox-link"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE14.png" alt="下载页面" class="figure-image        " style="height: auto; width: auto;" loading="lazy"></a>
<a href="javascript:history.back();" class="lightbox-back" id="R-image-17c87b8ee61616f67b26fa87af96101b"><img src="./branch-bundle-1/%E5%A6%82%E4%BD%95%E7%94%A8%E6%97%A7%E7%94%B5%E8%84%91%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8/%E5%9B%BE14.png" alt="下载页面" class="lightbox-image        " loading="lazy"></a></p>
<p>那么到这里你的电脑其实就充当了一台服务器，将网站放到了你电脑上，只要你的电脑保持开机状态那么别人就可以一直访问你的网站，或许NATAPP网站还有别的有趣功能，所以你不妨去摸索摸索，所不定可以找到多次启动NATAPP指向你本地的网址不变，你也就不用每次启动后都要发新的网址给对方了。</p>
<p>那么其实到这里就差不多了，但是我们还需要用一台电脑控制另一台电脑，简而言之就是电脑的远程登录，其实电脑远程登录有许多的方法，这里我需要借助一个来实现内网穿透，其实上面的旧电脑变服务器也是使用了内网穿透，

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E5%A4%87%E5%BF%98%E5%BD%95/">B1-备忘录</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%BB%8F%E5%8E%86/">经历</a></li>
  </ul>
</div>
            </header>
<h1 id="创建hugo静态网站的经历">创建hugo静态网站的经历</h1>


<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>
<h2 id="一为什么要创建属于自己博客网站">一、为什么要创建属于自己博客网站</h2>
<p>自从进入大三的学习，自己接触了许多开发板、以及七七八八的软件，个人记忆力又不咋地，平时很容易把重要或者重复的知识忘记，所以我希望做一个网站记录自己所学的知识，方便查找，但我没学<strong>JS</strong>，深入学又耗费时间，如果你也有我的一些情况，想自己创建一个网站“玩玩”，那么请看下去，希望自己的一些分享能对想短期内创建静态网站、且没学过网站设计的朋友有所帮助。</p>
<h2 id="二选择静态网站布局工具以及远程仓库">二、选择静态网站布局工具以及远程仓库</h2>
<h3 id="1工具的选择">1、工具的选择</h3>
<p>在这里我就只推荐<strong>hugo</strong>，因为本人用的就是hugo，其他的并不是很了解（如果你有更好的方法还请通过留言告诉我，谢谢！），首先确定自己要装在哪个系统上，比如装在Windows、Linux或者Mac（苹果系统），确定好这个后你就去网上搜安装方法即可，一定要搜和自己电脑系统有关的安装方法，不然安装会走很多坑的。
<strong>Windows</strong>系统。我建议使用choco工具在终端上安装，如果电脑没安装choco工具，还请自行安装。
<strong>Linux</strong>系统。首先确定自己的Linux的发行版本，举个例子，像<strong>红帽公司</strong>的和ContentOS的，这两个发行版本使用的工具可能就不一样，像ContentOS使用的是工具Yum工具安装的，还请你在网上自行搜索。
<strong>Mac</strong>系统。使用<strong>brew</strong>工具进行安装，不知道怎么用brew还请网上搜一下。
下载好后使用如下命令检查是否安装成功。</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">verser</span></span></span></code></pre></div><h3 id="2远程仓库的选择">2、远程仓库的选择</h3>
<p>因为要把网站的相关信息放到网上，一遍搜索查找，我们需要一个远程的仓库来装这些数据，无疑github是比较好的选择，当然Gitee、gitLab这些应该也可以（本人没有过）。至于为什么选github我想你只要稍微了解一点IT这行的，多少都知道其原因，不知道也没关系，只要能存放我们的网站数据就行。
首先你需要去注册一个github账号，并掌握在线创建、删除、导入和下载仓库，以及文件的上传、删除修改等操作，这些其实并不是很难，刚开始需要你换一点时间，详细请上网搜索。</p>
<p>当我们hugo下载好和仓库创建等操作都学会后我们就可以开始操作了。</p>
<h2 id="三仓库创建与静态网站布局">三、仓库创建与静态网站布局</h2>
<p>仓库创建最好是和自己github的账户名字一样，且都是小写，然后后面跟着
<strong>.github.io</strong>,例如：</p>
<hr>
<pre><code>wang32.github.io
</code></pre>
<p>这是比较稳妥的做法，如果你不想这么做还请自己花时间去琢磨别的方法。接着我么创建一个空项目，什么都不需要哦!</p>
<p>下一步是静态网站的部署，首先你需要下载一个hugo的主题，也就是用别人的网页主题作为自己网站的基础，这样呢我们及时没学过JS也可以部署自己的网站。
创建一个目录，比如<strong>myblog</strong>，接着用code打开这个目录，在code编译器中打开终端窗口监视器，在里面输入命令</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>   <span style="color:#a6e22e">hugo</span> <span style="color:#a6e22e">new</span> <span style="color:#a6e22e">site</span></span></span></code></pre></div><p>这个时候myblog目录下会生成一个<strong>theme</strong>的目录，用来放主题，把下载好的hugo主题放在该目录下，在使用如下命令：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    <span style="color:#a6e22e">hugo</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">theme</span>=&lt;<span style="color:#a6e22e">主题名字</span>&gt;  <span style="color:#f92672">--</span><span style="color:#a6e22e">baseURL</span>=<span style="color:#e6db74">&#34;&lt;你github仓库的路径&gt;&#34;</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">buildDrafts</span></span></span></code></pre></div><p>举个例子：</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>   <span style="color:#a6e22e">hugo</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">theme</span>=<span style="color:#a6e22e">m10c</span>  <span style="color:#f92672">--</span><span style="color:#a6e22e">baseURL</span>=<span style="color:#e6db74">&#34;https://wung32.github.io/&#34;</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">buildDrafts</span></span></span></code></pre></div><p>上面m10c是主题的名字，也就是你下载的hugo主题名字，而https://wung32.github.io/仓库路径。</p>
<p>在这你需要注意：如果不是Windows系统这的<strong>baseURL</strong>可能写为<strong>baseUrl</strong>,要确定这件事就去看<strong>hugo.tolm</strong>文件，有的主题写为<strong>config.tolm</strong>,里面的第一二行就会提到baseURL，注意这里的要去主题目录里找。而不是在你创建的目录myblog下找。
运行上面的代码没问题就会在你创建的myblog目录下产生一个<strong>public</strong>的目录，里面装的就是你的网页信息。</p>
<p>接着使用git命令把这个文件推送到远程的仓库，一般的步骤如下：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">    git init #初始化：本地建库（即文件夹）
    git add  #添加到仓库：代码文件放入本地库，
    git commit -m “注释内容” #提交时要给注释
    git remote add origin https://github.com/xu-xiaoya/Elegent.git #远程仓库关联

    git push (-u) origin master #本地仓库的代码推送到远程仓库Github上</code></pre></div><p>如果报错：</p>
<hr>
<pre><code>error: RPC failed; HTTP 504 curl 18 HTTP/2 stream 7 was reset
send-pack: unexpected disconnect while reading sideband packet
fatal: the remote end hung up unexpectedly
Everything up-to-date
</code></pre>
<p>那么加一句：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-git" data-lang="git">    git config --global http.postBuffer 524288000</code></pre></div><p>接着继续推送就是了。</p>
<p>然后去自己的仓库，点击设置，找到Page选项，有个<strong>Custom domain</strong>，在那里写上你的网站名称。</p>
<h2 id="四买一个域名">四、买一个域名</h2>
<p>我在没买之前网页一直加载不出来，自己也不知道为什么（如果你知道不用买域名也可以实现网站部署还请告诉我，谢谢啦！）。所以我自己是买了一个六块钱的域名的，试用期一年；当你买一个域名后要记得去解析域名，然后把解析的域名写到上面说的<strong>Custom domain</strong>那个地方，比如你解析得到的域名是：myblog.wang32.com,那么你就写这个上去。</p>
<p>如果不知道怎么买。怎么解析，那么——是的，一样上网查一下。</p>
<h2 id="五网站的优化">五、网站的优化</h2>
<p>这个我不建议你一个人慢慢磨，慢慢的去网上找方法，其实制作主题的作者已经把怎么基于他的主题做出自己的网站的方法了，所以你老老实实的跟着作者的文档走就是了，实在有些地方不懂的在查一查看。</p>
<h2 id="补充">补充</h2>
<h4 id="1为什么我插入的图片无法显示">1、为什么我插入的图片无法显示？</h4>
<p>图片的显示：首先要看你的主题是基于什么语言写的，比如我的是markdown,对于这个语言只需要使用：</p>
<div class="wrap-code highlight"><pre tabindex="0"><code class="language-hugo" data-lang="hugo">    ![nihao](../../../public/webfonts/fa-brands-400.svg)</code></pre></div><p>上面的这个方法就可以让图片显示，但实际上不一定能可以，因为hugo有个目录创建规则——<strong>Page Bundles</strong>(连接：https://www.rectcircle.cn/series/hugo/content-management/page-bundles/)，如果不按照这个规则创建，那么你使用别人的主题，插入图片时可能无法显示。</p>
<p>光是上面这点我就搞了一个星期，所以还是希望你好好看一下Page Bundles文档。</p>
<p>今天先到这了……
2023年12月11日</p>
<hr>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b2-%E5%A4%87%E5%BF%98%E5%BD%95/">B2-备忘录</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="二网站优化备忘录">二、网站优化备忘录</h1>


            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">二、网站优化备忘录 的子部分</h1>
          <article class="chapter">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></li>
  </ul>
</div>
            </header>
<div class="article-subheading">目录 10</div>
<h1 id="1目录与子目录">1.目录与子目录</h1>

<p>不论是创建首页页面，还是左边框的选项，归根结底它们都是“目录”，从根上说，你需要创建一个目录然后在目录里面创建一个.md文件来装这个目录或说显示这个目录的内容。</p>
<h2 id="首页的创建">首页的创建</h2>
<p>创建首页使用了命令</p>
<hr>
<blockquote>
<p>hugo new &ndash;kind home _index.md</p>
</blockquote>
<hr>
<p>而后产生的页面，它自动生成头文件</p>
<hr>
<pre><code>+++
archetype = &quot;home&quot;
title = &quot;&quot;
+++
</code></pre>
<hr>
<p>值得注意的是，如果你用命令</p>
<hr>
<blockquote>
<p>hugo new site myblog</p>
</blockquote>
<hr>
<p>创建了一个myblog的目录，那么你在里面操作
<a href="%22#ff4589%22">hugo new &ndash;kind home _index.md</a>
的时候,用于显示首页的文件<a href="%22#ff4589%22">_index.md</a>会自动产生在content文件里。</p>
<h2 id="创建章节的方法">创建章节的方法</h2>
<p>使用命令：</p>
<hr>
<pre><code>hugo new &lt;chapter&gt;/&lt;name&gt;/_index.md
</code></pre>
<hr>
<p>或者：</p>
<hr>
<pre><code>hugo new &lt;chapter&gt;/&lt;name&gt;.md
</code></pre>
<hr>
<p>在创建章节的时候需要加上<code>alwaysopen = false</code>,如下面的例子：</p>
<hr>
<pre><code>+++
alwaysopen = false
archetype = &quot;chapter&quot;
title = &quot;2.AndroidStudio&quot;
weight = 20
+++
</code></pre>
<hr>

<div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
  <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
  <ul class="box-content attachments-files">
  </ul>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/%E5%8D%9A%E5%AE%A2/">博客</a></li>
    <li><a class="term-link" href="./categories/%E6%96%87%E7%AB%A0/">文章</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%A8%A1%E7%89%88/">模版</a></li>
  </ul>
</div>
            </header>
<h1 id="2常用模版">2.常用模版</h1>

<h2 id="代码分制表">代码分制表</h2>
<p>以<code>&lt; tabs title=&quot;file name&quot; &gt;，&lt; /tabs &gt;</code>结尾；
然后里面写以<code>% tab title=&quot;code name&quot; style=&quot;info&quot; color=&quot;blue &quot;  %，% /tab %</code>结尾
他们都需要用<code>{{}}</code>括起来

<div class="tab-panel" data-tab-group="shortcode-parameter">
  <div class="tab-nav">
    <div class="tab-nav-title">&#8203;</div>
    <button
      data-tab-item="代码"
      class="tab-nav-button tab-panel-style cstyle initial active" tabindex="-1"
      onclick="switchTab('shortcode-parameter','代码')"
    >
      <span class="tab-nav-text">代码</span>
    </button>
  </div>
  <div class="tab-content-container">
    <div
      data-tab-item="代码"
      class="tab-content tab-panel-style cstyle initial active">
      <div class="tab-content-text">

<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>{{&lt; <span style="color:#a6e22e">tabs</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;hello.&#34;</span> &gt;}}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码块一
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{{<span style="color:#f92672">%</span> <span style="color:#a6e22e">tab</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;py&#34;</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">```markdown
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    **这里写代码**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ```</span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">%</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">tab</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span><span style="color:#75715e">//代码块二
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{{<span style="color:#f92672">%</span> <span style="color:#a6e22e">tab</span> <span style="color:#a6e22e">title</span>=<span style="color:#e6db74">&#34;sh&#34;</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">```markdown
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    **这里写代码**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    ```</span>
</span></span><span style="display:flex;"><span>{{<span style="color:#f92672">%</span> <span style="color:#f92672">/</span><span style="color:#a6e22e">tab</span> <span style="color:#f92672">%</span>}}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{{&lt; <span style="color:#f92672">/</span><span style="color:#a6e22e">tabs</span> &gt;}}</span></span></code></pre></div></div>
    </div>
  </div>
</div></p>
<h2 id="附件">附件</h2>
<p>在双花括号里写：<code>attachments color=&quot;fuchsia&quot; icon=&quot;fab fa-hackerrank&quot;</code>，即可，</p>
<div class="wrap-code highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span>    {{<span style="color:#f92672">%</span> <span style="color:#a6e22e">attachments</span> <span style="color:#a6e22e">color</span>=<span style="color:#e6db74">&#34;fuchsia&#34;</span> <span style="color:#a6e22e">icon</span>=<span style="color:#e6db74">&#34;fab fa-hackerrank&#34;</span> <span style="color:#f92672">%</span>}}</span></span></code></pre></div><p>效果如下：

 <div class="box attachments cstyle default" style="--VARIABLE-BOX-color: fuchsia;">
   <div class="box-label"><i class="fab fa-hackerrank"></i> 附件</div>
   <ul class="box-content attachments-files">
   </ul>
 </div></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/b1-%E5%A4%87%E5%BF%98%E5%BD%95/">B1-备忘录</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          <article class="home">
            <header class="headline">
            </header>
<h1 id="三小--说">三、小  说</h1>


<ul class="children children-li children-sort-">
	
<li><a href="./textbook/%E4%BA%BA%E7%89%A9%E5%85%B3%E7%B3%BB/">人物关系</a><p>木尸王朝 1.文中的人类变成树木的原因是什么？ 与金钱绑定的一种木材，注定了她会给人类带来财富，当我可以使用金钱来奴役别人时，金钱不再是一般等价</p></li>
<li><a href="./textbook/%E5%90%9B%E7%BB%98%E8%AF%AD/">君绘语</a><p>第一章 与君初相识 高中那会儿我老失眠，原因一言难尽。 记得有一次我去吃饭，遇到张君，我们聊闲聊中，谈到了我失眠的事，张君听了说，他们有个朋友以睡</p></li>
<li><a href="./textbook/%E7%99%BD%E5%94%90%E6%88%98%E7%BB%9B/">白唐战绛</a><p>“时间的真的存在吗？” 我很意外王妈为什么会问我这样的问题，王妈小时候家境不好，没有机会上学，她对我说过，去学校上学的次数十个手指都数得过来。</p></li>
<li><a href="./textbook/%E9%98%BF%E7%89%9B%E9%98%BF%E8%8A%B1/">阿牛和阿花的爱情故事</a><p>牛村与花村仅隔一片红树林，深秋里，满山的红叶铺天盖地，牛村的村尾是个好地方，常聚着城里来的人，就是离阿牛家远了些。 “嘿！ 阿牛。你要老婆不……</p></li>
<li><a href="./textbook/%E6%AE%8B%E6%9C%A8%E5%90%BC/">时空国度-木尸王朝</a><p>第一章 序 火车站往东沿着才华路步行十分钟便到衡岭财经学院，这条路王肖一年会走五六次——多的是回家或回校，他的理想大学是南国大学，虽与之擦肩而过</p></li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">三、小  说 的子部分</h1>
          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%88%B1%E6%83%85/">爱情</a></li>
    <li><a class="term-link" href="./tags/%E6%A0%A1%E5%9B%AD/">校园</a></li>
  </ul>
</div>
            </header>
<h1 id="人物关系">人物关系</h1>

<h2 id="木尸王朝">木尸王朝</h2>
<p>1.<strong>文中的人类变成树木的原因是什么？</strong></p>
<p>与金钱绑定的一种木材，注定了她会给人类带来财富，当我可以使用金钱来奴役别人时，金钱不再是一般等价物，而是一种凌驾于身上奴役人的力量。牧盛发现死去的实体与活着的尸体在被桃花源的涌泉浸泡后会变成一颗又一颗树苗，而且树苗长大后会在树底下凝结出一种叫血玉的物体，而这种血玉就是制造那个时代货币的原材料。</p>
<p>2.<strong>文中牧盛为什么要将人变成血木？</strong></p>
<p>为了获得更多的权利，为了改变那个时代。</p>
<p>3.<strong>文中所处的时代是以哪一个朝代为历史背景的？</strong></p>
<p>秦朝末年</p>
<p>4.<strong>文中人们的经济基础怎么样？</strong></p>
<p>农耕女纸，自给自足；</p>
<p>5.<strong>穷极祖为什么人为桃花源能给别人快乐</strong></p>
<p>人们不再需要货币进行物质交换。</p>
<p>6.<strong>这个故事的结局是什么？</strong></p>
<p>牧盛被处死，主人公逃离了桃花源。</p>
<table>
<thead>
<tr>
<th>时间</th>
<th>事件</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>丁亥年（项元帝3年）</td>
<td>年19岁的林太极（穷极祖）寻得桃花林</td>
<td></td>
</tr>
<tr>
<td>项元帝5年</td>
<td>牧盛来到了桃花林并发现了木尸的源头。<br>同年为继承家业牧府明争暗斗，一场浩劫即将来临。</td>
<td></td>
</tr>
<tr>
<td>项元帝7年</td>
<td>牧府被抄家，牧盛躲过一劫来到了与桃花源接壤的月牙沟，为了推翻项王朝开始收兵买马。</td>
<td></td>
</tr>
<tr>
<td>项元帝10年</td>
<td>牧盛开始暗地修筑宫殿，在月牙沟建立起自己的政权，战争一触即发</td>
<td></td>
</tr>
<tr>
<td>项元帝13年</td>
<td>牧盛大败项王朝于朔阳，同年项元帝驾崩，项郢即位，然而实际掌权的却是牧盛将领魏相王。<br>同年12月，王肖穿越来到了乌鸡山，加入了准备发动起义的郭康阵营。</td>
<td></td>
</tr>
<tr>
<td>项灵帝1年（庚子年）</td>
<td>郭康起义军与牧盛君发生冲突，王肖巧妙化解，<br>同年6月王肖离开起义军，在途中与登须被捕发配到月牙沟充当劳工，<br>同年7月中旬在月牙沟遇到了同样被抓的覃武，第二天，掌管劳工的司空英举行了一年一度的桃林总管竞选，在登须的帮助下，王肖成功杀入阵营，夺得总管职位；</td>
<td></td>
</tr>
<tr>
<td>项灵帝1年（庚子年）</td>
<td>（本来七月就出发的因为穷极祖有客，牧盛便将行程往后了一个月）八月中旬，王肖大伤初愈不久，前往桃花源的行程便开始了，在前往的途中，有许多人想着逃走，但都被抓了回来，而且被处死了。<br>九月初，王肖等人抵达了桃花林受到了当地的欢迎，来前司空英曾说，送人到就可以返回不必停留，不想在这遇到了牧盛的女儿寜儿（牧寜），发生了一些事，于是耽搁了几日，在这几天王肖渐渐发现了木尸的来历。</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>时间</th>
<th>事件</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>乌鸡山神庙</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<pre class="mermaid align-center zoomable">
---
title: 故事顺序
---
graph LR;
    A[ ] --&gt;|Link text| B(Round edge)
    B --&gt; C{&lt;strong&gt;Decision&lt;/strong&gt;}
    C --&gt;|One| D[Result one]
    C --&gt;|Two| E[Result two]
</pre>

<pre class="mermaid align-center">
mindmap
  root((niha))
    ni
    nikldl
    dsask
    daj
        dfv
        fas
        sds
</pre>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%88%B1%E6%83%85/">爱情</a></li>
    <li><a class="term-link" href="./tags/%E6%A0%A1%E5%9B%AD/">校园</a></li>
  </ul>
</div>
            </header>
<h1 id="君绘语">君绘语</h1>

<h2 id="第一章--与君初相识">第一章  与君初相识</h2>
<p>高中那会儿我老失眠，原因一言难尽。</p>
<p>记得有一次我去吃饭，遇到张君，我们聊闲聊中，谈到了我失眠的事，张君听了说，他们有个朋友以睡觉为己任的人。我不信，哪有这种人？</p>
<p>几天后张君竟把他介绍给了我，我们仨还一起去吃了饭，顺便逛了街，特别是喝奶茶的时候，张君故意给我和他有二人空间，整得像相亲似的，而后只是聊了些生活学习上的问题……在买花的时候我叫住他：“那个？”</p>
<p>没想到他没听见，“听说你以‘睡觉’为己任，”我提了声音又叫了一遍，搞得自己有些尴尬：“是真的？”</p>
<p>他一脸疑惑，又露出让人想笑的表情，道：“what?”</p>
<p>气氛顿时尴尬，我有些不好意思，手挡了挡额头，说了句，没什么。回头继续吃着烧烤便不再问什么，寻思着张君的话自己也信？</p>
<p>傍晚有些冷，校门就是我们的最后一站，老天在天角涂了层口红，不知道什么色号的，仔细看还挺美的。突然，岭正叫住了我，道：“都是为了我的下一代!”</p>
<p>我一时间没反应过来，以为他在与别人对话，不想他似有深情地看着我，补充道：“所以，你要好好睡觉才行！”</p>
<p>而后迷人之笑，怎么说呢？看着像在演戏一样，感觉这种桥段只有小说电视里才有，让我又懵又有些难为情，一时想不到什么好的词，只好顶着职业假笑示意“好的”。
“绘妹妹，”回寝室路上张君调侃道：“你要好好睡觉哦。”而后一阵哈哈大笑，我急忙想制止她，可越要这么做她就越要说，越说越开心。</p>
<p>回宿舍后我细品了岭正的话，总感觉有什么意思在里头，但时间久了便不再放在心上。</p>
<p>……</p>
<p>后来张君不怎么提他，我倒是期待着张君说点关于他的什么，至于为什么这么想，我不敢究其原因，也不想问张君 ，只想着张君能和我说说，明明是些琐碎的事罢了，再次回忆，便不由自主地想起那些人，那些事。</p>
<p>三个月后的一天，张君突然问我，还记得不得上次给你介绍的帅哥。我说，帅哥不记得了，只记得有个人说什么好好睡觉。随后聊的具体内容记不太清，依稀记得张君说，他转到了我们学校，而且在我们隔壁班。这算个惊喜吗……在我的生活里没那么多惊喜，也许眼睛会和惊喜反应，“生成”眼睛和平平无奇。</p>
<p>分班后的一天，我去找张君，问她在哪个班。张君告诉我，他们班在一楼，离食堂最近。她还说，一般来说，学校的食堂都挺干净的，外面的不怎么卫生，可绘啊！我还是喜欢吃外面的，特别是小帅哥带来的。</p>
<p>我说：&ldquo;又是用美色挣来的吧！&rdquo;</p>
<p>张君听到后哈哈笑了，笑声爽朗，我也跟着笑了起来，和她总能这么开心，但是，笑过之后我却突然感觉心情有些沉重。因为在上个学期期末考试结束后，我看到她和另外一个男同学坐在靠窗的位置上，他们俩个正在讨论着什么。他们的讨论是那样的热烈和激情，这是我从未见到过的。这一刻，我不知为何渴望着融入他们。</p>
<h2 id="第二章-仲夏夜之星">第二章 仲夏夜之星</h2>
<p>张君看着楼道下，一个小巧的女孩正一步一步走来，她知道是谁，长舒了一口气，转身对着小峰说道，小峰，我好像有点喜欢上你了。小峰一时还转不过来，刚刚还在讨论高考的试题，现在怎么……小峰没说什么，故意移开视线看着试题，张君，又继续道：</p>
<p>“可以牵牵我的手吗？一会儿，就一会儿。”张君抿了抿小嘴，“不说话就是默许。”张君不再犹豫，牵起了小峰的手。小峰面颊泛红，激动又开心，温暖的小手，好像柔软的云朵，微风拂过两腮，不经意让小峰忆起往事。他想：现在怎么也不想松开这个女孩的手了，因为这一天小峰已经等了很久很久了。</p>
<p>四年前的一个夜晚，我打球准备回宿舍，在收拾时，看到张君一个人独自坐在长椅上，篮球场两排明亮的灯光照在她的身上，泛着光，影子投影到地面综错散乱，被拉成常常的弧线，我走了过去，夜晚的榕树下凉得让人想就地睡觉，有些疲惫的我边走边拉伸着身体。</p>
<p>“唉，在这干嘛呢？”</p>
<p>“哟，打球呐。”张君寻着熟悉声音，看向小峰，确认是他后，说道：“出来乘凉。”</p>
<p>“切，女生宿舍不有风扇吗？”</p>
<p>“你以为想吹就吹啊！那也是要看舍友滴……女生的世界，你个男生不懂。”</p>
<p>小峰擦了擦头，看着地面道：</p>
<p>“谁tm大晚上跑出来乘凉啊？现在又不是夏季。”</p>
<p>“小峰，如果有个男生喜欢你……”张君长叹，又咽了咽口水，慵懒的说：“你们……”</p>
<p>“什么？男的！那不搞基吗？”</p>
<p>“呀，什么搞基啊，认真听我说嘛！”她继续道：“她还是你同学，你怎么办？”</p>
<p>“拒绝啊……为什么？当然是因为我喜欢女孩子啦，而且我接受不了……如果吗？哪有什么如果，你这是假设，这样的场景和画面我敢都不敢想像，怎么你搞……”
张君插话道：“什么什么呀！好好说话好不好。”</p>
<p>那天我想着要再次向张君表白，当时气氛尤为适宜，夜晚的操场很快人离影散，满天的星空捧着圆月，远远的传来葡萄架下的蟋蟀的奏鸣曲，好像拉小提琴一样，悠长而又慢慢地穿到我和张君这，操场的灯光还明着，铺洒一地，犹如海浪扑来，直冲张君的脚下，瞬间在身上如水浸透白纸般，我坐在长椅较暗的地方，一身好像穿着高雅的西服，一切都让我内心波涛汹涌。</p>
<p>我们似乎同时说出了对方的名字，我有些不好意思，他亦如此，我便让他先说。</p>
<p>“我被个女孩喜欢上了，她是我要好的朋友，看着小颗小颗的，纤弱又可爱，让我……不由自主产生保护她的心理，可是我不想因为这件事破坏我们的友谊……”</p>
<p>聊了会，交谈中张君告诉了我那人的名字，知道后也有些震撼，也许那时候不知道什么是喜欢，什么是爱，所以我不能理解她们的关系和情愫。正说着，我们看到校警摸着电筒，四处照射，似个夜间丛林里的猎人，我们也结束了相关的话题。</p>
<p>那后我渐渐的对她们之间的关系有些不自在起来，虽然如此，但我对张君的心却一直不变，对她仍存一丝丝希望，期待着有一天她回头，可以见到我还在原地等她归来，我无法忘记我与她们一同“出境”的尴尬处境，特别是虚假地做她男友，在喜欢她的人面前，把恋人的关系发挥到极致的事，我讨厌又害怕，犹如一场美梦，醒来却是肮脏的现实，噩梦般的现实。</p>
<p>记得有一次我还因此谎称生病，停了一周的课，可我忘不掉张君，我依旧喜欢她，我想和她来一次真正的恋爱，不一定热烈浪漫，但一定真实难以忘怀。在高中时我就知道她其实不喜欢我，可我还是默默等待着，在漆黑的夜晚做个可怜的人。</p>
<p>等我明白渐渐理解，和解这些事时，那已是许多年后的事了，张君也早已远嫁他乡，他乡的那颗星也一直在我可以看到的地方闪闪发光。</p>
<h2 id="第三章--剪不断理还乱">第三章  剪不断，理还乱</h2>
<p>苏绘走上楼梯，走廊传来张君的声音，他们讨论着今年高考各科试卷。</p>
<p>我纳闷一个文科生，一个理科生的，有什么好讨论的？我知道此刻我是羡慕的，想想自己摸底考自己就是一个失败者，失败者，失败者&hellip;&hellip;</p>
<p>我苦涩地一笑，恰巧张君见状问道：&ldquo;绘，怎么了？&rdquo;</p>
<p>我回过神，道：&ldquo;没什么。&rdquo;</p>
<p>等我微微抬头——张君和小峰的手十指相扣，看着好像他们的手被牢牢焊死，原来刚刚的男孩是小峰，为什么，为什么，那背影，那声音完全是另外的人。对我是那样的尊敬，玩笑都开不起，而对张君却畅言所欲，小峰， 小峰……我的内心一声又一声，就像远山传来的回音。</p>
<p>张君闻言大笑：&ldquo;哈哈哈&hellip;&hellip;你这个形象真好笑，对了告诉你哦，我和小峰确立关系了哦，今晚要不要庆祝一下下。”</p>
<p>张君说的小峰，是我认识的人，那会还初中，我一直觉得小峰比较内向，又有点高冷，可现在看来它和张君的性格都比较随意，所以关系也建立得很快，现在都是情侣了。我和张君是从小认识的，可以说我们是死党，我总喜欢调戏她和她的堂弟云，和他们关系特别好，我觉得我是他们最好的朋友，所以总是会开开些无伤大雅的玩笑。</p>
<p>“干嘛呢？开玩笑的，我和小峰没交往，”和小峰分开后，张君说了实话，可我当时并不相信，即使她说，有个人喜欢他，小峰为了避开她，他们就演演喽。</p>
<p>“我说嘛！君姐怎么会那么快换男朋友嘛！”</p>
<p>“啊？”张君看着我，愣了会儿，说道：“那不是。”随后我们鹅鹅地笑出声。</p>
<p>后面我和张君又聊了几句，然后就各回了各自己的寝室，我推开寝室进去，一片死寂充斥着寝室，我坐在床边，呆呆地看着天花板，突然觉得心里一阵空落落，仿佛心底里丢失了一个什么东西，很难受很难受。</p>
<p>张君，小峰和岭正分到了一个班，他们三个在班级里很低调，也不敢在学校里表露出他们三个的关系，毕竟那个班有些特殊，或许是不想引起别人的注意吧。不知道从什么时候开始自己躲在暗角默默地暗恋着岭正，对岭正的记忆自从分开后慢慢从脑海中消失，突然我想起，张君说的，我以后可能会是他的妻子，虽然我知道这是个假的概率，毕竟我和他还没到那一步，但心底里却不免升腾起一丝妄想，这些妄想也随着时间一天一天蒸发殆尽，为了不让这样的念头消失，我试着与他见面。我知道我配不上他，但是心底深处，却有些隐隐约约的期盼，期盼着有一天，我们能够在校园偶遇，在校园内，能够成为朋友，这样，我就能够时时刻刻，见证我和他在张君心目中的地位了。</p>
<p>一晃一年的时间，转瞬即逝。</p>
<p>我和张君、小峰、岭正他们的联系少之又少，除了偶尔见面聊聊，别的联系少之又少。</p>
<p>我们似乎都各奔东西了。</p>
<h2 id="第四章--再忆江南曲">第四章  再忆江南曲</h2>
<p>大一的一天晚上，我一个人躺在床上，想着和张君的点滴往事，我想起了我们初入江南高中时那个阳光开朗的张君，想起了那个总是喜欢逗我，却从来没有欺负我的云，想起了初中我第一次在学校的篮球场和小峰见面的那个早晨。</p>
<p>初中篮球场。</p>
<p>那一天天气格外炎热，有些受不了的直接不来，有些则虚弱地装一下，老师自然是信的，这样的天气搞不好真的会中暑呢。小峰注意班上的班花很久了，从军训那天开始，他就一直关注着她，报体育委员也是因为有她的名字，只可惜她没选上。这天，女子篮球组在练习，</p>
<p>“唉！她身边老跟一个家伙”</p>
<p>“什么家伙，人家有名字，叫苏绘。”</p>
<p>“耶，你们认识？”小峰的同学手靠在他肩上，说道：“什么时候的事。”</p>
<p>“唉，小学那会儿了，不过她是隔壁班的，她应该不记得我。”</p>
<p>小峰看要到他们组训练了，顾不了那么多了，直接上前与班花搭话。</p>
<p>我们第一次见面。小峰说：“如果你愿意当我的女朋友，我可以考虑带你进军篮球队。”当时张君愣了好一会，我也一样，这句话他是对张君说的，想想当时他是体育委员，我只不过是个连投球都不会，还硬要参加女子篮球队的家伙，自己真的傻得可怜。</p>
<p>张君看了看绘，对她说，绘可以帮我去拿一下纸巾吗，在那边的树底下，谢谢。</p>
<p>看着绘远去，张君提高了些声音，说道，你有那本事，我就答应。</p>
<p>小峰一脸春风拂面，说道：“你说的，别反悔。”</p>
<p>想到这我觉得那件事张君是刻意这么做的。</p>
<h2 id="第五章--终章">第五章  终章</h2>
<p>那时的我还是一个不谙世事的毛丫头，看着张君与小峰在一起，自己竟眼红了起来，那段时间一切的事情都只想着怎么和岭正在一起，我每天都在幻想着和他有朝一日可以成为男女朋友的画面，但是，一切的梦境都只是梦境而已，在现实里，我和他永远也不会在一起。想到那天鼓气勇气与岭正告白，却被拒绝的画面……眼泪不知怎的流出眼眶，打湿脸颊，黑夜抚摸着我，似乎在特意安慰，可我内心久久无法平静，久久无法入睡。</p>
<p>翻来覆去怎么也是那美好而又难过的岁月。</p>
<p>那天，我去学校图书馆借书，张君的书包落在图书馆里。张君让我在图书馆外面等一下，张君走了很久，我在图书馆外面站了好久好久，突然有人拍了我肩膀一下，我吓了一跳，猛地回头，见是云，我松了口气，拍了拍胸脯，责怪他道：&ldquo;怎么走路一点声音都没有，吓死我了。&rdquo;</p>
<p>云微笑着，道：&ldquo;我看你站在外面想事情想得很投入，所以就狠下心打扰你。&rdquo;</p>
<p>我问：&ldquo;你怎么在这里？&rdquo;</p>
<p>云说：&ldquo;我和朋友谈了点事儿，他们让我在这里等。&rdquo;</p>
<p>云的那些朋友都是高年级的学生，有男有女，看起来都不怎么好惹的样子，不用说也知道，云在这里肯定是认识不少人的，我心中不禁有些担忧，担心云在这里受到别人欺负。
我问：&ldquo;你朋友都是些什么人啊？&rdquo;</p>
<p>云道：&ldquo;是我以前的同学，现在都在这个学校里上学，我在这里认识不少人，以后有事儿，找我，我罩着你！&rdquo;</p>
<p>我道：&ldquo;好啊，那我有事儿了再找你吧！&rdquo;</p>
<p>云说：&ldquo;行！&rdquo;</p>
<p>云和我说的话很简单，但是，我知道他一定是一个善良的人。</p>
<p>在外面久久不见张君出来，我的内心莫名有些难受，等待也许就是这样……</p>
<p>想到这我才知道，那时的自己对张君是怎么样的感情，我就是只愿做信鸽脚下的信筒，即使有天会被丢弃，只要有一刻还在与她在一起，我所忍受的都是值得的，可我一直在她的庇护下，一步一步走向自己的未来，这种种美好而痛苦的记忆我永生难忘，这一生也不会再有。</p>
<p><strong>写于2021年6月</strong></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%82%AC%E7%96%91/">悬疑</a></li>
  </ul>
</div>
            </header>
<h1 id="白唐战绛">白唐战绛</h1>

<p>“时间的真的存在吗？”</p>
<p>我很意外王妈为什么会问我这样的问题，王妈小时候家境不好，没有机会上学，她对我说过，去学校上学的次数十个手指都数得过来。王妈的问题是显而易见的——时间是存在的，我想这么说，但还是如此回答了她：“王妈您怎么突然问我这个？”
“没有嘛，你们读书嘛！”她啊了一声，好像对我的答案有些失望，说道：“就想问问你，看你懂不懂。”</p>
<p>“时间是存在的，你看每天时间都在走，太阳升起，太阳西落……”我有些难受的说道，不知道为什么自己不知不觉的也编不下去了，觉得这个话题是不是太哲学了呢？</p>
<p>“从前呢，天上有个管理太阳升起，落下的神仙，人们管他叫乍，本来人死后去的地方也是有太阳的，后来就没有了，说是有一天乍在水边叫太阳下山的时候，看到一个老奶奶在水边哭，他就上去问，你怎么在这哭得这么伤心。那个老奶奶回答道，我不想离开我的丈夫，因为他一个人生活会很辛苦。这个时候乍才知道这个老奶奶是一个鬼魂，乍听完说，他在地上活得好好的，你应该高兴。老奶奶还在哭，边哭边抹着泪说，要是你每天让太阳晚点出来，晚点下山，人们就不会死那么早，我也会多陪陪自己的丈夫。乍听完那个老奶奶说完，慢慢的坐下来，跟老奶奶说，每个人心里都有一个太阳，如果把这个太阳丢掉，你就不会再说那样的话，你也就不会那么伤心了。说完乍把太阳收了回去就走了，从那以后死去的人生活的地方再也没有太阳，心里也没有了。”</p>
<p>听王妈娓娓道来的故事，我内心五味杂陈，我顺意点了点头，早已把王妈刚才的问题丢掉，后来又调皮的和王妈吐槽这个故事，为什么老奶奶不知道一天时间其实是一样的，即使白天变久了，一天还是二十四小时！王妈也只是笑笑，没在说什么，继续自己手里的针线活。</p>
<p>暑假漫长而又炎热，特别是在东州这一带地方，一天不开空调自己无法在房间里待下去，外面也是闷热，空气划过脸脖，抽离着细小的汗珠和油脂，黏着皮肤的汗珠让人不禁想抓一抓，今天的太阳也是同样的毒辣，闷热的大地烘烤着水面上的水葫芦，可水葫芦似乎未伤分毫，到是蒸熟了一旁的芭蕉——龇牙咧嘴的。</p>
<p>王妈家住在工厂旁不远处，每每早上六七点和晚上十或十一点就会看到许多打工人出现在小区楼下，他们总是拖着疲惫的身体上班，拖着疲惫的身体下班，在学校我总能看到一些人精神饱满的过着每一天，过着充裕的生活，想到这我不禁感叹：还是待在学校好啊！</p>
<p>自己来东州游玩也有些许天了，闲下来的时候总要睡午觉，因为住在工厂旁边，午觉的时候总能听到远处工厂传来的“轰隆”声，不是被惊醒，就是与梦境“重影”，构建着一些奇怪的梦境，前些天到处跑，也许是玩的太疯了，现在对外面的美食，风景一点兴趣都没有，只想静静地躺下，午觉醒后在阳台看到王妈在做针线活，于是便上前与她聊了会儿天，关于王妈提出的时间是否存在这一话题，我想大部分人都会回答“是的”吧，想想拿掉后人生活的一切岂不是都失去了本有的意义，不知道什么时候醒，那个点该吃饭，出去玩多久等等，涉及到时间的话题太多，没了时间概念的世界会很无聊的吧！</p>
<p>“王妈，我爸说我们明天就回家了，您要和我们回宁云吗？”我说道：“去我家玩几天呗！”
“明天就走了？”王妈停住了手里的针线活看着我问道。</p>
<p>“对啊，我爸说出来太久，没钱了。”后面一句是自己对父亲的调侃。</p>
<p>“哎，你爸打不准蒙你的呐！他呀哪是没钱，估计也是像你玩累了，”她一边朝着我笑，一边继续自己的针线活——转而问道，“你爸还是在你外公那个木厂吗？”</p>
<p>“早就不在了，几个月前的事情了。”</p>
<p>“你爸也是不容易，”她叹气道，我回答“也是”后，她继续道：“赘婿呢就是这样了，做什么都得看丈母娘家的脸色，你妈妈家也是呀……想想以前我从村里出来的时候，你妈妈家来的礼就是最贵的，那玩样现在还在我那木箱里呢？”
“是个什么东西呀，王妈？”</p>
<p>“是个织布机。”</p>
<p>“织布机是那个时候最贵的吗？”</p>
<p>“你不知道，那个时候我们苗家的姑娘衣服都是自己做的，街上也有卖，但穷人家哪买得起哦,织布机可以做嫁妆，可以做新年衣服……”</p>
<p>“那岂不是每家都得有才行？不然他们就没新衣服了。”</p>
<p>“是喽，是喽！”王妈笑着回答道：“那时候有的人来件衣服，来套棉被，还有的是直接给钱的……那时候家家都是得有个织布机，对我们苗族人来说要有的，有嘛都好喔，没有嘛叫人做都要做出来，所以织布机一对比起来就不一样了，你妈妈送我那件做得很好，听说是一个很厉害的木匠做的。”</p>
<p>“那等你忙完，带我去看看呗。”我倒要看看是什么高档货，王妈这么多年还留着。</p>
<p>从阳台往里走是大厅，大厅左边有两个房间，两个房子之间隔着上二层楼的楼梯，楼梯下有一道木门通往地下室，打开木门，随着一声喀吱的声音感觉自己走入封存已久的宝库，仓库楼梯扶手是钢焊接不久，下楼梯时能闻到焊接时留下的味道，其间夹杂着木质发霉的味道，沿着台阶往下走，右边挂着一些画和幼儿园、小学的奖状，奖状估计是大厅那边放不下而移到了这里的，奖状上写有王思芳和王季远姐弟两的，还有那个我熟悉的名字杨——白唐，在这边。王妈叫住了我，示意我往下走，我小跑下了楼梯，右拐再下一次楼梯就到了地下室的仓库，地下室就在大厅的下面，被一堵墙分成两半，另一半则是车库，走到楼下刚才木质发霉的味道很快就消散了，地下室灰尘很少，打扫的也很干净，从楼梯下来右手边堆积着许多破旧的书籍，在红色的书架上高高堆叠，远远看着给人一种难以接近的感觉，下边堆积的是一些工具和木质器件，洋枪的枪柄，木凳子，木长椅，甑子，锄头镰刀柄等等，还有很多我都不认识，在靠近车库的右下角就放着织布机，由于常年使用有些地方光滑亮泽，好像刚被涂上树脂漆一样，又好像一个精神抖擞的老奶奶。织布机一共有两台，王妈告诉我小的那一台是后来王爷爷自己做的，属于是织布机的改小版本，而小织布机旁边就是父母送王妈的织布机，现在去网上搜也能找到这种老款的木质织布机，唯一不同的是这台留存着王妈从出嫁到现在的种种回忆，梭子上的光泽，打纬中间因每次缝制衣服都会拉一下而有所磨损，这些也许就是勾起记忆的痕迹吧！雨落红花谢了春，莫熵增！日月颠倒长河归，同与故人醉。织布机上贴着贴纸，贴纸上写着一首这样的诗歌，虽我字字都认识，但古诗赏析什么的绝非我强项。</p>
<p>“王妈，这首诗是谁写的？”</p>
<p>“那里……哦，说不定是季远他们胡闹贴上去的，”她小心的撕下贴纸，又小声的骂了季远一通，接着说：“这就是那台织布机，你要是想学王妈教你，打不准那天自己给自己做嫁衣呢！”</p>
<p>“我吗？还是算了，我针线活也就那样，平时能缝缝补补自己的衣服就好了，至于做嫁衣……算了算了。”</p>
<p>“多会一样对自己也好的，但是现在人家都用机器弄了，什么衣服都可以弄出来，所以你们这群小鬼把老祖宗的东西都忘干净了。”</p>
<p>“新时代了嘛，不一样了王妈！”我尬笑的说道。</p>
<p>王妈笑了笑，似乎准备给我介绍什么，突然手机响了起来，王妈出去接了电话，我便独自一人看着织布机，怎么看也看不出它的高档所在，以及工艺精湛，或许我是我对这方面了解太少，想到这真为自己堪忧，自己到底该了解，该知道什么，越是深入思考这个问题自己就会陷入“无解”的死循环。</p>
<p>看到刚才的贴纸被王妈丢到了地上，我半蹲拾起贴纸，心里又默默念了一遍，王妈家会写诗的人，除了姐弟两还有谁呢，他吗，可他的语文水平不咋地呢，要写出诗来——一万个不可能！估计是在哪里摘抄的。我起身去看了上边的书籍，一些幼儿园到高中的课本七七八八的叠堆在一起，地上放着各个科目的习题试卷，还有一些配套资料，看到这些我也不禁想起自己的初中生活，想不到这么快就初中毕业了，不论是美好的，还是难过的事就这么过去，一去不复返了，我有时候会不经意间想起某个人，某件事，即使令人难过，那些画面还是会不间断的脑海里浮现，说“忘记那些痛苦难过的事，这些都过去了”的人一定是自欺欺人吧!我想恰恰是这些痛苦难过的事难以忘记，让我们学会珍惜现在，珍惜现在的每一天。</p>
<p><strong>写于2023年7月</strong></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E7%88%B1%E6%83%85/">爱情</a></li>
    <li><a class="term-link" href="./tags/%E6%B0%91%E9%A3%8E/">民风</a></li>
  </ul>
</div>
            </header>
<h1 id="阿牛和阿花的爱情故事">阿牛和阿花的爱情故事</h1>

<p>牛村与花村仅隔一片红树林，深秋里，满山的红叶铺天盖地，牛村的村尾是个好地方，常聚着城里来的人，就是离阿牛家远了些。</p>
<p>“嘿！ 阿牛。你要老婆不……不，只要你开……开……金口……”阿牛理着枯萎的草，寻声一看，是那跑腿的阿光，阿光无力地扶着杆，面红耳赤。</p>
<p>阿牛生硬地答道：“老婆？不要。”</p>
<p>阿光一身酒气，吐字不清，阿牛手头又忙着，便不再想理他，正要离开，不想阿光一把扯住他，断断续续的说道：“村尾……有靓妹哩！啊哈……看看去，保你……保你……爱。”</p>
<p>阿牛无奈道：“行了行了，我嘚去花村，忙着呢！”便离开了，而阿光还在牛槽旁自言自语，暗自欢喜着什么。</p>
<p>乌云渐渐压向红树林，此刻花村也许已倾盆大雨了吧，想到这阿牛便想回家拿伞，正要离开，一声声熟悉的笑声拉住了他的步子，寻声向桥下俯视，那寸头高鼻梁，小眼尖脸蛋，黝黑黄皮肤，臂粗高大个，影子印于桥头，此景定格于此时。</p>
<p>那熟悉的背影，那熟悉的声音，没错，她就是阿牛的青梅竹马——阿花，还有从小到大一直欺负他的阿狗。</p>
<p>“哎呀，你轻点……”说话的是阿花，她往前，阿光紧挨着，她手一拣，他手一搭；她手一捻，他手一抓。桥下，一男一女，你前我后，我左你右，动作形如流水，相当娴熟，此刻阿花的声音传到安流这儿，都是嗲里嗲气，而阿光的举止在阿牛眼里，那就是讥笑。</p>
<p>阿牛气得肝疼，怒骂道：“靠！这厮的真扫兴，呵。”把手里将给未来岳父大人的酒摔了一地，扭头不知将去哪里。一路上阿牛又气，又百思不得其解，他不明白，从小到大，阿花便是自己的玩伴，实打实的青梅竹马，渐渐的她成了阿牛的中意人，阿牛追阿花这些年也没有三心二意，她哭，阿牛安慰；她闹，阿牛捧哄；她病，阿牛照顾。为给她买生日礼物，阿牛千里迢迢，去城里挑玩偶，对于阿牛而言，他愿为阿花上刀山下火海，拼死拼命也要护着他，可是现在她却和别的男人在一起，还是自己憎恨，厌恶的男人。</p>
<p>阿花听到远处山林“哗哗”作响，又看了天气，便道：“哎，阿狗，要下雨了，咱们回家吧！说不准阿牛哥已经到花村了。”</p>
<p>“唉！花妹妹，”阿狗忙着收东西，向阿花追去，道：“你别急嘛。”又嘀咕了句，道：”整日阿牛哥，阿牛哥，你眼里就只有他吗？”</p>
<p>阿花在前边督促道：“狗子，你快点呀，雨要来了。”</p>
<p>“来了。”</p>
<p>自那后，阿牛觉得阿花已不再喜欢自己，但自己终又放不下她，可阿牛越想头脑子越乱，越想心里越烦，不久他便同阿光去了村尾。</p>
<p>那日大雨唏哩哗啦地下后，花村口也不见阿牛哥的踪影，阿花在自家门口，盼着盼着，盼了个寂寞。突然眼前一个身影，“阿牛哥——”她叫道，那人回头——咦！是阿狗，阿狗见了阿花大喜，道：“花……”还没说妹妹，阿花已关了门。阿花爸见她一脸愁，问问咋啦！她唉声叹气，她爸看着庭院外道：“你这娃儿……阿牛怕是这段都不来喽！”</p>
<p>阿花疑问道：“不来，为啥子嘛！”</p>
<p>阿huaba笑眯眯的道：“年轻人的那些事我哪懂得嘛！听隔壁张姨说，那天看到阿牛把酒摔在了桥头那哩。”</p>
<p>阿花愣了一愣，这才想：难不成……呀！阿花起身回了房，不一会儿便带门出去了。</p>
<p>她爸在院里喊道：“天快黑了，哪去……不吃饭啊！”</p>
<p>“不吃了，晚点会回来。”回声渐渐从远处传来，此时灯火已经渐渐亮起了。</p>
<p>一路上，阿花的回忆伴着喘气声，一段一段的在脑子里浮现。那天，“哎呀，你轻点，别把鱼给吓跑了。”阿花说道，
阿狗往阿花那靠了一靠说：“你现在这声音不就把他给吓跑了吗。”阿花无语反驳，一把推开了阿狗。她手一拣，阿狗手一搭，阿华厌恶地瞪了他眼；她手一捻，阿狗手一抓，阿花像抓狂的狒狒一样，怒斥道：“狗子，我告诉你，你最好给我老实点……男女授受亲，你不懂吗！”阿狗摸着后脑勺表示明白。可此景在按钮眼里，似乎是“别样”的风景。</p>
<p>然后一边跑心里还一边默念：二牛哥不是你想的那样，不是你看到的那样……你……你不要……</p>
<p>炎炎夏日，一天，阿牛上山背马草，午时正要回阿光家，在田道上遇到几个小伙子在偷窥田间的姑娘，路过时，听到他们议论那姑娘，且尽说些低下话，阿牛听不惯，这烦还在心头，二话不说，上去就是一拳，他们还没反应过来，阿牛又一勾拳，打得那些人七窍流血，这才停手。</p>
<p>姑娘见有动静，便前来阻止，阿牛呵斥道：“再见到你们说姑娘坏话，我就捆你们去犁田，打断你们的狗腿子……”</p>
<p>那些人见不妙，便纷纷离开。</p>
<p>“干嘛打他们……”</p>
<p>说话的正是田头头的姑娘——瑶妹，蓬松刘海，大麻花长辫，玉颜黛眉，肤白胜雪，水汪汪大眼，娇小玲珑，袅娜丰满，蔚蓝花衣，青黑长裤——真是乡间仙女。阿牛一辈子还真没见过这样的美女人，若不是心里住着阿花，或许此刻他内心早已小鹿也乱撞。他脸颊泛红又低了头。</p>
<p>突然严肃道：“那些混蛋偷看你还说你坏话，我……我听不惯低下的话，就揍了他们。”</p>
<p>瑶妹微微笑，绽出两个酒窝，道：“听不惯？是讨厌那样的人吧！”</p>
<p>“讨厌？”阿牛嘻嘻道：“姑娘看不是本地人，是外地来的吧！”</p>
<p>瑶妹答道：“不是噢！我的家……老家就在这的。”</p>
<p>阿牛接过瑶妹，端来的茶水望着瑶妹     ……</p>
<p>说着，瑶妹便要阿牛回家喝口茶，以表感谢，阿牛也不好回拒，便去了。</p>
<p>阿花那日去阿牛村找阿牛，没找着，探到阿牛已去了村尾，这天才早早从家里匆匆赶来，正午烈日灼心，阿花看到村尾就在半山腰上，这才为自己捏了把汗，心中也不由得欣喜了些。</p>
<p>“阿牛哥，你……你……”阿花盘扶在村口门柱上，道：“你这个负心汉啊，我以为你不来家吃饭，是咱们有误会了，不想你是有别的女人了。”</p>
<p>瑶妹一边揕着茶水，一边道：“还不知道你的名字呢？”</p>
<p>阿牛：“哦，我叫阿牛。”</p>
<p>瑶妹迟疑了会儿，说：“是阿牛村的牛哥哥吗？”</p>
<p>阿牛心一暖，笑咪咪道：“是的，牛村就只有我一个叫阿牛。”</p>
<p>“我刚从城里回来，真想去村里看看红叶林。”瑶妹看着村外，一面期待地道：“还有去花村划竹排……真的好想你去呢。”</p>
<p>“这离村里也不是很远，有时间你可以去看看，红叶林，花……”阿牛愣了一会儿才道：“花村那条江也很漂亮的……”</p>
<p>瑶妹看了看阿牛哥笑了笑，端茶水递给了阿牛哥。</p>
<p>他正要接过茶水，不想一阵“阿牛哥”，让一下他停住的手。</p>
<p>他一看——阿花。阿花边走边说，道：</p>
<p>“阿牛哥，你……你……”</p>
<p>阿花不小心摔倒在地，叫喊道：“你这个负心汉啊，我以为你不来家吃饭，是咱们那个误会，不想你是有别的女人了。”接着就是一阵哭。</p>
<p>阿牛急忙跑去扶阿花，那黄油脸，黏着土，蓬乱发，携着泥，小眼肿鼻，淡须大嘴，红色大花衣，黑色大长裤，无不散发着咸味，那猪腩大粗腿，墩墩似柱肚，
瑶妹见了大惊，但又觉得没有哪里不适。</p>
<p>阿牛正要扶阿花，不想一只手把他推开，那人道：“走开！你个负心汉，枉费花妹妹对你一片痴情。”</p>
<p>瑶妹对那人骂道：“哥，你干嘛推他……阿牛哥，你没事吧！”</p>
<p>阿花见到此景怒气冲天，立马起身，阿狗担心道：“唉！花妹妹……”</p>
<p>瑶妹一边扶起阿牛 ，一边询问他，没事吧，阿牛道：“阿花你怎么来。”阿花看到瑶妹扶着阿牛，欲说的因果一之间烟消云散，不经意间泪流满面，她哭着说 ：“阿牛你口口声声说喜欢我，可你离开就是为了见……见这样的女孩。”</p>
<p>瑶妹连忙解释：“花姐姐，我想这里面有什么误会。阿牛哥他……”</p>
<p>“住口！死厚脸皮你个婆娘，”阿花口吐碎沫怒斥道：“牛哥……那么喜欢我，你为什么要抢走他，你个毒辣女……”</p>
<p>瑶妹一脸委屈，说不出什么话来。</p>
<p>那流氓出来打断道：“阿花你够了！这是咱俩的事，跟她没关系。”</p>
<p>阿狗道：“啊，你又看不出啊，你是这样的人，脚踏两条船胆够肥的呀，我看你对阿花好是为了他家那几亩地吧，唉，话都说到这份上了，前些年他娘死也是跟这有关的吧”</p>
<p>阿牛大怒道：“你不乱说，行吗，没这回事，我对阿花好真心实意，不是图他家那几亩地。”</p>
<p>阿狗道：“呵呵，谁知道呢，人心难测，况且你现在对阿花移情别恋，呵我看你就不是个好东西，你就是馋他身子下贱！”</p>
<p>听到这阿牛更怒了，他道：“你说什么……”正说着，阿牛正想给他一拳，不想这个时候，阿花一脚，阿狗伏倒在地，</p>
<p>阿花大叫道：“放你娘狗屁，阿牛哥对我怎么样？用不着你左一个右一个。”</p>
<p>阿花转回头，对着阿牛说道：“阿牛哥，我一直觉得那天在桥上那件事是个误会，但是……”</p>
<p>阿狗一听到桥上，立马机灵了起来，抢在阿花前说道：“哦！我终于明白了，那天你摔酒在桥上是故意的吧，你就是想趁这个机会把阿花给甩了，听说那天不久，你就和阿光去了阿光家，阿光的姐姐一直中意你，这全村人都知道……呵！阿牛你够狠啊！”</p>
<p>阿花听了，声带似乎打了结，望向阿狗。</p>
<p>阿牛气头上来，便一拳打在了阿狗脸上，他两在地上狰狞不休，围观者左右难劝，突然，阿花大吼道：“行了！”一时间地上的他俩也停住了手。</p>
<p>阿花对着阿牛道：“我一直以为那天在桥头上的是个误会，但现在我觉得这确实不是个误会，你所看到的都是真的。阿狗对我比你好多了。”</p>
<p>说完阿花哭着跑回了村，阿牛坐在地上沉默了很久很久。</p>
<p>（上篇完）</p>
<p><strong>写于2020年</strong></p>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          <article class="default">
            <header class="headline">
<div class=" taxonomy-tags term-list cstyle  tags" title="Tags" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <ul>
    <li><a class="term-link" href="./tags/%E6%97%B6%E7%A9%BA%E6%97%85%E8%A1%8C/">时空旅行</a></li>
  </ul>
</div>
            </header>
<h1 id="时空国度-木尸王朝">时空国度-木尸王朝</h1>

<h2 id="第一章-序">第一章 序</h2>
<p>火车站往东沿着才华路步行十分钟便到衡岭财经学院，这条路王肖一年会走五六次——多的是回家或回校，他的理想大学是南国大学，虽与之擦肩而过，但南国大学也在衡岭，想到这他觉得这何尝不是一种好的选择。</p>
<p>“王肖，你参加社团了吗？要不要来我们财经社团。”舍友问道。</p>
<p>“话说王肖你参加什么社团了吗？”舍长小声的问道。</p>
<p>王肖放下手中的游戏，“农户养殖协会。”他生硬的说道，大伙都没听清，于是他又重复了一遍。这番话惹得另外一位舍友讥笑道：“还得是你，这才是我们水产品专业该去的。”</p>
<p>“平时干嘛的？”舍友认真的问道。</p>
<p>“我怎么知道，加了个会员就不见动静了。”王肖听着他的问题有些不耐烦的回答道，接着继续玩起了自己的游戏，不一会他又解释道：“好像要做干事这些才会有活干，我嘛就是去混分的。”</p>
<p>没人回答，不做声的何天宇笑了笑，缓解着尴尬的气氛，随后他们开始讨论了何天宇为什么笑？只是王肖不再想接收任何信息，对于这种场面他痛恨自己很多次了。</p>
<p>晚饭过后，王肖又是一个人去逛街，点了杯烤奶，又买了份炸鸡，边走边吃是他的习惯，果然到宿舍楼下仅剩半杯烤奶，今晚没课舍友都窝在宿舍里打游戏，王肖也不例外，为了打上王者王肖估计是要拼一晚了，他已经做好了打算，白云慢慢的擦拭着月亮，月亮的肤色也渐渐的皎洁明亮，在学校能听到公鸡打鸣是件难得的事，而王肖却不这么认为。</p>
<p>人有时候熬夜到四五点，便能把困意死死的钉在大脑疼痛之中，然后与似乎垂至暮年的心肝迎接那抹刺痛双眼的朝阳。</p>
<p>第二天，他早早起床洗漱，然后安安静静的离开宿舍，到校园那片似乎要撑破天的松林，聆听盛夏遗留下来的鸟鸣，还有那些新闻广播专业同学的嗓音，一切听起来为什么这么动听？宛若圣洁的教堂，只是他的教堂不一样。离上课还有十几分钟，他便起身拎包往教学楼走去，结果教室一个人都没有……</p>
<p>大家都这么懒的吗，就我一个先到，不会吧？他不想表露这份心情，可表情却如此诚实，洋溢着的微笑证明了他真实的内心，紧接着他开始不安，已经快上课了，一个人也没有，他掏出手机看了看宿舍群——一片死寂，“你们知道教室在哪吗？”这则消息在他指尖乱窜，几乎快隔空点在键盘上，不知道什么样的能耐才能让这样的消息同时背负希望与耻辱，想想发出去后会遭到舍友嘲笑，王肖便就此作罢。</p>
<p>“同学，这间教室被征用了！”一位女同学开门提醒道。</p>
<p>王肖哦了一声便快速离开了教室，走到楼梯口，他又来回看了看班级群才知道——教室改了，消息是昨晚发的，顿时王肖的那份心情跌落谷底——摔得很痛！</p>
<p>校运会的一天中午。</p>
<p>“又打包？！”何天宇开宿舍门后说道：“这小子，空调也不开。”</p>
<p>“是啊！”王肖小声的说道，似乎是说给自己听的：“不是很冷。”</p>
<p>“以前校运会没见这么冷的。”一位舍友说道。</p>
<p>“昨晚又到几点啊！”另一位舍友说道。</p>
<p>“两点这样吧！”王肖知道问的是他。</p>
<p>“我昨晚上厕所还看见他在玩，三点多这样！”何天宇说道：“小心点小子，身体支不住才懂错。”听到这王肖心里颤了颤，想想多少点已经无所谓，熬夜从来不看时间，看的是身体能坚持到什么时候。</p>
<p>“妈的，你们知道么！我们学校实验楼一楼男女厕所一样，上次我去出来一个女生，吓我一跳。”何天宇说道。</p>
<p>“我靠，真假啊……那哪个是那次呢？”一位舍友问道。</p>
<p>“谁知道，反正我以后不去了。”何天宇边调空调边说道。</p>
<p>……</p>
<p>晚饭过后王肖去剪头发时发现，自己发量比以前少了很多，看来最近的顾虑是对的，上次献血时医生告诉他，他肺部可能感染了，希望他能尽早去医院检查，这件事这次才放在他心上。</p>
<p>秋去冬来，远看青山带着白云草帽，不由觉得是冬天的景象。</p>
<p>“喂，能听到吗？”电话一头问道，听到这边答了嗯，那头接着问道：“医生怎么说？”</p>
<p>“肺部感染，还有什么胆红素过高，叫我过几天再去检查。”</p>
<p>“嗯，那去做好检查，务必把病治好，钱还够不够啊？”</p>
<p>“没多少了。”</p>
<p>“我待会微信转你，叫你妈妈过去看看你吧……”</p>
<p>“不用了，爸！”王肖打断道：“不用来了，麻烦……”王肖打心地不希望自己被一个外来人可怜。寒暄几句后，他便挂断电话，扯了扯帽子往公交站走去。</p>
<p>上周。</p>
<p>王肖去医院做了检查，疑似患了乙肝病毒，但具体结果还得等后面检查，医生让他不要过于担心，注意休息。走出医院的他不敢把这个消息告诉自己的舍友，自己也害怕传染给自己身边的人，似乎这个病能否患上，能否真的传染，是他说的算一样。</p>
<p>从学校大门直走是学校的图书馆，图书馆面朝东方，其后面是一片松林，穿过松林就到了学校的教学楼，为迎接八十年校庆，教学楼也翻了新，远远可以闻到涂漆的味道，早上的专业课还没有结束，王肖穿过人群，上楼赶往教室，赶上了三四节课，进门——后排早早坐满了人，唯独前排只有几许人，王肖坐在了黑板前面，低着头听完了上午的课。
下课后等所有人走完后，他才慢慢起身离开教室，现在食堂一定挤满了人，他朝着图书馆走了几步，然后加快了脚步，在图书馆找了十几分钟的书籍，始终没有抽出一本，就这样不知道过了多久，他从海量书籍中借了几本小说，离开了图书馆，从图书馆往右走，经过一片桃林，在穿过一条小街，就到了南苑，此时已打铃睡觉，路上的人少之又少，一层喜悦蒙上一层凄凉，王肖走进食堂安静的坐在角落吃完了螺蛳粉后，便去教学楼打盹了。</p>
<p>周五下午，王肖顶着一顶鸭帽往南苑走去，上台阶时风太大，刮走了他的帽子，他顿时感觉地中海一阵凉意，但他没有理会急忙去捡起自己的帽子，最近掉发太厉害，而且自己也不想剃寸头，于是先买个帽子遮遮面，从楼梯下来是一楼的饭堂，饭堂两侧开满鲜花，看到王肖不顾一切的样子花儿笑得前仰后合，风开始大声高歌，远远可以看见一丝丝细发在空中欢快的舞动，好像人群中有个鹤立鸡群，金光闪闪的人物出现了，同学们都遮头避面，狂风大声高歌，似乎声音能震碎金光一样，大家都看到了站立中央的王肖，他像一只瘦弱的猴子——抓耳挠腮，四处寻找的动作不禁惹人发笑，一位女同学捡起他的帽子，递给了他，王肖看见她面容平静得吓人，好像什么吓人的表情刚被埋葬一样，他接过帽子，那一瞬间那害怕的嘴脸破土而出——好像死人复活一样，接着他看清了在场所有人的面容，他习惯性地低声说了声“谢谢”，然后带上帽子含着泪水逃离了诈尸的现场，远远还可以听见他们与狂风高歌。</p>
<p>王肖跑到了实验楼一楼，差点进错了厕所，慢慢摘下自己的帽子，慢慢的目光看向了镜子中的自己，尖形的头型两侧残存着一处又一处头发，真似马儿啃的一样，地中海一条条可以数清楚的毛发，好像自身有千斤重，摇摇欲坠，细细看看吧！真的有几分科学家刻板面貌，那浓眉大眼，臃肿大鼻，小嘴肥下颌，一切为什么显得那么的不搭，慢慢的自己也笑了起来，然后便是不知哪来的泪水，泪水扑向味蕾，诉说着往日岁月里所有的不甘与委屈。</p>
<p>一天早上，王肖向班主任请了假，理由是自己要外出就医，但班主任告诉他小病就在校医室看，大病得有校医室的检查证明，王肖想自己的乙肝学校也查不出什么吧！而且自己也不愿意和老师说这件事情，于是下午自己在办公室的时候便又编了一个理由——外出考驾照，老师问，下午的课是专业课还是公选课？王肖诚实的说，是专业课。老师告诉他下次不许挑专业课外出，王肖点了点头，恨不得马上离开这个地方，有那么一刻他觉得自己不属于这里，这里的一切看起来为什么这么讨厌，自己的门没有紧闭，为什么没人前来敲门？
离开学校后，王肖去医院做了检查，又向自己父亲说明了自己的情况，挂断电话后，不自觉的走到国际大厦，大厦旁边有个广告牌，上面印着“乌鸡山欢迎您的攀登！”几个大字，想来也不想回学校，不如去爬山放放松吧！</p>
<p>王肖扯了扯帽子往公交站走去，消失在街道的人海里。</p>
<p>不久公交到达了乌鸡山旅游景点，因为没带学生证自己没办法享受学生价，不得不付高额的原价，乘坐游览车抵达山脚下，王肖没有多想便登了山，历经几个小时，他终于到达了乌鸡山山顶，乌鸡山是衡岭最高的山峰，一千八百八十八米的海拔让王肖觉得此刻自己也有杜甫“一览众山小”的心境。因爬山前没准备食物，等到山顶王肖早已饥肠辘辘，想想也没办法，于是便找一处没人的地方休息，随后竟然睡了起来，在自己的家乡流传这样的说法，人凡在野外犯困，不能在地上睡觉，否则容易招来地狱的黑白无常，但王肖怎么会相信呢！</p>
<p>太阳渐渐脱下发着毒辣光芒的衣服，奔向西边的白云，惹得白云脸上红扑扑的，像一个害羞的小姑娘。
王肖醒来看了手机发现已经很晚了，于是准备下山，乌鸡山南北边路段都可以下山，只是王肖来时是南边，现在自己不知为什么——竟产生一个奇怪的想法——去涉足自己未曾涉足的地方，去走自己从未走过的路，想到这自己为自己接下来的做法不禁自豪起来，心情也好了许多。
冬季太阳南回归线移动，山的北面往往会比南面稍暗些，对于乌鸡山这样高树众多的山来说更为明显，对黑暗的惧怕也许是人类的天性，当这类天性遇到人类所建立起来的理想准则时，一切的反应都显得那么真实。</p>
<p>往北走先绕过一个弯，在下一段陡峭的路段，然后经过一座座灰白色的水泥亭，准备到第一座亭子时，由于树木渐渐变多，夕阳也渐渐袭来，森林里也渐渐地暗淡，一种恐怖气氛由之而生，王肖边走，边加快脚步，差点摔了个跟头，他一抬头——远远一个穿着白色衣服的女子扶着亭子在那边摇扇，仪态端庄高雅，就像是古代富贵门第出来的淑女，可样貌不清，王肖近视严重自然也看不清，起初他觉得那并不是什么女子，可他越是走近，样子越是清晰——突然，后林哗啦一声，王肖大叫一声：“妈呀！”紧接着他回头刚刚的白色女子依然消失，王肖发出颤抖的呼吸声，急忙往山上跑去。</p>
<p>在山顶上还算是明亮，他站在今天“一览众山小”的地方，还没等他缓过气来，一声“轰隆”，山顶坍塌，他随着山石掉了下去。</p>
<h2 id="第二章-乌鸡山神庙">第二章 乌鸡山神庙</h2>
<p>在乌鸡山山脚下流淌着一股清泉，泉水从乌鸡山主峰——鹊连山一座池塘里冒出，池子四周长着各种奇花异草，高大古木，池子流下山脚在一处低洼形成一小滩池子，池子长着碧绿的荷叶，过了花期的池子虽少了几分姿色，但热闹却从未消停。</p>
<p>柏月每次来到这里除了捣衣外，还会观赏观赏清凉的池子，不管秋去冬来，池子外的世界都是热闹的，清晨的鸟鸣，晌午的嬉闹，傍晚的虫鸣，这些声音都在呼唤着这自认为孤寂的池子。</p>
<p>“月儿，看什么呢？”</p>
<p>“六娘，你看这池子多清凉啊！开满荷花的时候，美极了，要是学些诗词歌赋，多想为之吟唱。”</p>
<p>“月儿啊，荷花也就开花的时候，有人来看看，像这样的地方可能就只有你了，而且过了花期你还不忘。”</p>
<p>“不早了，我该回去了，不然爹爹又骂了。”</p>
<p>六娘点了点头，下了石坡，把衣服又过了一遍水，同柏月回了家。</p>
<p>“爹，女儿把您的衣服取回来了”柏月边进门边说道。</p>
<p>老郭爷子从卧榻上起了身，月儿见了想阻止，但他摇了摇手，他从木板上取来了草鞋，又在木板堆砌起的炉火上架了铁锅，顺手抽了对筷子，一手放在瓷器上。</p>
<p>“会不会太麻烦。”郭老接过月儿递过来的衣物，转身放在了卧榻上，接着说道：“下次晒家下面便好。”</p>
<p>“没事的爹，这地儿像个盆似的，如今日落也是来得快，石坡那却非这般，您最近又急着用，还是多备些衣物为好。”</p>
<p>“好好好，来，先吃饭吧！”</p>
<p>不巧此时六娘来到屋外，喊了几声月儿，声也是大，怕是出了事，月儿急忙从屋里走了出来，下了木梯，问道：“六娘出了什么事。”</p>
<p>“月儿，我家那老头的衣服还落在石坡上，现在离不开，他明又急着用……”</p>
<p>“六娘放心，月儿明白，我这就去取来，您安心去忙吧！”</p>
<p>六娘拜谢后便离开了，月儿告诉老郭后，一人便独自前往荷花池边的石坡，出门沿着小河一路向西走，过一座独木桥，在翻过一座山岗，便可见到石坡，沿着曲折蜿蜒的山路，可以看到远处高耸入云的乌鸡山。</p>
<p>虽然海拔仅有一千多米，但站在底处却依然能感受到其威严之势，还有那风雨雕琢的美丽风光，得天独厚的喀斯特地貌与之雅丹地貌相互碰撞，相互囊嵌，孕育出了这美丽的乌鸡山。</p>
<p>乌鸡山远远的看去像一条鲸鱼头上顶着一座似鸡的岛屿，因其色泽以灰黑色为多，古代帝王将之成为“乌鸡”山，但生活于当地的百姓则认为这是乌仙下饭的征兆，在其传说中，乌仙坐骑是只由鸡羽化为凤的仙兽，乌仙骑之游历四方，不想一日仙兽在凡间一处产下一子，从此便定居下来，没有再回到仙界，仙兽因其独特，常替百姓驱赶妖魔，百姓们为了感谢仙兽，便在他的山脚下建立一座庙以共答谢。</p>
<p>柏月从石坡取回衣物，正要往回赶，就在这时，林中蹿出了一头野猪，吓了柏月一跳，急得她手中的衣服也掉了下来，柏月快速拾起衣服。
野猪见到人后，没有跑反而放慢了脚步——突然，迅猛的朝柏月袭来，柏月惊慌之下翻落水中，平时也只是在水浅处洗衣，不像六娘她们那般水性很好，像只卷曲的虫也是害苦了她呀！</p>
<p>月亮渐渐攀上高空，披上明亮的银黄色外衣。</p>
<p>石坡四周举满了一根根火把，月儿能否找到便要看看这火光了，有人在水边发现了掉落的衣服，他们还发现了野猪的脚印，一时间各种猜疑打成一片，老郭第一站了出来。</p>
<p>“虽月儿平日安静，不善走动，但对付野猪还是有法子，可别忘了咋家的独门绝技。”老郭说道。</p>
<p>“老郭说的是，可如果没被野猪衔去，柏月又去了哪呢？”</p>
<p>众人皆疑惑，就在这时一人发现衣服不远处的河水岸上有人的脚印。</p>
<p>“这恐怕是挣扎时留下的，不像是野兽的足迹。”</p>
<p>“不好，快随我往下游找。”众人同老郭一同赶往了下游。</p>
<p>可往下找了许久依旧不见尸体，众人边走边喊也不见柏月回应。</p>
<p>王肖远远听到有人叫喊，心想有救了有救了，从刚才手机没信号，到尝试各种呼叫，再到现在有人，王肖此刻才知道在荒郊野外，没网没信号手机被削得这么厉害，好不容易找到了一个山洞落脚，奈何贝爷技能学太少，什么野外求生的知识都没有，现在好饿啊，真的要饿死了！</p>
<p>他长吸了一口气，这才大声喊到“救命啊！救命啊！”</p>
<p>老郭等人一会人顿了一下，细细一听——一路人喊救命——可怎么是个男儿声。</p>
<p>“老郭，你听到了吧！”</p>
<p>“嗯，听到了，叫得如此震耳，想必是有大麻烦，你们先一行人前去看看，我得先找到月儿。”</p>
<p>众人赞同后便兵分两路，王肖看到火把正快速想他靠近，于是他也迈开腿奔向了火把——那一定是希望之光了——“刚才便是你在喊救命？”王肖与村民们见面会，带头的大胡子疑惑的说道。</p>
<p>王肖一惊，啊！搁这cosplay还是拍戏呐？</p>
<p>“叔叔阿姨你好！我爬山不小心摔了，迷路了不知道怎么回去了。”王肖说道。</p>
<p>“啊，爬山？！”一人疑惑道。</p>
<p>“不知兄台方才为何大声喊救命，想是遇到什么麻烦了，原来便是这是？”</p>
<p>“是的，不好意思。”王肖说道。</p>
<p>村民决定现代他下山，往后在想办法送他回去，而王肖只想马上下山，然后坐公交离开。</p>
<p>正要走时，王肖说道：“对了，我今天傍晚的时候，在河边看到了一个女孩……”</p>
<p>“啊！难不成是月儿。”</p>
<p>众人来到山洞里，一看——果真是月儿，一位老者上前摸了摸脉象，点了点头，众人这才舒了口气，胡子大哥说道：“快，把这个消息告诉老郭？”</p>
<p>一人跑了出去，看来是报消息的，奇怪了，这帮人是拍戏吗？话里话外奇奇怪怪的，还有“老郭”，这是什么人呢？</p>
<p>下山洞的时候，王肖本来想问是不是在拍戏，走多久可以走到门票口，这么晚了还有没有游览车送下山……但他一句都没问上。</p>
<p>走到河边后，老郭在岸边来回踱步，看到胡子大哥一行人后，急忙上前。</p>
<p>“月儿呢？月儿呢？”老郭急忙问道。</p>
<p>“子佩背着的。”胡子大哥说道。</p>
<p>老郭重重的说了声“多谢！”胡子大哥告诉他是王肖救了月儿，老郭在王肖前又再次道谢。</p>
<p>“多谢这位公子救小女一命。”老郭说道。</p>
<p>听着很奇怪，但王肖还是回了一句，不客气。从见面到现在王肖都觉得怪怪的，但自己又没处说。</p>
<p>回去的路上，子佩后的一位男子问道：“不知兄台是哪方人士，为何到此处游山玩水，还迷了路l”</p>
<p>“我是百泽那边的人，在衡岭这边读书，”王肖淹了咽口水，不由自主的表现出无语的表情：“想来乌鸡山散散心，下山的时候山塌了，醒来就在河边了。”</p>
<p>“百泽？是何地，怎没听说过。”男子问了问子佩：“子佩，你读书多，你知道吗？”</p>
<p>子佩摇了摇头，有说自己不知道这个地方。</p>
<p>“此处确实是衡岭，只不过你放才说在次处读书……此处多山石野兽，难不成你拜在刘夫子门下吗？”</p>
<p>“比起这个，我更想问他为何衣着异样，怕是乡外人士吧？”胡子大哥说道。</p>
<p>“我确实是外地的，只是在这个地方读书。”王肖说道，王肖像多说一句但还是咽了下去。</p>
<p>“你这衣物看来制作精良，怕是贵门弟子吧！怎会在这穷乡僻壤读书？”那男子有问道。</p>
<p>“乡檀，怎能如此无礼，这位小兄弟救了月儿，我们该感谢他，你怎在这一股劲盘问，有失礼数。”子佩说道。</p>
<p>乡檀见子佩如此说道，虽有些不服气，却也在理，于是便没有多问什么。</p>
<p>其实，王肖刚想问来着，子佩这么说，他又抛掉了刚才的想法，只想快点回家。</p>
<p>回到村子后，王肖在想着怎么没带他下山，反而还带回了这么简陋的村子——应该说是这剧组搭建的，这时候村民们都在想着，怎么给王肖安排住宿，众人商讨后决定先留在胡子大哥家，正要带王肖过去。</p>
<p>“唉！你们不带我下山吗？或者说给我指条路我自己下山。”王肖问道。</p>
<p>众人投来疑惑的目光，“小兄弟，这便是山下了，不是山下那水又怎会如此平静”胡子大哥说道。</p>
<p>火把远远可以找到远处的河水，河水在火把的照耀下，波光粼粼，宛若金鱼的鳞片。</p>

<div class="expand">
    <input type="checkbox" id="R-expand-a93c8a2c5ccb62bbe4f207738e3eeee3" aria-controls="R-expandcontent-a93c8a2c5ccb62bbe4f207738e3eeee3" >
    <label class="expand-label" for="R-expand-a93c8a2c5ccb62bbe4f207738e3eeee3" >
        <i class="fas fa-chevron-down"></i>
        <i class="fas fa-chevron-right"></i>
        展开
    </label>
    <div id="R-expandcontent-a93c8a2c5ccb62bbe4f207738e3eeee3" class="expand-content">
<p>
预知后事如何……等我更新吧！</div>
</div>

            <footer class="footline">
<div class=" taxonomy-categories term-list cstyle  " title="Categories" style="--VARIABLE-TAGS-BG-color: var(--INTERNAL-TAG-BG-color);">
  <i class="fa-fw fas fa-layer-group"></i>
  <ul>
    <li><a class="term-link" href="./categories/x1-%E5%B0%8F%E8%AF%B4/">X1-小说</a></li>
  </ul>
</div>
            </footer>
          </article>

          </section>
          </section>
        </div>
      </main>
    </div>
    <script src="./js/clipboard.min.js?1706892120" defer></script>
    <script src="./js/perfect-scrollbar.min.js?1706892120" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="./js/mathjax/tex-mml-chtml.js?1706892120"></script>
    <script src="./js/d3/d3-color.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-dispatch.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-drag.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-ease.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-interpolate.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-selection.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-timer.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-transition.min.js?1706892120" defer></script>
    <script src="./js/d3/d3-zoom.min.js?1706892120" defer></script>
    <script src="./js/js-yaml.min.js?1706892120" defer></script>
    <script src="./js/mermaid.min.js?1706892120" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{}");
    </script>
    <script src="./js/theme.js?1706892120" defer></script>
  </body>
</html>
